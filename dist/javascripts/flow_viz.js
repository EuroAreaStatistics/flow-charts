!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i,r,o;i=n(5),r=n(3),i.$=r,o=n(32),window.FlowViz||(window.FlowViz={}),window.FlowViz.renderPlayer=o},function(t,e,n){var i;(function(t,r){(function(){function o(t,e){if(t!==e){var n=null===t,i=t===A,r=t===t,o=null===e,s=e===A,a=e===e;if(t>e&&!o||!r||n&&!s&&a||i&&a)return 1;if(t<e&&!n||!a||o&&!i&&r||s&&r)return-1}return 0}function s(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function a(t,e,n){if(e!==e)return y(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function l(t){return"function"==typeof t||!1}function u(t){return null==t?"":t+""}function c(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function f(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var i=-1,r=t.criteria,s=e.criteria,a=r.length,l=n.length;++i<a;){var u=o(r[i],s[i]);if(u){if(i>=l)return u;var c=n[i];return u*("asc"===c||c===!0?1:-1)}}return t.index-e.index}function d(t){return Vt[t]}function g(t){return Kt[t]}function m(t,e,n){return e?t=Gt[t]:n&&(t=Jt[t]),"\\"+t}function v(t){return"\\"+Jt[t]}function y(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function x(t){return!!t&&"object"==typeof t}function b(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function w(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=V,o[++r]=n);return o}function _(t,e){for(var n,i=-1,r=t.length,o=-1,s=[];++i<r;){var a=t[i],l=e?e(a,i,t):a;i&&n===l||(n=l,s[++o]=a)}return s}function T(t){for(var e=-1,n=t.length;++e<n&&b(t.charCodeAt(e)););return e}function k(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function C(t){return Xt[t]}function S(t){function e(t){if(x(t)&&!Ea(t)&&!(t instanceof r)){if(t instanceof i)return t;if(es.call(t,"__chain__")&&es.call(t,"__wrapped__"))return pi(t)}return new i(t)}function n(){}function i(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ls,this.__views__=[]}function b(){var t=new r(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Z(){if(this.__filtered__){var t=new r(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function it(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ea(t),i=e<0,r=n?t.length:0,o=Vn(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,p=Ts(l,this.__takeCount__);if(!n||r<q||r==l&&p==l)return nn(i&&n?t.reverse():t,this.__actions__);var d=[];t:for(;l--&&f<p;){u+=e;for(var g=-1,m=t[u];++g<h;){var v=c[g],y=v.iteratee,x=v.type,b=y(m);if(x==W)m=b;else if(!b){if(x==$)continue t;break t}}d[f++]=m}return d}function ot(){this.__data__={}}function Vt(t){return this.has(t)&&delete this.__data__[t]}function Kt(t){return"__proto__"==t?A:this.__data__[t]}function Xt(t){return"__proto__"!=t&&es.call(this.__data__,t)}function Yt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Gt(t){var e=t?t.length:0;for(this.data={hash:vs(null),set:new hs};e--;)this.push(t[e])}function Jt(t,e){var n=t.data,i="string"==typeof e||Pr(e)?n.set.has(e):n.hash[e];return i?0:-1}function Qt(t){var e=this.data;"string"==typeof t||Pr(t)?e.set.add(t):e.hash[t]=!0}function Zt(t,e){for(var n=-1,i=t.length,r=-1,o=e.length,s=Ho(i+o);++n<i;)s[n]=t[n];for(;++r<o;)s[n++]=e[r];return s}function te(t,e){var n=-1,i=t.length;for(e||(e=Ho(i));++n<i;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function ne(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function se(t,e,n,i){for(var r=-1,o=t.length,s=i,a=s;++r<o;){var l=t[r],u=+e(l);n(u,s)&&(s=u,a=l)}return a}function ae(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function le(t,e){for(var n=-1,i=t.length,r=Ho(i);++n<i;)r[n]=e(t[n],n,t);return r}function ue(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ce(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function he(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function fe(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}function de(t,e){return t===A?e:t}function ge(t,e,n,i){return t!==A&&es.call(i,n)?t:e}function me(t,e,n){for(var i=-1,r=za(e),o=r.length;++i<o;){var s=r[i],a=t[s],l=n(a,e[s],s,t,e);(l===l?l===a:a!==a)&&(a!==A||s in t)||(t[s]=l)}return t}function ve(t,e){return null==e?t:xe(e,za(e),t)}function ye(t,e){for(var n=-1,i=null==t,r=!i&&Jn(t),o=r?t.length:0,s=e.length,a=Ho(s);++n<s;){var l=e[n];r?a[n]=Qn(l,o)?t[l]:A:a[n]=i?A:t[l]}return a}function xe(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function be(t,e,n){var i=typeof t;return"function"==i?e===A?t:sn(t,e,n):null==t?Lo:"object"==i?Fe(t):e===A?Po(t):ze(t,e)}function we(t,e,n,i,r,o,s){var a;if(n&&(a=r?n(t,i,r):n(t)),a!==A)return a;if(!Pr(t))return t;var l=Ea(t);if(l){if(a=Kn(t),!e)return te(t,a)}else{var u=is.call(t),c=u==Q;if(u!=et&&u!=K&&(!c||r))return Ut[u]?Yn(t,u,e):r?t:{};if(a=Xn(c?{}:t),!e)return ve(a,t)}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==t)return s[h];return o.push(t),s.push(a),(l?ee:Ie)(t,function(i,r){a[r]=we(i,e,n,r,t,o,s)}),a}function _e(t,e,n){if("function"!=typeof t)throw new Go(U);return fs(function(){t.apply(A,n)},e)}function Te(t,e){var n=t?t.length:0,i=[];if(!n)return i;var r=-1,o=$n(),s=o==a,l=s&&e.length>=q?gn(e):null,u=e.length;l&&(o=Jt,s=!1,e=l);t:for(;++r<n;){var c=t[r];if(s&&c===c){for(var h=u;h--;)if(e[h]===c)continue t;i.push(c)}else o(e,c,0)<0&&i.push(c)}return i}function ke(t,e){var n=!0;return Rs(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Ce(t,e,n,i){var r=i,o=r;return Rs(t,function(t,s,a){var l=+e(t,s,a);(n(l,r)||l===i&&l===o)&&(r=l,o=t)}),o}function Se(t,e,n,i){var r=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>r?0:r+n),i=i===A||i>r?r:+i||0,i<0&&(i+=r),r=n>i?0:i>>>0,n>>>=0;n<r;)t[n++]=e;return t}function Ae(t,e){var n=[];return Rs(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Le(t,e,n,i){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=i?n:t,!1}),r}function Ee(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var s=t[r];x(s)&&Jn(s)&&(n||Ea(s)||Cr(s))?e?Ee(s,e,n,i):ue(i,s):n||(i[i.length]=s)}return i}function Ne(t,e){return js(t,e,to)}function Ie(t,e){return js(t,e,za)}function Oe(t,e){return Fs(t,e,za)}function Me(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];Mr(t[s])&&(o[++r]=s)}return o}function Pe(t,e,n){if(null!=t){n!==A&&n in hi(t)&&(e=[n]);for(var i=0,r=e.length;null!=t&&i<r;)t=t[e[i++]];return i&&i==r?t:A}}function De(t,e,n,i,r,o){return t===e||(null==t||null==e||!Pr(t)&&!x(e)?t!==t&&e!==e:Re(t,e,De,n,i,r,o))}function Re(t,e,n,i,r,o,s){var a=Ea(t),l=Ea(e),u=X,c=X;a||(u=is.call(t),u==K?u=et:u!=et&&(a=$r(t))),l||(c=is.call(e),c==K?c=et:c!=et&&(l=$r(e)));var h=u==et,f=c==et,p=u==c;if(p&&!a&&!h)return Fn(t,e,u);if(!r){var d=h&&es.call(t,"__wrapped__"),g=f&&es.call(e,"__wrapped__");if(d||g)return n(d?t.value():t,g?e.value():e,i,r,o,s)}if(!p)return!1;o||(o=[]),s||(s=[]);for(var m=o.length;m--;)if(o[m]==t)return s[m]==e;o.push(t),s.push(e);var v=(a?jn:zn)(t,e,n,i,r,o,s);return o.pop(),s.pop(),v}function Be(t,e,n){var i=e.length,r=i,o=!n;if(null==t)return!r;for(t=hi(t);i--;){var s=e[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){s=e[i];var a=s[0],l=t[a],u=s[1];if(o&&s[2]){if(l===A&&!(a in t))return!1}else{var c=n?n(l,u,a):A;if(!(c===A?De(u,l,n,!0):c))return!1}}return!0}function je(t,e){var n=-1,i=Jn(t)?Ho(t.length):[];return Rs(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Fe(t){var e=Wn(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null!=t&&(t[n]===i&&(i!==A||n in hi(t)))}}return function(t){return Be(t,e)}}function ze(t,e){var n=Ea(t),i=ti(t)&&ii(e),r=t+"";return t=fi(t),function(o){if(null==o)return!1;var s=r;if(o=hi(o),(n||!i)&&!(s in o)){if(o=1==t.length?o:Pe(o,Xe(t,0,-1)),null==o)return!1;s=Si(t),o=hi(o)}return o[s]===e?e!==A||s in o:De(e,o[s],A,!0)}}function He(t,e,n,i,r){if(!Pr(t))return t;var o=Jn(e)&&(Ea(e)||$r(e)),s=o?A:za(e);return ee(s||e,function(a,l){if(s&&(l=a,a=e[l]),x(a))i||(i=[]),r||(r=[]),qe(t,e,l,He,n,i,r);else{var u=t[l],c=n?n(u,a,l,t,e):A,h=c===A;h&&(c=a),c===A&&(!o||l in t)||!h&&(c===c?c===u:u!==u)||(t[l]=c)}}),t}function qe(t,e,n,i,r,o,s){for(var a=o.length,l=e[n];a--;)if(o[a]==l)return void(t[n]=s[a]);var u=t[n],c=r?r(u,l,n,t,e):A,h=c===A;h&&(c=l,Jn(l)&&(Ea(l)||$r(l))?c=Ea(u)?u:Jn(u)?te(u):[]:zr(l)||Cr(l)?c=Cr(u)?Xr(u):zr(u)?u:{}:h=!1),o.push(l),s.push(c),h?t[n]=i(c,l,r,o,s):(c===c?c!==u:u===u)&&(t[n]=c)}function $e(t){return function(e){return null==e?A:e[t]}}function We(t){var e=t+"";return t=fi(t),function(n){return Pe(n,t,e)}}function Ue(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&Qn(i)){var r=i;ps.call(t,i,1)}}return t}function Ve(t,e){return t+ys(Ss()*(e-t+1))}function Ke(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function Xe(t,e,n){var i=-1,r=t.length;e=null==e?0:+e||0,e<0&&(e=-e>r?0:r+e),n=n===A||n>r?r:+n||0,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Ho(r);++i<r;)o[i]=t[i+e];return o}function Ye(t,e){var n;return Rs(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Ge(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Je(t,e,n){var i=Hn(),r=-1;e=le(e,function(t){return i(t)});var o=je(t,function(t){var n=le(e,function(e){return e(t)});return{criteria:n,index:++r,value:t}});return Ge(o,function(t,e){return p(t,e,n)})}function Qe(t,e){var n=0;return Rs(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function Ze(t,e){var n=-1,i=$n(),r=t.length,o=i==a,s=o&&r>=q,l=s?gn():null,u=[];l?(i=Jt,o=!1):(s=!1,l=e?[]:u);t:for(;++n<r;){var c=t[n],h=e?e(c,n,t):c;if(o&&c===c){for(var f=l.length;f--;)if(l[f]===h)continue t;e&&l.push(h),u.push(c)}else i(l,h,0)<0&&((e||s)&&l.push(h),u.push(c))}return u}function tn(t,e){for(var n=-1,i=e.length,r=Ho(i);++n<i;)r[n]=t[e[n]];return r}function en(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Xe(t,i?0:o,i?o+1:r):Xe(t,i?o+1:0,i?r:o)}function nn(t,e){var n=t;n instanceof r&&(n=n.value());for(var i=-1,o=e.length;++i<o;){var s=e[i];n=s.func.apply(s.thisArg,ue([n],s.args))}return n}function rn(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&r<=Is){for(;i<r;){var o=i+r>>>1,s=t[o];(n?s<=e:s<e)&&null!==s?i=o+1:r=o}return r}return on(t,e,Lo,n)}function on(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!==e,a=null===e,l=e===A;r<o;){var u=ys((r+o)/2),c=n(t[u]),h=c!==A,f=c===c;if(s)var p=f||i;else p=a?f&&h&&(i||null!=c):l?f&&(i||h):null!=c&&(i?c<=e:c<e);p?r=u+1:o=u}return Ts(o,Ns)}function sn(t,e,n){if("function"!=typeof t)return Lo;if(e===A)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function an(t){var e=new ss(t.byteLength),n=new ds(e);return n.set(new ds(t)),e}function ln(t,e,n){for(var i=n.length,r=-1,o=_s(t.length-i,0),s=-1,a=e.length,l=Ho(a+o);++s<a;)l[s]=e[s];for(;++r<i;)l[n[r]]=t[r];for(;o--;)l[s++]=t[r++];return l}function un(t,e,n){for(var i=-1,r=n.length,o=-1,s=_s(t.length-r,0),a=-1,l=e.length,u=Ho(s+l);++o<s;)u[o]=t[o];for(var c=o;++a<l;)u[c+a]=e[a];for(;++i<r;)u[c+n[i]]=t[o++];return u}function cn(t,e){return function(n,i,r){var o=e?e():{};if(i=Hn(i,r,3),Ea(n))for(var s=-1,a=n.length;++s<a;){var l=n[s];t(o,l,i(l,s,n),n)}else Rs(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function hn(t){return vr(function(e,n){var i=-1,r=null==e?0:n.length,o=r>2?n[r-2]:A,s=r>2?n[2]:A,a=r>1?n[r-1]:A;for("function"==typeof o?(o=sn(o,a,5),r-=2):(o="function"==typeof a?a:A,r-=o?1:0),s&&Zn(n[0],n[1],s)&&(o=r<3?A:o,r=1);++i<r;){var l=n[i];l&&t(e,l,o)}return e})}function fn(t,e){return function(n,i){var r=n?qs(n):0;if(!ni(r))return t(n,i);for(var o=e?r:-1,s=hi(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function pn(t){return function(e,n,i){for(var r=hi(e),o=i(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var l=o[a];if(n(r[l],l,r)===!1)break}return e}}function dn(t,e){function n(){var r=this&&this!==ie&&this instanceof n?i:t;return r.apply(e,arguments)}var i=vn(t);return n}function gn(t){return vs&&hs?new Gt(t):null}function mn(t){return function(e){for(var n=-1,i=Co(co(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ds(t.prototype),i=t.apply(n,e);return Pr(i)?i:n}}function yn(t){function e(n,i,r){r&&Zn(n,i,r)&&(i=A);var o=Bn(n,t,A,A,A,A,A,i);return o.placeholder=e.placeholder,o}return e}function xn(t,e){return vr(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(A,n))})}function bn(t,e){return function(n,i,r){if(r&&Zn(n,i,r)&&(i=A),i=Hn(i,r,3),1==i.length){n=Ea(n)?n:ci(n);var o=se(n,i,t,e);if(!n.length||o!==e)return o}return Ce(n,i,t,e)}}function wn(t,e){return function(n,i,r){if(i=Hn(i,r,3),Ea(n)){var o=s(n,i,e);return o>-1?n[o]:A}return Le(n,i,t)}}function _n(t){return function(e,n,i){return e&&e.length?(n=Hn(n,i,3),s(e,n,t)):-1}}function Tn(t){return function(e,n,i){return n=Hn(n,i,3),Le(e,n,t,!0)}}function kn(t){return function(){for(var e,n=arguments.length,r=t?n:-1,o=0,s=Ho(n);t?r--:++r<n;){var a=s[o++]=arguments[r];if("function"!=typeof a)throw new Go(U);!e&&i.prototype.thru&&"wrapper"==qn(a)&&(e=new i([],!0))}for(r=e?-1:n;++r<n;){a=s[r];var l=qn(a),u="wrapper"==l?Hs(a):A;e=u&&ei(u[0])&&u[1]==(R|O|P|B)&&!u[4].length&&1==u[9]?e[qn(u[0])].apply(e,u[3]):1==a.length&&ei(a)?e[l]():e.thru(a)}return function(){var t=arguments,i=t[0];if(e&&1==t.length&&Ea(i)&&i.length>=q)return e.plant(i).value();for(var r=0,o=n?s[r].apply(this,t):i;++r<n;)o=s[r].call(this,o);return o}}}function Cn(t,e){return function(n,i,r){return"function"==typeof i&&r===A&&Ea(n)?t(n,i):e(n,sn(i,r,3))}}function Sn(t){return function(e,n,i){return"function"==typeof n&&i===A||(n=sn(n,i,3)),t(e,n,to)}}function An(t){return function(e,n,i){return"function"==typeof n&&i===A||(n=sn(n,i,3)),t(e,n)}}function Ln(t){return function(e,n,i){var r={};return n=Hn(n,i,3),Ie(e,function(e,i,o){var s=n(e,i,o);i=t?s:i,e=t?e:s,r[i]=e}),r}}function En(t){return function(e,n,i){return e=u(e),(t?e:"")+Mn(e,n,i)+(t?"":e)}}function Nn(t){var e=vr(function(n,i){var r=w(i,e.placeholder);return Bn(n,t,A,i,r)});return e}function In(t,e){return function(n,i,r,o){var s=arguments.length<3;return"function"==typeof i&&o===A&&Ea(n)?t(n,i,r,s):Ke(n,Hn(i,o,4),r,s,e)}}function On(t,e,n,i,r,o,s,a,l,u){function c(){for(var y=arguments.length,x=y,b=Ho(y);x--;)b[x]=arguments[x];if(i&&(b=ln(b,i,r)),o&&(b=un(b,o,s)),d||m){var _=c.placeholder,T=w(b,_);if(y-=T.length,y<u){var k=a?te(a):A,C=_s(u-y,0),S=d?T:A,L=d?A:T,I=d?b:A,O=d?A:b;e|=d?P:D,e&=~(d?D:P),g||(e&=~(E|N));var M=[t,e,n,I,S,O,L,k,l,C],R=On.apply(A,M);return ei(t)&&$s(R,M),R.placeholder=_,R}}var B=f?n:this,j=p?B[t]:t;return a&&(b=li(b,a)),h&&l<b.length&&(b.length=l),this&&this!==ie&&this instanceof c&&(j=v||vn(t)),j.apply(B,b)}var h=e&R,f=e&E,p=e&N,d=e&O,g=e&I,m=e&M,v=p?A:vn(t);return c}function Mn(t,e,n){var i=t.length;if(e=+e,i>=e||!bs(e))return"";var r=e-i;return n=null==n?" ":n+"",vo(n,ms(r/n.length)).slice(0,r)}function Pn(t,e,n,i){function r(){for(var e=-1,a=arguments.length,l=-1,u=i.length,c=Ho(u+a);++l<u;)c[l]=i[l];for(;a--;)c[l++]=arguments[++e];var h=this&&this!==ie&&this instanceof r?s:t;return h.apply(o?n:this,c)}var o=e&E,s=vn(t);return r}function Dn(t){var e=Uo[t];return function(t,n){return n=n===A?0:+n||0,n?(n=us(10,n),e(t*n)/n):e(t)}}function Rn(t){return function(e,n,i,r){var o=Hn(i);return null==i&&o===be?rn(e,n,t):on(e,n,o(i,r,1),t)}}function Bn(t,e,n,i,r,o,s,a){var l=e&N;if(!l&&"function"!=typeof t)throw new Go(U);var u=i?i.length:0;if(u||(e&=~(P|D),i=r=A),u-=r?r.length:0,e&D){var c=i,h=r;i=r=A}var f=l?A:Hs(t),p=[t,e,n,i,r,c,h,o,s,a];if(f&&(ri(p,f),e=p[1],a=p[9]),p[9]=null==a?l?0:t.length:_s(a-u,0)||0,e==E)var d=dn(p[0],p[2]);else d=e!=P&&e!=(E|P)||p[4].length?On.apply(A,p):Pn.apply(A,p);var g=f?zs:$s;return g(d,p)}function jn(t,e,n,i,r,o,s){var a=-1,l=t.length,u=e.length;if(l!=u&&!(r&&u>l))return!1;for(;++a<l;){var c=t[a],h=e[a],f=i?i(r?h:c,r?c:h,a):A;if(f!==A){if(f)continue;return!1}if(r){if(!fe(e,function(t){return c===t||n(c,t,i,r,o,s)}))return!1}else if(c!==h&&!n(c,h,i,r,o,s))return!1}return!0}function Fn(t,e,n){switch(n){case Y:case G:return+t==+e;case J:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case nt:case rt:return t==e+""}return!1}function zn(t,e,n,i,r,o,s){var a=za(t),l=a.length,u=za(e),c=u.length;if(l!=c&&!r)return!1;for(var h=l;h--;){var f=a[h];if(!(r?f in e:es.call(e,f)))return!1}for(var p=r;++h<l;){f=a[h];var d=t[f],g=e[f],m=i?i(r?g:d,r?d:g,f):A;if(!(m===A?n(d,g,i,r,o,s):m))return!1;p||(p="constructor"==f)}if(!p){var v=t.constructor,y=e.constructor;if(v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Hn(t,n,i){var r=e.callback||So;return r=r===So?be:r,i?r(t,n,i):r}function qn(t){for(var e=t.name,n=Ps[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function $n(t,n,i){var r=e.indexOf||ki;return r=r===ki?a:r,t?r(t,n,i):r}function Wn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=ii(e[n][1]);return e}function Un(t,e){var n=null==t?A:t[e];return Br(n)?n:A}function Vn(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Ts(e,t+s);break;case"takeRight":t=_s(t,e-s)}}return{start:t,end:e}}function Kn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&es.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Xn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ko),new e}function Yn(t,e,n){var i=t.constructor;switch(e){case st:return an(t);case Y:case G:return new i(+t);case at:case lt:case ut:case ct:case ht:case ft:case pt:case dt:case gt:var r=t.buffer;return new i(n?an(r):r,t.byteOffset,t.length);case tt:case rt:return new i(t);case nt:var o=new i(t.source,Pt.exec(t));o.lastIndex=t.lastIndex}return o}function Gn(t,e,n){null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:Pe(t,Xe(e,0,-1)),e=Si(e));var i=null==t?t:t[e];return null==i?A:i.apply(t,n)}function Jn(t){return null!=t&&ni(qs(t))}function Qn(t,e){return t="number"==typeof t||Bt.test(t)?+t:-1,e=null==e?Os:e,t>-1&&t%1==0&&t<e}function Zn(t,e,n){if(!Pr(n))return!1;var i=typeof e;if("number"==i?Jn(n)&&Qn(e,n.length):"string"==i&&e in n){var r=n[e];return t===t?t===r:r!==r}return!1}function ti(t,e){var n=typeof t;if("string"==n&&At.test(t)||"number"==n)return!0;if(Ea(t))return!1;var i=!St.test(t);return i||null!=e&&t in hi(e)}function ei(t){var n=qn(t);if(!(n in r.prototype))return!1;var i=e[n];if(t===i)return!0;var o=Hs(i);return!!o&&t===o[0]}function ni(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Os}function ii(t){return t===t&&!Pr(t)}function ri(t,e){var n=t[1],i=e[1],r=n|i,o=r<R,s=i==R&&n==O||i==R&&n==B&&t[7].length<=e[8]||i==(R|B)&&n==O;if(!o&&!s)return t;i&E&&(t[2]=e[2],r|=n&E?0:I);var a=e[3];if(a){var l=t[3];t[3]=l?ln(l,a,e[4]):te(a),t[4]=l?w(t[3],V):te(e[4])}return a=e[5],a&&(l=t[5],t[5]=l?un(l,a,e[6]):te(a),t[6]=l?w(t[5],V):te(e[6])),a=e[7],a&&(t[7]=te(a)),i&R&&(t[8]=null==t[8]?e[8]:Ts(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function oi(t,e){return t===A?e:Na(t,e,oi)}function si(t,e){t=hi(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function ai(t,e){var n={};return Ne(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function li(t,e){for(var n=t.length,i=Ts(e.length,n),r=te(t);i--;){var o=e[i];t[i]=Qn(o,n)?r[o]:A}return t}function ui(t){for(var e=to(t),n=e.length,i=n&&t.length,r=!!i&&ni(i)&&(Ea(t)||Cr(t)),o=-1,s=[];++o<n;){var a=e[o];(r&&Qn(a,i)||es.call(t,a))&&s.push(a)}return s}function ci(t){return null==t?[]:Jn(t)?Pr(t)?t:Ko(t):oo(t)}function hi(t){return Pr(t)?t:Ko(t)}function fi(t){if(Ea(t))return t;var e=[];return u(t).replace(Lt,function(t,n,i,r){e.push(i?r.replace(Ot,"$1"):n||t)}),e}function pi(t){return t instanceof r?t.clone():new i(t.__wrapped__,t.__chain__,te(t.__actions__))}function di(t,e,n){e=(n?Zn(t,e,n):null==e)?1:_s(ys(e)||1,1);for(var i=0,r=t?t.length:0,o=-1,s=Ho(ms(r/e));i<r;)s[++o]=Xe(t,i,i+=e);return s}function gi(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r}function mi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),Xe(t,e<0?0:e)):[]}function vi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Xe(t,0,e<0?0:e)):[]}function yi(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!0,!0):[]}function xi(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!0):[]}function bi(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Zn(t,e,n)&&(n=0,i=r),Se(t,e,n,i)):[]}function wi(t){return t?t[0]:A}function _i(t,e,n){var i=t?t.length:0;return n&&Zn(t,e,n)&&(e=!1),i?Ee(t,e):[]}function Ti(t){var e=t?t.length:0;return e?Ee(t,!0):[]}function ki(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?_s(i+n,0):n;else if(n){var r=rn(t,e);return r<i&&(e===e?e===t[r]:t[r]!==t[r])?r:-1}return a(t,e,n||0)}function Ci(t){return vi(t,1)}function Si(t){var e=t?t.length:0;return e?t[e-1]:A}function Ai(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?_s(i+n,0):Ts(n||0,i-1))+1;else if(n){r=rn(t,e,!0)-1;var o=t[r];return(e===e?e===o:o!==o)?r:-1}if(e!==e)return y(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function Li(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=$n(),r=t.length;++n<r;)for(var o=0,s=t[n];(o=i(e,s,o))>-1;)ps.call(e,o,1);return e}function Ei(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],s=t.length;for(e=Hn(e,n,3);++r<s;){var a=t[r];e(a,r,t)&&(i.push(a),o.push(r))}return Ue(t,o),i}function Ni(t){return mi(t,1)}function Ii(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Zn(t,e,n)&&(e=0,n=i),Xe(t,e,n)):[]}function Oi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),Xe(t,0,e<0?0:e)):[]}function Mi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Xe(t,e<0?0:e)):[]}function Pi(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!1,!0):[]}function Di(t,e,n){return t&&t.length?en(t,Hn(e,n,3)):[]}function Ri(t,e,n,i){var r=t?t.length:0;if(!r)return[];null!=e&&"boolean"!=typeof e&&(i=n,n=Zn(t,e,i)?A:e,e=!1);var o=Hn();return null==n&&o===be||(n=o(n,i,3)),e&&$n()==a?_(t,n):Ze(t,n)}function Bi(t){if(!t||!t.length)return[];var e=-1,n=0;t=ae(t,function(t){if(Jn(t))return n=_s(t.length,n),!0});for(var i=Ho(n);++e<n;)i[e]=le(t,$e(e));return i}function ji(t,e,n){var i=t?t.length:0;if(!i)return[];var r=Bi(t);return null==e?r:(e=sn(e,n,4),le(r,function(t){return ce(t,e,A,!0)}))}function Fi(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Jn(n))var i=i?ue(Te(i,n),Te(n,i)):n}return i?Ze(i):[]}function zi(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Ea(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function Hi(t){var n=e(t);return n.__chain__=!0,n}function qi(t,e,n){return e.call(n,t),t}function $i(t,e,n){return e.call(n,t)}function Wi(){return Hi(this)}function Ui(){return new i(this.value(),this.__chain__)}function Vi(t){for(var e,i=this;i instanceof n;){var r=pi(i);e?o.__wrapped__=r:e=r;var o=r;i=i.__wrapped__}return o.__wrapped__=t,e}function Ki(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof r){var n=t;return this.__actions__.length&&(n=new r(this)),n=n.reverse(),n.__actions__.push({func:$i,args:[e],thisArg:A}),new i(n,this.__chain__)}return this.thru(e)}function Xi(){return this.value()+""}function Yi(){return nn(this.__wrapped__,this.__actions__)}function Gi(t,e,n){var i=Ea(t)?oe:ke;return n&&Zn(t,e,n)&&(e=A),"function"==typeof e&&n===A||(e=Hn(e,n,3)),i(t,e)}function Ji(t,e,n){var i=Ea(t)?ae:Ae;return e=Hn(e,n,3),i(t,e)}function Qi(t,e){return ra(t,Fe(e))}function Zi(t,e,n,i){var r=t?qs(t):0;return ni(r)||(t=oo(t),r=t.length),n="number"!=typeof n||i&&Zn(e,n,i)?0:n<0?_s(r+n,0):n||0,"string"==typeof t||!Ea(t)&&qr(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&$n(t,e,n)>-1}function tr(t,e,n){var i=Ea(t)?le:je;return e=Hn(e,n,3),i(t,e)}function er(t,e){return tr(t,Po(e))}function nr(t,e,n){var i=Ea(t)?ae:Ae;return e=Hn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function ir(t,e,n){if(n?Zn(t,e,n):null==e){t=ci(t);var i=t.length;return i>0?t[Ve(0,i-1)]:A}var r=-1,o=Kr(t),i=o.length,s=i-1;for(e=Ts(e<0?0:+e||0,i);++r<e;){var a=Ve(r,s),l=o[a];o[a]=o[r],o[r]=l}return o.length=e,o}function rr(t){return ir(t,Ls)}function or(t){var e=t?qs(t):0;return ni(e)?e:za(t).length}function sr(t,e,n){var i=Ea(t)?fe:Ye;return n&&Zn(t,e,n)&&(e=A),"function"==typeof e&&n===A||(e=Hn(e,n,3)),i(t,e)}function ar(t,e,n){if(null==t)return[];n&&Zn(t,e,n)&&(e=A);var i=-1;e=Hn(e,n,3);var r=je(t,function(t,n,r){return{criteria:e(t,n,r),index:++i,value:t}});return Ge(r,f)}function lr(t,e,n,i){return null==t?[]:(i&&Zn(e,n,i)&&(n=A),Ea(e)||(e=null==e?[]:[e]),Ea(n)||(n=null==n?[]:[n]),Je(t,e,n))}function ur(t,e){return Ji(t,Fe(e))}function cr(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Go(U);var n=t;t=e,e=n}return t=bs(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function hr(t,e,n){return n&&Zn(t,e,n)&&(e=A),e=t&&null==e?t.length:_s(+e||0,0),Bn(t,R,A,A,A,A,e)}function fr(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Go(U);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=A),n}}function pr(t,e,n){function i(){p&&as(p),u&&as(u),g=0,u=p=d=A}function r(e,n){n&&as(n),u=p=d=A,e&&(g=ga(),c=t.apply(f,l),p||u||(l=f=A))}function o(){var t=e-(ga()-h);t<=0||t>e?r(d,u):p=fs(o,t)}function s(){r(v,p)}function a(){if(l=arguments,h=ga(),f=this,d=v&&(p||!y),m===!1)var n=y&&!p;else{u||y||(g=h);var i=m-(h-g),r=i<=0||i>m;r?(u&&(u=as(u)),g=h,c=t.apply(f,l)):u||(u=fs(s,i))}return r&&p?p=as(p):p||e===m||(p=fs(o,e)),n&&(r=!0,c=t.apply(f,l)),!r||p||u||(l=f=A),c}var l,u,c,h,f,p,d,g=0,m=!1,v=!0;if("function"!=typeof t)throw new Go(U);if(e=e<0?0:+e||0,n===!0){var y=!0;v=!1}else Pr(n)&&(y=!!n.leading,m="maxWait"in n&&_s(+n.maxWait||0,e),v="trailing"in n?!!n.trailing:v);return a.cancel=i,a}function dr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Go(U);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new dr.Cache,n}function gr(t){if("function"!=typeof t)throw new Go(U);return function(){return!t.apply(this,arguments)}}function mr(t){return fr(2,t)}function vr(t,e){if("function"!=typeof t)throw new Go(U);return e=_s(e===A?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=_s(n.length-e,0),o=Ho(r);++i<r;)o[i]=n[e+i];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var s=Ho(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=o,t.apply(this,s)}}function yr(t){if("function"!=typeof t)throw new Go(U);return function(e){return t.apply(this,e)}}function xr(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Go(U);return n===!1?i=!1:Pr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),pr(t,e,{leading:i,maxWait:+e,trailing:r})}function br(t,e){return e=null==e?Lo:e,Bn(e,P,A,[t],[])}function wr(t,e,n,i){return e&&"boolean"!=typeof e&&Zn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?we(t,e,sn(n,i,1)):we(t,e)}function _r(t,e,n){return"function"==typeof e?we(t,!0,sn(e,n,1)):we(t,!0)}function Tr(t,e){return t>e}function kr(t,e){return t>=e}function Cr(t){return x(t)&&Jn(t)&&es.call(t,"callee")&&!cs.call(t,"callee")}function Sr(t){return t===!0||t===!1||x(t)&&is.call(t)==Y}function Ar(t){return x(t)&&is.call(t)==G}function Lr(t){return!!t&&1===t.nodeType&&x(t)&&!zr(t)}function Er(t){return null==t||(Jn(t)&&(Ea(t)||qr(t)||Cr(t)||x(t)&&Mr(t.splice))?!t.length:!za(t).length)}function Nr(t,e,n,i){n="function"==typeof n?sn(n,i,3):A;var r=n?n(t,e):A;return r===A?De(t,e,n):!!r}function Ir(t){return x(t)&&"string"==typeof t.message&&is.call(t)==J}function Or(t){return"number"==typeof t&&bs(t)}function Mr(t){return Pr(t)&&is.call(t)==Q}function Pr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Dr(t,e,n,i){return n="function"==typeof n?sn(n,i,3):A,Be(t,Wn(e),n)}function Rr(t){return Fr(t)&&t!=+t}function Br(t){return null!=t&&(Mr(t)?os.test(ts.call(t)):x(t)&&Rt.test(t))}function jr(t){return null===t}function Fr(t){return"number"==typeof t||x(t)&&is.call(t)==tt}function zr(t){var e;if(!x(t)||is.call(t)!=et||Cr(t)||!es.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Ne(t,function(t,e){n=e}),n===A||es.call(t,n)}function Hr(t){return Pr(t)&&is.call(t)==nt}function qr(t){return"string"==typeof t||x(t)&&is.call(t)==rt}function $r(t){return x(t)&&ni(t.length)&&!!Wt[is.call(t)]}function Wr(t){return t===A}function Ur(t,e){return t<e}function Vr(t,e){return t<=e}function Kr(t){var e=t?qs(t):0;return ni(e)?e?te(t):[]:oo(t)}function Xr(t){return xe(t,to(t))}function Yr(t,e,n){var i=Ds(t);return n&&Zn(t,e,n)&&(e=A),e?ve(i,e):i}function Gr(t){return Me(t,to(t))}function Jr(t,e,n){var i=null==t?A:Pe(t,fi(e),e+"");return i===A?n:i}function Qr(t,e){if(null==t)return!1;var n=es.call(t,e);if(!n&&!ti(e)){if(e=fi(e),t=1==e.length?t:Pe(t,Xe(e,0,-1)),null==t)return!1;e=Si(e),n=es.call(t,e)}return n||ni(t.length)&&Qn(e,t.length)&&(Ea(t)||Cr(t))}function Zr(t,e,n){n&&Zn(t,e,n)&&(e=A);for(var i=-1,r=za(t),o=r.length,s={};++i<o;){var a=r[i],l=t[a];e?es.call(s,l)?s[l].push(a):s[l]=[a]:s[l]=a}return s}function to(t){if(null==t)return[];Pr(t)||(t=Ko(t));var e=t.length;e=e&&ni(e)&&(Ea(t)||Cr(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=Ho(e),s=e>0;++i<e;)o[i]=i+"";for(var a in t)s&&Qn(a,e)||"constructor"==a&&(r||!es.call(t,a))||o.push(a);return o}function eo(t){t=hi(t);for(var e=-1,n=za(t),i=n.length,r=Ho(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function no(t,e,n){var i=null==t?A:t[e];return i===A&&(null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:Pe(t,Xe(e,0,-1)),i=null==t?A:t[Si(e)]),i=i===A?n:i),Mr(i)?i.call(t):i}function io(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||ti(e,t)?[i]:fi(e);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var l=e[r];Pr(a)&&(r==s?a[l]=n:null==a[l]&&(a[l]=Qn(e[r+1])?[]:{})),a=a[l]}return t}function ro(t,e,n,i){var r=Ea(t)||$r(t);if(e=Hn(e,i,4),null==n)if(r||Pr(t)){var o=t.constructor;n=r?Ea(t)?new o:[]:Ds(Mr(o)?o.prototype:A)}else n={};return(r?ee:Ie)(t,function(t,i,r){return e(n,t,i,r)}),n}function oo(t){return tn(t,za(t))}function so(t){return tn(t,to(t))}function ao(t,e,n){return e=+e||0,n===A?(n=e,e=0):n=+n||0,t>=Ts(e,n)&&t<_s(e,n)}function lo(t,e,n){
n&&Zn(t,e,n)&&(e=n=A);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Ss();return Ts(t+o*(e-t+ls("1e-"+((o+"").length-1))),e)}return Ve(t,e)}function uo(t){return t=u(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function co(t){return t=u(t),t&&t.replace(jt,d).replace(It,"")}function ho(t,e,n){t=u(t),e+="";var i=t.length;return n=n===A?i:Ts(n<0?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function fo(t){return t=u(t),t&&_t.test(t)?t.replace(bt,g):t}function po(t){return t=u(t),t&&Nt.test(t)?t.replace(Et,m):t||"(?:)"}function go(t,e,n){t=u(t),e=+e;var i=t.length;if(i>=e||!bs(e))return t;var r=(e-i)/2,o=ys(r),s=ms(r);return n=Mn("",s,n),n.slice(0,o)+t+n}function mo(t,e,n){return(n?Zn(t,e,n):null==e)?e=0:e&&(e=+e),t=bo(t),Cs(t,e||(Dt.test(t)?16:10))}function vo(t,e){var n="";if(t=u(t),e=+e,e<1||!t||!bs(e))return n;do e%2&&(n+=t),e=ys(e/2),t+=t;while(e);return n}function yo(t,e,n){return t=u(t),n=null==n?0:Ts(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function xo(t,n,i){var r=e.templateSettings;i&&Zn(t,n,i)&&(n=i=A),t=u(t),n=me(ve({},i||n),r,ge);var o,s,a=me(ve({},n.imports),r.imports,ge),l=za(a),c=tn(a,l),h=0,f=n.interpolate||Ft,p="__p += '",d=Xo((n.escape||Ft).source+"|"+f.source+"|"+(f===Ct?Mt:Ft).source+"|"+(n.evaluate||Ft).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++$t+"]")+"\n";t.replace(d,function(e,n,i,r,a,l){return i||(i=r),p+=t.slice(h,l).replace(zt,v),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=l+e.length,e}),p+="';\n";var m=n.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(mt,""):p).replace(vt,"$1").replace(yt,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Ja(function(){return Wo(l,g+"return "+p).apply(A,c)});if(y.source=p,Ir(y))throw y;return y}function bo(t,e,n){var i=t;return(t=u(t))?(n?Zn(i,e,n):null==e)?t.slice(T(t),k(t)+1):(e+="",t.slice(c(t,e),h(t,e)+1)):t}function wo(t,e,n){var i=t;return t=u(t),t?(n?Zn(i,e,n):null==e)?t.slice(T(t)):t.slice(c(t,e+"")):t}function _o(t,e,n){var i=t;return t=u(t),t?(n?Zn(i,e,n):null==e)?t.slice(0,k(t)+1):t.slice(0,h(t,e+"")+1):t}function To(t,e,n){n&&Zn(t,e,n)&&(e=A);var i=j,r=F;if(null!=e)if(Pr(e)){var o="separator"in e?e.separator:o;i="length"in e?+e.length||0:i,r="omission"in e?u(e.omission):r}else i=+e||0;if(t=u(t),i>=t.length)return t;var s=i-r.length;if(s<1)return r;var a=t.slice(0,s);if(null==o)return a+r;if(Hr(o)){if(t.slice(s).search(o)){var l,c,h=t.slice(0,s);for(o.global||(o=Xo(o.source,(Pt.exec(o)||"")+"g")),o.lastIndex=0;l=o.exec(h);)c=l.index;a=a.slice(0,null==c?s:c)}}else if(t.indexOf(o,s)!=s){var f=a.lastIndexOf(o);f>-1&&(a=a.slice(0,f))}return a+r}function ko(t){return t=u(t),t&&wt.test(t)?t.replace(xt,C):t}function Co(t,e,n){return n&&Zn(t,e,n)&&(e=A),t=u(t),t.match(e||Ht)||[]}function So(t,e,n){return n&&Zn(t,e,n)&&(e=A),x(t)?Eo(t):be(t,e)}function Ao(t){return function(){return t}}function Lo(t){return t}function Eo(t){return Fe(we(t,!0))}function No(t,e){return ze(t,we(e,!0))}function Io(t,e,n){if(null==n){var i=Pr(e),r=i?za(e):A,o=r&&r.length?Me(e,r):A;(o?o.length:i)||(o=!1,n=e,e=t,t=this)}o||(o=Me(e,za(e)));var s=!0,a=-1,l=Mr(t),u=o.length;n===!1?s=!1:Pr(n)&&"chain"in n&&(s=n.chain);for(;++a<u;){var c=o[a],h=e[c];t[c]=h,l&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(s||n){var i=t(this.__wrapped__),r=i.__actions__=te(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,ue([this.value()],arguments))}}(h))}return t}function Oo(){return ie._=rs,this}function Mo(){}function Po(t){return ti(t)?$e(t):We(t)}function Do(t){return function(e){return Pe(t,fi(e),e+"")}}function Ro(t,e,n){n&&Zn(t,e,n)&&(e=n=A),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,r=_s(ms((e-t)/(n||1)),0),o=Ho(r);++i<r;)o[i]=t,t+=n;return o}function Bo(t,e,n){if(t=ys(t),t<1||!bs(t))return[];var i=-1,r=Ho(Ts(t,Es));for(e=sn(e,n,1);++i<t;)i<Es?r[i]=e(i):e(i);return r}function jo(t){var e=++ns;return u(t)+e}function Fo(t,e){return(+t||0)+(+e||0)}function zo(t,e,n){return n&&Zn(t,e,n)&&(e=A),e=Hn(e,n,3),1==e.length?pe(Ea(t)?t:ci(t),e):Qe(t,e)}t=t?re.defaults(ie.Object(),t,re.pick(ie,qt)):ie;var Ho=t.Array,qo=t.Date,$o=t.Error,Wo=t.Function,Uo=t.Math,Vo=t.Number,Ko=t.Object,Xo=t.RegExp,Yo=t.String,Go=t.TypeError,Jo=Ho.prototype,Qo=Ko.prototype,Zo=Yo.prototype,ts=Wo.prototype.toString,es=Qo.hasOwnProperty,ns=0,is=Qo.toString,rs=ie._,os=Xo("^"+ts.call(es).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=t.ArrayBuffer,as=t.clearTimeout,ls=t.parseFloat,us=Uo.pow,cs=Qo.propertyIsEnumerable,hs=Un(t,"Set"),fs=t.setTimeout,ps=Jo.splice,ds=t.Uint8Array,gs=Un(t,"WeakMap"),ms=Uo.ceil,vs=Un(Ko,"create"),ys=Uo.floor,xs=Un(Ho,"isArray"),bs=t.isFinite,ws=Un(Ko,"keys"),_s=Uo.max,Ts=Uo.min,ks=Un(qo,"now"),Cs=t.parseInt,Ss=Uo.random,As=Vo.NEGATIVE_INFINITY,Ls=Vo.POSITIVE_INFINITY,Es=4294967295,Ns=Es-1,Is=Es>>>1,Os=9007199254740991,Ms=gs&&new gs,Ps={};e.support={};e.templateSettings={escape:Tt,evaluate:kt,interpolate:Ct,variable:"",imports:{_:e}};var Ds=function(){function t(){}return function(e){if(Pr(e)){t.prototype=e;var n=new t;t.prototype=A}return n||{}}}(),Rs=fn(Ie),Bs=fn(Oe,!0),js=pn(),Fs=pn(!0),zs=Ms?function(t,e){return Ms.set(t,e),t}:Lo,Hs=Ms?function(t){return Ms.get(t)}:Mo,qs=$e("length"),$s=function(){var t=0,e=0;return function(n,i){var r=ga(),o=H-(r-e);if(e=r,o>0){if(++t>=z)return n}else t=0;return zs(n,i)}}(),Ws=vr(function(t,e){return x(t)&&Jn(t)?Te(t,Ee(e,!1,!0)):[]}),Us=_n(),Vs=_n(!0),Ks=vr(function(t){for(var e=t.length,n=e,i=Ho(h),r=$n(),o=r==a,s=[];n--;){var l=t[n]=Jn(l=t[n])?l:[];i[n]=o&&l.length>=120?gn(n&&l):null}var u=t[0],c=-1,h=u?u.length:0,f=i[0];t:for(;++c<h;)if(l=u[c],(f?Jt(f,l):r(s,l,0))<0){for(var n=e;--n;){var p=i[n];if((p?Jt(p,l):r(t[n],l,0))<0)continue t}f&&f.push(l),s.push(l)}return s}),Xs=vr(function(t,e){e=Ee(e);var n=ye(t,e);return Ue(t,e.sort(o)),n}),Ys=Rn(),Gs=Rn(!0),Js=vr(function(t){return Ze(Ee(t,!1,!0))}),Qs=vr(function(t,e){return Jn(t)?Te(t,e):[]}),Zs=vr(Bi),ta=vr(function(t){var e=t.length,n=e>2?t[e-2]:A,i=e>1?t[e-1]:A;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):A,i=A),t.length=e,ji(t,n,i)}),ea=vr(function(t){return t=Ee(t),this.thru(function(e){return Zt(Ea(e)?e:[hi(e)],t)})}),na=vr(function(t,e){return ye(t,Ee(e))}),ia=cn(function(t,e,n){es.call(t,n)?++t[n]:t[n]=1}),ra=wn(Rs),oa=wn(Bs,!0),sa=Cn(ee,Rs),aa=Cn(ne,Bs),la=cn(function(t,e,n){es.call(t,n)?t[n].push(e):t[n]=[e]}),ua=cn(function(t,e,n){t[n]=e}),ca=vr(function(t,e,n){var i=-1,r="function"==typeof e,o=ti(e),s=Jn(t)?Ho(t.length):[];return Rs(t,function(t){var a=r?e:o&&null!=t?t[e]:A;s[++i]=a?a.apply(t,n):Gn(t,e,n)}),s}),ha=cn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fa=In(ce,Rs),pa=In(he,Bs),da=vr(function(t,e){if(null==t)return[];var n=e[2];return n&&Zn(e[0],e[1],n)&&(e.length=1),Je(t,Ee(e),[])}),ga=ks||function(){return(new qo).getTime()},ma=vr(function(t,e,n){var i=E;if(n.length){var r=w(n,ma.placeholder);i|=P}return Bn(t,i,e,n,r)}),va=vr(function(t,e){e=e.length?Ee(e):Gr(t);for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=Bn(t[r],E,t)}return t}),ya=vr(function(t,e,n){var i=E|N;if(n.length){var r=w(n,ya.placeholder);i|=P}return Bn(e,i,t,n,r)}),xa=yn(O),ba=yn(M),wa=vr(function(t,e){return _e(t,1,e)}),_a=vr(function(t,e,n){return _e(t,e,n)}),Ta=kn(),ka=kn(!0),Ca=vr(function(t,e){if(e=Ee(e),"function"!=typeof t||!oe(e,l))throw new Go(U);var n=e.length;return vr(function(i){for(var r=Ts(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)})}),Sa=Nn(P),Aa=Nn(D),La=vr(function(t,e){return Bn(t,B,A,A,A,Ee(e))}),Ea=xs||function(t){return x(t)&&ni(t.length)&&is.call(t)==X},Na=hn(He),Ia=hn(function(t,e,n){return n?me(t,e,n):ve(t,e)}),Oa=xn(Ia,de),Ma=xn(Na,oi),Pa=Tn(Ie),Da=Tn(Oe),Ra=Sn(js),Ba=Sn(Fs),ja=An(Ie),Fa=An(Oe),za=ws?function(t){var e=null==t?A:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Jn(t)?ui(t):Pr(t)?ws(t):[]}:ui,Ha=Ln(!0),qa=Ln(),$a=vr(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=le(Ee(e),Yo);return si(t,Te(to(t),e))}var n=sn(e[0],e[1],3);return ai(t,function(t,e,i){return!n(t,e,i)})}),Wa=vr(function(t,e){return null==t?{}:"function"==typeof e[0]?ai(t,sn(e[0],e[1],3)):si(t,Ee(e))}),Ua=mn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Va=mn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ka=En(),Xa=En(!0),Ya=mn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ga=mn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ja=vr(function(t,e){try{return t.apply(A,e)}catch(t){return Ir(t)?t:new $o(t)}}),Qa=vr(function(t,e){return function(n){return Gn(n,t,e)}}),Za=vr(function(t,e){return function(n){return Gn(t,n,e)}}),tl=Dn("ceil"),el=Dn("floor"),nl=bn(Tr,As),il=bn(Ur,Ls),rl=Dn("round");return e.prototype=n.prototype,i.prototype=Ds(n.prototype),i.prototype.constructor=i,r.prototype=Ds(n.prototype),r.prototype.constructor=r,ot.prototype.delete=Vt,ot.prototype.get=Kt,ot.prototype.has=Xt,ot.prototype.set=Yt,Gt.prototype.push=Qt,dr.Cache=ot,e.after=cr,e.ary=hr,e.assign=Ia,e.at=na,e.before=fr,e.bind=ma,e.bindAll=va,e.bindKey=ya,e.callback=So,e.chain=Hi,e.chunk=di,e.compact=gi,e.constant=Ao,e.countBy=ia,e.create=Yr,e.curry=xa,e.curryRight=ba,e.debounce=pr,e.defaults=Oa,e.defaultsDeep=Ma,e.defer=wa,e.delay=_a,e.difference=Ws,e.drop=mi,e.dropRight=vi,e.dropRightWhile=yi,e.dropWhile=xi,e.fill=bi,e.filter=Ji,e.flatten=_i,e.flattenDeep=Ti,e.flow=Ta,e.flowRight=ka,e.forEach=sa,e.forEachRight=aa,e.forIn=Ra,e.forInRight=Ba,e.forOwn=ja,e.forOwnRight=Fa,e.functions=Gr,e.groupBy=la,e.indexBy=ua,e.initial=Ci,e.intersection=Ks,e.invert=Zr,e.invoke=ca,e.keys=za,e.keysIn=to,e.map=tr,e.mapKeys=Ha,e.mapValues=qa,e.matches=Eo,e.matchesProperty=No,e.memoize=dr,e.merge=Na,e.method=Qa,e.methodOf=Za,e.mixin=Io,e.modArgs=Ca,e.negate=gr,e.omit=$a,e.once=mr,e.pairs=eo,e.partial=Sa,e.partialRight=Aa,e.partition=ha,e.pick=Wa,e.pluck=er,e.property=Po,e.propertyOf=Do,e.pull=Li,e.pullAt=Xs,e.range=Ro,e.rearg=La,e.reject=nr,e.remove=Ei,e.rest=Ni,e.restParam=vr,e.set=io,e.shuffle=rr,e.slice=Ii,e.sortBy=ar,e.sortByAll=da,e.sortByOrder=lr,e.spread=yr,e.take=Oi,e.takeRight=Mi,e.takeRightWhile=Pi,e.takeWhile=Di,e.tap=qi,e.throttle=xr,e.thru=$i,e.times=Bo,e.toArray=Kr,e.toPlainObject=Xr,e.transform=ro,e.union=Js,e.uniq=Ri,e.unzip=Bi,e.unzipWith=ji,e.values=oo,e.valuesIn=so,e.where=ur,e.without=Qs,e.wrap=br,e.xor=Fi,e.zip=Zs,e.zipObject=zi,e.zipWith=ta,e.backflow=ka,e.collect=tr,e.compose=ka,e.each=sa,e.eachRight=aa,e.extend=Ia,e.iteratee=So,e.methods=Gr,e.object=zi,e.select=Ji,e.tail=Ni,e.unique=Ri,Io(e,e),e.add=Fo,e.attempt=Ja,e.camelCase=Ua,e.capitalize=uo,e.ceil=tl,e.clone=wr,e.cloneDeep=_r,e.deburr=co,e.endsWith=ho,e.escape=fo,e.escapeRegExp=po,e.every=Gi,e.find=ra,e.findIndex=Us,e.findKey=Pa,e.findLast=oa,e.findLastIndex=Vs,e.findLastKey=Da,e.findWhere=Qi,e.first=wi,e.floor=el,e.get=Jr,e.gt=Tr,e.gte=kr,e.has=Qr,e.identity=Lo,e.includes=Zi,e.indexOf=ki,e.inRange=ao,e.isArguments=Cr,e.isArray=Ea,e.isBoolean=Sr,e.isDate=Ar,e.isElement=Lr,e.isEmpty=Er,e.isEqual=Nr,e.isError=Ir,e.isFinite=Or,e.isFunction=Mr,e.isMatch=Dr,e.isNaN=Rr,e.isNative=Br,e.isNull=jr,e.isNumber=Fr,e.isObject=Pr,e.isPlainObject=zr,e.isRegExp=Hr,e.isString=qr,e.isTypedArray=$r,e.isUndefined=Wr,e.kebabCase=Va,e.last=Si,e.lastIndexOf=Ai,e.lt=Ur,e.lte=Vr,e.max=nl,e.min=il,e.noConflict=Oo,e.noop=Mo,e.now=ga,e.pad=go,e.padLeft=Ka,e.padRight=Xa,e.parseInt=mo,e.random=lo,e.reduce=fa,e.reduceRight=pa,e.repeat=vo,e.result=no,e.round=rl,e.runInContext=S,e.size=or,e.snakeCase=Ya,e.some=sr,e.sortedIndex=Ys,e.sortedLastIndex=Gs,e.startCase=Ga,e.startsWith=yo,e.sum=zo,e.template=xo,e.trim=bo,e.trimLeft=wo,e.trimRight=_o,e.trunc=To,e.unescape=ko,e.uniqueId=jo,e.words=Co,e.all=Gi,e.any=sr,e.contains=Zi,e.eq=Nr,e.detect=ra,e.foldl=fa,e.foldr=pa,e.head=wi,e.include=Zi,e.inject=fa,Io(e,function(){var t={};return Ie(e,function(n,i){e.prototype[i]||(t[i]=n)}),t}(),!1),e.sample=ir,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ir(e,t)}):ir(this.value())},e.VERSION=L,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){r.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new r(this);n=null==n?1:_s(ys(n)||0,0);var o=this.clone();return i?o.__takeCount__=Ts(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},r.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=W;r.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:Hn(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");r.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");r.prototype[t]=function(){return this.__filtered__?new r(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?Fe:Po;r.prototype[t]=function(t){return this[n](i(t))}}),r.prototype.compact=function(){return this.filter(Lo)},r.prototype.reject=function(t,e){return t=Hn(t,e,1),this.filter(function(e){return!t(e)})},r.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new r(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==A&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},r.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},r.prototype.toArray=function(){return this.take(Ls)},Ie(r.prototype,function(t,n){var o=/^(?:filter|map|reject)|While$/.test(n),s=/^(?:first|last)$/.test(n),a=e[s?"take"+("last"==n?"Right":""):n];a&&(e.prototype[n]=function(){var e=s?[1]:arguments,n=this.__chain__,l=this.__wrapped__,u=!!this.__actions__.length,c=l instanceof r,h=e[0],f=c||Ea(l);f&&o&&"function"==typeof h&&1!=h.length&&(c=f=!1);var p=function(t){return s&&n?a(t,1)[0]:a.apply(A,ue([t],e))},d={func:$i,args:[p],thisArg:A},g=c&&!u;if(s&&!n)return g?(l=l.clone(),l.__actions__.push(d),t.call(l)):a.call(A,this.value())[0];if(!s&&f){l=g?l:new r(this);var m=t.apply(l,e);return m.__actions__.push(d),new i(m,n)}return this.thru(p)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Zo:Jo)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?n.apply(this.value(),t):this[i](function(e){return n.apply(e,t)})}}),Ie(r.prototype,function(t,n){var i=e[n];if(i){var r=i.name,o=Ps[r]||(Ps[r]=[]);o.push({name:n,func:i})}}),Ps[On(A,N).name]=[{name:"wrapper",func:A}],r.prototype.clone=b,r.prototype.reverse=Z,r.prototype.value=it,e.prototype.chain=Wi,e.prototype.commit=Ui,e.prototype.concat=ea,e.prototype.plant=Vi,e.prototype.reverse=Ki,e.prototype.toString=Xi,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Yi,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var A,L="3.10.1",E=1,N=2,I=4,O=8,M=16,P=32,D=64,R=128,B=256,j=30,F="...",z=150,H=16,q=200,$=1,W=2,U="Expected a function",V="__lodash_placeholder__",K="[object Arguments]",X="[object Array]",Y="[object Boolean]",G="[object Date]",J="[object Error]",Q="[object Function]",Z="[object Map]",tt="[object Number]",et="[object Object]",nt="[object RegExp]",it="[object Set]",rt="[object String]",ot="[object WeakMap]",st="[object ArrayBuffer]",at="[object Float32Array]",lt="[object Float64Array]",ut="[object Int8Array]",ct="[object Int16Array]",ht="[object Int32Array]",ft="[object Uint8Array]",pt="[object Uint8ClampedArray]",dt="[object Uint16Array]",gt="[object Uint32Array]",mt=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,wt=RegExp(xt.source),_t=RegExp(bt.source),Tt=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,St=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,At=/^\w*$/,Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Et=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Nt=RegExp(Et.source),It=/[\u0300-\u036f\ufe20-\ufe23]/g,Ot=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pt=/\w*$/,Dt=/^0[xX]/,Rt=/^\[object .+?Constructor\]$/,Bt=/^\d+$/,jt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ft=/($^)/,zt=/['\n\r\u2028\u2029\\]/g,Ht=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),qt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],$t=-1,Wt={};Wt[at]=Wt[lt]=Wt[ut]=Wt[ct]=Wt[ht]=Wt[ft]=Wt[pt]=Wt[dt]=Wt[gt]=!0,Wt[K]=Wt[X]=Wt[st]=Wt[Y]=Wt[G]=Wt[J]=Wt[Q]=Wt[Z]=Wt[tt]=Wt[et]=Wt[nt]=Wt[it]=Wt[rt]=Wt[ot]=!1;var Ut={};Ut[K]=Ut[X]=Ut[st]=Ut[Y]=Ut[G]=Ut[at]=Ut[lt]=Ut[ut]=Ut[ct]=Ut[ht]=Ut[tt]=Ut[et]=Ut[nt]=Ut[rt]=Ut[ft]=Ut[pt]=Ut[dt]=Ut[gt]=!0,Ut[J]=Ut[Q]=Ut[Z]=Ut[it]=Ut[ot]=!1;var Vt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Xt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Yt={function:!0,object:!0},Gt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qt=Yt[typeof e]&&e&&!e.nodeType&&e,Zt=Yt[typeof t]&&t&&!t.nodeType&&t,te=Qt&&Zt&&"object"==typeof r&&r&&r.Object&&r,ee=Yt[typeof self]&&self&&self.Object&&self,ne=Yt[typeof window]&&window&&window.Object&&window,ie=(Zt&&Zt.exports===Qt&&Qt,te||ne!==(this&&this.window)&&ne||ee||this),re=S();ie._=re,i=function(){return re}.call(e,n,e,t),!(i!==A&&(t.exports=i))}).call(this)}).call(e,n(39)(t),function(){return this}())},function(t,e,n){"use strict";var i,r;i=n(1),r={upcase:function(t){return t.charAt(0).toUpperCase()+t.substring(1)},FORMAT_DEFAULT:"default",FORMAT_THUMBNAIL:"thumbnail",after:function(t,e){return setTimeout(e,t)},elementsSorter:function(t,e){return e.model.sum-t.model.sum},relationSorter:function(t,e){return e.value-t.value}},"function"==typeof Object.freeze&&Object.freeze(r),t.exports=r},function(t,e,n){var i,r;/*!
	 * jQuery JavaScript Library v1.12.4
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-05-20T17:17Z
	 */
!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){function s(t){var e=!!t&&"length"in t&&t.length,n=vt.type(t);return"function"!==n&&!vt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function a(t,e,n){if(vt.isFunction(e))return vt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return vt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(At.test(e))return vt.filter(e,t,n);e=vt.filter(e,t)}return vt.grep(t,function(t){return vt.inArray(t,e)>-1!==n})}function l(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function u(t){var e={};return vt.each(t.match(Mt)||[],function(t,n){e[n]=!0}),e}function c(){at.addEventListener?(at.removeEventListener("DOMContentLoaded",h),n.removeEventListener("load",h)):(at.detachEvent("onreadystatechange",h),n.detachEvent("onload",h))}function h(){(at.addEventListener||"load"===n.event.type||"complete"===at.readyState)&&(c(),vt.ready())}function f(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(jt,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Bt.test(n)?vt.parseJSON(n):n)}catch(t){}vt.data(t,e,n)}else n=void 0}return n}function p(t){var e;for(e in t)if(("data"!==e||!vt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function d(t,e,n,i){if(Rt(t)){var r,o,s=vt.expando,a=t.nodeType,l=a?vt.cache:t,u=a?t[s]:t[s]&&s;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof e)return u||(u=a?t[s]=st.pop()||vt.guid++:s),l[u]||(l[u]=a?{}:{toJSON:vt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[u]=vt.extend(l[u],e):l[u].data=vt.extend(l[u].data,e)),o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[vt.camelCase(e)]=n),"string"==typeof e?(r=o[e],null==r&&(r=o[vt.camelCase(e)])):r=o,r}}function g(t,e,n){if(Rt(t)){var i,r,o=t.nodeType,s=o?vt.cache:t,a=o?t[vt.expando]:vt.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){vt.isArray(e)?e=e.concat(vt.map(e,vt.camelCase)):e in i?e=[e]:(e=vt.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!p(i):!vt.isEmptyObject(i))return}(n||(delete s[a].data,p(s[a])))&&(o?vt.cleanData([t],!0):gt.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function m(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return vt.css(t,e,"")},l=a(),u=n&&n[3]||(vt.cssNumber[e]?"":"px"),c=(vt.cssNumber[e]||"px"!==u&&+l)&&zt.exec(vt.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,vt.style(t,e,c+u);while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function v(t){var e=Xt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function y(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||vt.nodeName(i,e)?o.push(i):vt.merge(o,y(i,e));return void 0===e||e&&vt.nodeName(t,e)?vt.merge([t],o):o}function x(t,e){for(var n,i=0;null!=(n=t[i]);i++)vt._data(n,"globalEval",!e||vt._data(e[i],"globalEval"))}function b(t){Wt.test(t.type)&&(t.defaultChecked=t.checked)}function w(t,e,n,i,r){for(var o,s,a,l,u,c,h,f=t.length,p=v(e),d=[],g=0;g<f;g++)if(s=t[g],s||0===s)if("object"===vt.type(s))vt.merge(d,s.nodeType?[s]:s);else if(Gt.test(s)){for(l=l||p.appendChild(e.createElement("div")),u=(Ut.exec(s)||["",""])[1].toLowerCase(),h=Yt[u]||Yt._default,l.innerHTML=h[1]+vt.htmlPrefilter(s)+h[2],o=h[0];o--;)l=l.lastChild;if(!gt.leadingWhitespace&&Kt.test(s)&&d.push(e.createTextNode(Kt.exec(s)[0])),!gt.tbody)for(s="table"!==u||Jt.test(s)?"<table>"!==h[1]||Jt.test(s)?0:l:l.firstChild,o=s&&s.childNodes.length;o--;)vt.nodeName(c=s.childNodes[o],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(vt.merge(d,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=p.lastChild}else d.push(e.createTextNode(s));for(l&&p.removeChild(l),gt.appendChecked||vt.grep(y(d,"input"),b),g=0;s=d[g++];)if(i&&vt.inArray(s,i)>-1)r&&r.push(s);else if(a=vt.contains(s.ownerDocument,s),l=y(p.appendChild(s),"script"),a&&x(l),n)for(o=0;s=l[o++];)Vt.test(s.type||"")&&n.push(s);return l=null,p}function _(){return!0}function T(){return!1}function k(){try{return at.activeElement}catch(t){}}function C(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)C(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=T;else if(!r)return t;return 1===o&&(s=r,r=function(t){return vt().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=vt.guid++)),t.each(function(){vt.event.add(this,e,r,i,n)})}function S(t,e){return vt.nodeName(t,"table")&&vt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function A(t){return t.type=(null!==vt.find.attr(t,"type"))+"/"+t.type,t}function L(t){var e=le.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function E(t,e){if(1===e.nodeType&&vt.hasData(t)){var n,i,r,o=vt._data(t),s=vt._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;i<r;i++)vt.event.add(e,n,a[n][i])}s.data&&(s.data=vt.extend({},s.data))}}function N(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!gt.noCloneEvent&&e[vt.expando]){r=vt._data(e);for(i in r.events)vt.removeEvent(e,i,r.handle);e.removeAttribute(vt.expando)}"script"===n&&e.text!==t.text?(A(e).text=t.text,L(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),gt.html5Clone&&t.innerHTML&&!vt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Wt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function I(t,e,n,i){e=ut.apply([],e);var r,o,s,a,l,u,c=0,h=t.length,f=h-1,p=e[0],d=vt.isFunction(p);if(d||h>1&&"string"==typeof p&&!gt.checkClone&&ae.test(p))return t.each(function(r){var o=t.eq(r);d&&(e[0]=p.call(this,r,o.html())),I(o,e,n,i)});if(h&&(u=w(e,t[0].ownerDocument,!1,t,i),r=u.firstChild,1===u.childNodes.length&&(u=r),r||i)){for(a=vt.map(y(u,"script"),A),s=a.length;c<h;c++)o=u,c!==f&&(o=vt.clone(o,!0,!0),s&&vt.merge(a,y(o,"script"))),n.call(t[c],o,c);if(s)for(l=a[a.length-1].ownerDocument,vt.map(a,L),c=0;c<s;c++)o=a[c],Vt.test(o.type||"")&&!vt._data(o,"globalEval")&&vt.contains(l,o)&&(o.src?vt._evalUrl&&vt._evalUrl(o.src):vt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ue,"")));u=r=null}return t}function O(t,e,n){for(var i,r=e?vt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||vt.cleanData(y(i)),i.parentNode&&(n&&vt.contains(i.ownerDocument,i)&&x(y(i,"script")),i.parentNode.removeChild(i));return t}function M(t,e){var n=vt(e.createElement(t)).appendTo(e.body),i=vt.css(n[0],"display");return n.detach(),i}function P(t){var e=at,n=pe[t];return n||(n=M(t,e),"none"!==n&&n||(fe=(fe||vt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(fe[0].contentWindow||fe[0].contentDocument).document,e.write(),e.close(),n=M(t,e),fe.detach()),pe[t]=n),n}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function R(t){if(t in Le)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Ae.length;n--;)if(t=Ae[n]+e,t in Le)return t}function B(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)i=t[s],i.style&&(o[s]=vt._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&qt(i)&&(o[s]=vt._data(i,"olddisplay",P(i.nodeName)))):(r=qt(i),(n&&"none"!==n||!r)&&vt._data(i,"olddisplay",r?n:vt.css(i,"display"))));for(s=0;s<a;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function j(t,e,n){var i=ke.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function F(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=vt.css(t,n+Ht[o],!0,r)),i?("content"===n&&(s-=vt.css(t,"padding"+Ht[o],!0,r)),"margin"!==n&&(s-=vt.css(t,"border"+Ht[o]+"Width",!0,r))):(s+=vt.css(t,"padding"+Ht[o],!0,r),"padding"!==n&&(s+=vt.css(t,"border"+Ht[o]+"Width",!0,r)));return s}function z(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ye(t),s=gt.boxSizing&&"border-box"===vt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(r=xe(t,e,o),(r<0||null==r)&&(r=t.style[e]),ge.test(r))return r;i=s&&(gt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+F(t,e,n||(s?"border":"content"),i,o)+"px"}function H(t,e,n,i,r){return new H.prototype.init(t,e,n,i,r)}function q(){return n.setTimeout(function(){Ee=void 0}),Ee=vt.now()}function $(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)n=Ht[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function W(t,e,n){for(var i,r=(K.tweeners[e]||[]).concat(K.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function U(t,e,n){var i,r,o,s,a,l,u,c,h=this,f={},p=t.style,d=t.nodeType&&qt(t),g=vt._data(t,"fxshow");n.queue||(a=vt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,vt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=vt.css(t,"display"),c="none"===u?vt._data(t,"olddisplay")||P(t.nodeName):u,"inline"===c&&"none"===vt.css(t,"float")&&(gt.inlineBlockNeedsLayout&&"inline"!==P(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",gt.shrinkWrapBlocks()||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Ie.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;d=!0}f[i]=g&&g[i]||vt.style(t,i)}else u=void 0;if(vt.isEmptyObject(f))"inline"===("none"===u?P(t.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(d=g.hidden):g=vt._data(t,"fxshow",{}),o&&(g.hidden=!d),d?vt(t).show():h.done(function(){vt(t).hide()}),h.done(function(){var e;vt._removeData(t,"fxshow");for(e in f)vt.style(t,e,f[e])});for(i in f)s=W(d?g[i]:0,i,h),i in g||(g[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function V(t,e){var n,i,r,o,s;for(n in t)if(i=vt.camelCase(n),r=e[i],o=t[n],vt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=vt.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function K(t,e,n){var i,r,o=0,s=K.prefilters.length,a=vt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Ee||q(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;s<l;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),o<1&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:vt.extend({},e),opts:vt.extend(!0,{specialEasing:{},easing:vt.easing._default},n),originalProperties:e,originalOptions:n,startTime:Ee||q(),duration:n.duration,tweens:[],createTween:function(e,n){var i=vt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(V(c,u.opts.specialEasing);o<s;o++)if(i=K.prefilters[o].call(u,t,c,u.opts))return vt.isFunction(i.stop)&&(vt._queueHooks(u.elem,u.opts.queue).stop=vt.proxy(i.stop,i)),i;return vt.map(c,W,u),vt.isFunction(u.opts.start)&&u.opts.start.call(t,u),vt.fx.timer(vt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function X(t){return vt.attr(t,"class")||""}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Mt)||[];if(vt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function G(t,e,n,i){function r(a){var l;return o[a]=!0,vt.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===nn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function J(t,e){var n,i,r=vt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&vt.extend(!0,t,n),t}function Q(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function Z(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function tt(t){return t.style&&t.style.display||vt.css(t,"display")}function et(t){if(!vt.contains(t.ownerDocument||at,t))return!0;for(;t&&1===t.nodeType;){if("none"===tt(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function nt(t,e,n,i){var r;if(vt.isArray(e))vt.each(e,function(e,r){n||ln.test(t)?i(t,r):nt(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==vt.type(e))i(t,e);else for(r in e)nt(t+"["+r+"]",e[r],n,i)}function it(){try{return new n.XMLHttpRequest}catch(t){}}function rt(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function ot(t){return vt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var st=[],at=n.document,lt=st.slice,ut=st.concat,ct=st.push,ht=st.indexOf,ft={},pt=ft.toString,dt=ft.hasOwnProperty,gt={},mt="1.12.4",vt=function(t,e){return new vt.fn.init(t,e)},yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,xt=/^-ms-/,bt=/-([\da-z])/gi,wt=function(t,e){return e.toUpperCase()};vt.fn=vt.prototype={jquery:mt,constructor:vt,selector:"",length:0,toArray:function(){return lt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:lt.call(this)},pushStack:function(t){var e=vt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return vt.each(this,t)},map:function(t){return this.pushStack(vt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:st.sort,splice:st.splice},vt.extend=vt.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||vt.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],n=r[i],s!==n&&(u&&n&&(vt.isPlainObject(n)||(e=vt.isArray(n)))?(e?(e=!1,o=t&&vt.isArray(t)?t:[]):o=t&&vt.isPlainObject(t)?t:{},s[i]=vt.extend(u,o,n)):void 0!==n&&(s[i]=n));return s},vt.extend({expando:"jQuery"+(mt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===vt.type(t)},isArray:Array.isArray||function(t){return"array"===vt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!vt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==vt.type(t)||t.nodeType||vt.isWindow(t))return!1;try{if(t.constructor&&!dt.call(t,"constructor")&&!dt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!gt.ownFirst)for(e in t)return dt.call(t,e);for(e in t);return void 0===e||dt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[pt.call(t)]||"object":typeof t},globalEval:function(t){t&&vt.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(t){return t.replace(xt,"ms-").replace(bt,wt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(yt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?vt.merge(n,"string"==typeof t?[t]:t):ct.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(ht)return ht.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;o<s;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,n){var i,r,o=0,a=[];if(s(t))for(i=t.length;o<i;o++)r=e(t[o],o,n),null!=r&&a.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&a.push(r);return ut.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(r=t[e],e=t,t=r),vt.isFunction(t))return n=lt.call(arguments,2),i=function(){return t.apply(e||this,n.concat(lt.call(arguments)))},i.guid=t.guid=t.guid||vt.guid++,i},now:function(){return+new Date},support:gt}),"function"==typeof Symbol&&(vt.fn[Symbol.iterator]=st[Symbol.iterator]),vt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var _t=/*!
	 * Sizzle CSS Selector Engine v2.2.1
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2015-10-17
	 */
function(t){function e(t,e,n,i){var r,o,s,a,l,u,h,p,d=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:z)!==O&&I(e),e=e||O,P)){if(11!==g&&(u=vt.exec(t)))if(r=u[1]){if(9===g){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(d&&(s=d.getElementById(r))&&j(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!U[t+" "]&&(!D||!D.test(t))){if(1!==g)d=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(xt,"\\$&"):e.setAttribute("id",a=F),h=C(t),o=h.length,l=ft.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=l+" "+f(h[o]);p=h.join(","),d=yt.test(t)&&c(e.parentNode)||e}if(p)try{return Q.apply(n,d.querySelectorAll(p)),n}catch(t){}finally{a===F&&e.removeAttribute("id")}}}return A(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=O.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=q++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u,c=[H,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[F]||(e[F]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(a=l[i])&&a[0]===H&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function v(t,e,n,r,o,s){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,s)),i(function(i,s,a,l){var u,c,h,f=[],p=[],d=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:m(v,f,t,a,l),x=n?o||(i?t:d||r)?[]:s:y;if(n&&n(y,x,a,l),r)for(u=m(x,p),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(x[p[c]]=!(y[p[c]]=h));if(i){if(o||t){if(o){for(u=[],c=x.length;c--;)(h=x[c])&&u.push(y[c]=h);o(null,x=[],u,l)}for(c=x.length;c--;)(h=x[c])&&(u=o?tt(i,h):f[c])>-1&&(i[u]=!(s[u]=h))}}else x=m(x===s?x.splice(d,x.length):x),o?o(null,s,x,l):Q.apply(s,x)})}function y(t){for(var e,n,i,r=t.length,o=_.relative[t[0].type],s=o||_.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==L)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];a<r;a++)if(n=_.relative[t[a].type])c=[p(d(c),n)];else{if(n=_.filter[t[a].type].apply(null,t[a].matches),n[F]){for(i=++a;i<r&&!_.relative[t[i].type];i++);return v(a>1&&d(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&y(t.slice(a,i)),i<r&&y(t=t.slice(i)),i<r&&f(t))}c.push(n)}return d(c)}function x(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var c,h,f,p=0,d="0",g=i&&[],v=[],y=L,x=i||o&&_.find.TAG("*",u),b=H+=null==y?1:Math.random()||.1,w=x.length;for(u&&(L=s===O||s||u);d!==w&&null!=(c=x[d]);d++){if(o&&c){for(h=0,s||c.ownerDocument===O||(I(c),a=!P);f=t[h++];)if(f(c,s||O,a)){l.push(c);break}u&&(H=b)}r&&((c=!f&&c)&&p--,i&&g.push(c))}if(p+=d,r&&d!==p){for(h=0;f=n[h++];)f(g,v,s,a);if(i){if(p>0)for(;d--;)g[d]||v[d]||(v[d]=G.call(l));v=m(v)}Q.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(H=b,L=y),g};return r?i(s):s}var b,w,_,T,k,C,S,A,L,E,N,I,O,M,P,D,R,B,j,F="sizzle"+1*new Date,z=t.document,H=0,q=0,$=n(),W=n(),U=n(),V=function(t,e){return t===e&&(N=!0),0},K=1<<31,X={}.hasOwnProperty,Y=[],G=Y.pop,J=Y.push,Q=Y.push,Z=Y.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,xt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_t=function(){I()};try{Q.apply(Y=Z.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(t){Q={apply:Y.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,M=O.documentElement,P=!k(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test(O.getElementsByClassName),w.getById=r(function(t){return M.appendChild(t).id=F,!O.getElementsByName||!O.getElementsByName(F).length}),w.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n?[n]:[]}},_.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&P)return e.getElementsByClassName(t)},R=[],D=[],(w.qsa=mt.test(O.querySelectorAll))&&(r(function(t){M.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||D.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||D.push("~="),t.querySelectorAll(":checked").length||D.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||D.push(".#.+[+~]")}),r(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&D.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=mt.test(B=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(t){w.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),R.push("!=",ot)}),D=D.length&&new RegExp(D.join("|")),R=R.length&&new RegExp(R.join("|")),e=mt.test(M.compareDocumentPosition),j=e||mt.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return N=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===z&&j(z,t)?-1:e===O||e.ownerDocument===z&&j(z,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return N=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===O?-1:e===O?1:r?-1:o?1:E?tt(E,t)-tt(E,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===z?-1:l[i]===z?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&I(t),n=n.replace(ct,"='$1']"),w.matchesSelector&&P&&!U[n+" "]&&(!R||!R.test(n))&&(!D||!D.test(n)))try{var i=B.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&I(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&I(t);var n=_.attrHandle[e.toLowerCase()],i=n&&X.call(_.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==i?i:w.attributes||!P?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(N=!w.detectDuplicates,E=!w.sortStable&&t.slice(0),t.sort(V),N){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return E=null,t},T=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=T(e);return n},_=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,x=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&y){for(f=m,h=f[F]||(f[F]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),u=c[t]||[],p=u[0]===H&&u[1],x=p&&u[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(x=p=0)||d.pop();)if(1===f.nodeType&&++x&&f===e){c[t]=[H,p,x];break}}else if(y&&(f=e,h=f[F]||(f[F]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),u=c[t]||[],p=u[0]===H&&u[1],x=p),x===!1)for(;(f=++p&&f&&f[g]||(x=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++x||(y&&(h=f[F]||(f[F]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[H,x]),f!==e)););return x-=r,x===i||x%i===0&&x/i>=0}}},PSEUDO:function(t,n){var r,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(at,"$1"));return r[F]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=l(b);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,C=e.tokenize=function(t,n){var i,r,o,s,a,l,u,c=W[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=_.preFilter;a;){i&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in _.filter)!(r=pt[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):W(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=y(e[n]),o[F]?i.push(o):r.push(o);o=U(t,x(r,i)),o.selector=t}return o},A=e.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,h=!i&&C(t=u.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&P&&_.relative[o[1].type]){if(e=(_.find.ID(s.matches[0].replace(bt,wt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!_.relative[a=s.type]);)if((l=_.find[a])&&(i=l(s.matches[0].replace(bt,wt),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&f(o),!t)return Q.apply(n,i),n;break}}return(u||S(t,h))(i,e,!P,n,!e||yt.test(t)&&c(e.parentNode)||e),n},w.sortStable=F.split("").sort(V).join("")===F,w.detectDuplicates=!!N,I(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);vt.find=_t,vt.expr=_t.selectors,vt.expr[":"]=vt.expr.pseudos,vt.uniqueSort=vt.unique=_t.uniqueSort,vt.text=_t.getText,vt.isXMLDoc=_t.isXML,vt.contains=_t.contains;var Tt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&vt(t).is(n))break;i.push(t)}return i},kt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Ct=vt.expr.match.needsContext,St=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,At=/^.[^:#\[\.,]*$/;vt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?vt.find.matchesSelector(i,t)?[i]:[]:vt.find.matches(t,vt.grep(e,function(t){return 1===t.nodeType}))},vt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(vt(t).filter(function(){for(e=0;e<r;e++)if(vt.contains(i[e],this))return!0}));for(e=0;e<r;e++)vt.find(t,i[e],n);return n=this.pushStack(r>1?vt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&Ct.test(t)?vt(t):t||[],!1).length}});var Lt,Et=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Nt=vt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Lt,"string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Et.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof vt?e[0]:e,vt.merge(this,vt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),St.test(i[1])&&vt.isPlainObject(e))for(i in e)vt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(r=at.getElementById(i[2]),r&&r.parentNode){if(r.id!==i[2])return Lt.find(t);this.length=1,this[0]=r}return this.context=at,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):vt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(vt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),vt.makeArray(t,this))};Nt.prototype=vt.fn,Lt=vt(at);var It=/^(?:parents|prev(?:Until|All))/,Ot={children:!0,contents:!0,next:!0,prev:!0};vt.fn.extend({has:function(t){var e,n=vt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(vt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=Ct.test(t)||"string"!=typeof t?vt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&vt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?vt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?vt.inArray(this[0],vt(t)):vt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(vt.uniqueSort(vt.merge(this.get(),vt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),vt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,n){return Tt(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,n){return Tt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Tt(t,"previousSibling",n)},siblings:function(t){return kt((t.parentNode||{}).firstChild,t)},children:function(t){return kt(t.firstChild)},contents:function(t){return vt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:vt.merge([],t.childNodes)}},function(t,e){vt.fn[t]=function(n,i){var r=vt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=vt.filter(i,r)),this.length>1&&(Ot[t]||(r=vt.uniqueSort(r)),It.test(t)&&(r=r.reverse())),this.pushStack(r)}});var Mt=/\S+/g;vt.Callbacks=function(t){t="string"==typeof t?u(t):vt.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)o[a].apply(n[0],n[1])===!1&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){vt.each(n,function(n,i){vt.isFunction(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==vt.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return vt.each(arguments,function(t,e){for(var n;(n=vt.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?vt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=!0,n||c.disable(),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},vt.extend({Deferred:function(t){var e=[["resolve","done",vt.Callbacks("once memory"),"resolved"],["reject","fail",vt.Callbacks("once memory"),"rejected"],["notify","progress",vt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return vt.Deferred(function(n){vt.each(e,function(e,o){var s=vt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&vt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?vt.extend(t,i):i}},r={};return i.pipe=i.then,vt.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=lt.call(arguments),s=o.length,a=1!==s||t&&vt.isFunction(t.promise)?s:0,l=1===a?t:vt.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?lt.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&vt.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,e)).done(u(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}});var Pt;vt.fn.ready=function(t){return vt.ready.promise().done(t),this},vt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?vt.readyWait++:vt.ready(!0)},ready:function(t){(t===!0?--vt.readyWait:vt.isReady)||(vt.isReady=!0,t!==!0&&--vt.readyWait>0||(Pt.resolveWith(at,[vt]),vt.fn.triggerHandler&&(vt(at).triggerHandler("ready"),vt(at).off("ready"))))}}),vt.ready.promise=function(t){if(!Pt)if(Pt=vt.Deferred(),"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll)n.setTimeout(vt.ready);else if(at.addEventListener)at.addEventListener("DOMContentLoaded",h),n.addEventListener("load",h);else{at.attachEvent("onreadystatechange",h),n.attachEvent("onload",h);var e=!1;try{e=null==n.frameElement&&at.documentElement}catch(t){}e&&e.doScroll&&!function t(){if(!vt.isReady){try{e.doScroll("left")}catch(e){return n.setTimeout(t,50)}c(),vt.ready()}}()}return Pt.promise(t)},vt.ready.promise();var Dt;for(Dt in vt(gt))break;gt.ownFirst="0"===Dt,gt.inlineBlockNeedsLayout=!1,vt(function(){var t,e,n,i;n=at.getElementsByTagName("body")[0],n&&n.style&&(e=at.createElement("div"),i=at.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",gt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=at.createElement("div");gt.deleteExpando=!0;try{delete t.test}catch(t){gt.deleteExpando=!1}t=null}();var Rt=function(t){var e=vt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||e!==!0&&t.getAttribute("classid")===e)},Bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,jt=/([A-Z])/g;vt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?vt.cache[t[vt.expando]]:t[vt.expando],!!t&&!p(t)},data:function(t,e,n){return d(t,e,n)},removeData:function(t,e){return g(t,e)},_data:function(t,e,n){return d(t,e,n,!0)},_removeData:function(t,e){return g(t,e,!0)}}),vt.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=vt.data(o),1===o.nodeType&&!vt._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=vt.camelCase(i.slice(5)),f(o,i,r[i])));vt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){vt.data(this,t)}):arguments.length>1?this.each(function(){vt.data(this,t,e)}):o?f(o,t,vt.data(o,t)):void 0},removeData:function(t){return this.each(function(){vt.removeData(this,t)})}}),vt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=vt._data(t,e),n&&(!i||vt.isArray(n)?i=vt._data(t,e,vt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=vt.queue(t,e),i=n.length,r=n.shift(),o=vt._queueHooks(t,e),s=function(){vt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return vt._data(t,n)||vt._data(t,n,{empty:vt.Callbacks("once memory").add(function(){vt._removeData(t,e+"queue"),vt._removeData(t,n)})})}}),vt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?vt.queue(this[0],t):void 0===e?this:this.each(function(){var n=vt.queue(this,t,e);vt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&vt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){vt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=vt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=vt._data(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}}),function(){var t;gt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=at.getElementsByTagName("body")[0],n&&n.style?(e=at.createElement("div"),i=at.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(at.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var Ft=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,zt=new RegExp("^(?:([+-])=|)("+Ft+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],qt=function(t,e){return t=e||t,"none"===vt.css(t,"display")||!vt.contains(t.ownerDocument,t)},$t=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===vt.type(n)){r=!0;for(a in n)$t(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,vt.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(vt(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Wt=/^(?:checkbox|radio)$/i,Ut=/<([\w:-]+)/,Vt=/^$|\/(?:java|ecma)script/i,Kt=/^\s+/,Xt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=at.createElement("div"),e=at.createDocumentFragment(),n=at.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",gt.leadingWhitespace=3===t.firstChild.nodeType,gt.tbody=!t.getElementsByTagName("tbody").length,gt.htmlSerialize=!!t.getElementsByTagName("link").length,gt.html5Clone="<:nav></:nav>"!==at.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),gt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",gt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),n=at.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),gt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,gt.noCloneEvent=!!t.addEventListener,t[vt.expando]=1,gt.attributes=!t.getAttribute(vt.expando)}();var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:gt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Gt=/<|&#?\w+;/,Jt=/<tbody/i;!function(){var t,e,i=at.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(gt[t]=e in n)||(i.setAttribute(e,"t"),gt[t]=i.attributes[e].expando===!1);i=null}();var Qt=/^(?:input|select|textarea)$/i,Zt=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^(?:focusinfocus|focusoutblur)$/,ne=/^([^.]*)(?:\.(.+)|)/;
vt.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,m=vt._data(t);if(m){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=vt.guid++),(s=m.events)||(s=m.events={}),(c=m.handle)||(c=m.handle=function(t){return"undefined"==typeof vt||t&&vt.event.triggered===t.type?void 0:vt.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(Mt)||[""],a=e.length;a--;)o=ne.exec(e[a])||[],p=g=o[1],d=(o[2]||"").split(".").sort(),p&&(u=vt.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=vt.event.special[p]||{},h=vt.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&vt.expr.match.needsContext.test(r),namespace:d.join(".")},l),(f=s[p])||(f=s[p]=[],f.delegateCount=0,u.setup&&u.setup.call(t,i,d,c)!==!1||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),vt.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,m=vt.hasData(t)&&vt._data(t);if(m&&(c=m.events)){for(e=(e||"").match(Mt)||[""],u=e.length;u--;)if(a=ne.exec(e[u])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p){for(h=vt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,f=c[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)s=f[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(f.splice(o,1),s.selector&&f.delegateCount--,h.remove&&h.remove.call(t,s));l&&!f.length&&(h.teardown&&h.teardown.call(t,d,m.handle)!==!1||vt.removeEvent(t,p,m.handle),delete c[p])}else for(p in c)vt.event.remove(t,p+e[u],n,i,!0);vt.isEmptyObject(c)&&(delete m.handle,vt._removeData(t,"events"))}},trigger:function(t,e,i,r){var o,s,a,l,u,c,h,f=[i||at],p=dt.call(t,"type")?t.type:t,d=dt.call(t,"namespace")?t.namespace.split("."):[];if(a=c=i=i||at,3!==i.nodeType&&8!==i.nodeType&&!ee.test(p+vt.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[vt.expando]?t:new vt.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:vt.makeArray(e,[t]),u=vt.event.special[p]||{},r||!u.trigger||u.trigger.apply(i,e)!==!1)){if(!r&&!u.noBubble&&!vt.isWindow(i)){for(l=u.delegateType||p,ee.test(l+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),c=a;c===(i.ownerDocument||at)&&f.push(c.defaultView||c.parentWindow||n)}for(h=0;(a=f[h++])&&!t.isPropagationStopped();)t.type=h>1?l:u.bindType||p,o=(vt._data(a,"events")||{})[t.type]&&vt._data(a,"handle"),o&&o.apply(a,e),o=s&&a[s],o&&o.apply&&Rt(a)&&(t.result=o.apply(a,e),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),e)===!1)&&Rt(i)&&s&&i[p]&&!vt.isWindow(i)){c=i[s],c&&(i[s]=null),vt.event.triggered=p;try{i[p]()}catch(t){}vt.event.triggered=void 0,c&&(i[s]=c)}return t.result}},dispatch:function(t){t=vt.event.fix(t);var e,n,i,r,o,s=[],a=lt.call(arguments),l=(vt._data(this,"events")||{})[t.type]||[],u=vt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=vt.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((vt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;n<a;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?vt(r,this).index(l)>-1:vt.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[vt.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=te.test(r)?this.mouseHooks:Zt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new vt.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||at),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||at,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(vt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return vt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=vt.extend(new vt.Event,n,{type:t,isSimulated:!0});vt.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},vt.removeEvent=at.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},vt.Event=function(t,e){return this instanceof vt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?_:T):this.type=t,e&&vt.extend(this,e),this.timeStamp=t&&t.timeStamp||vt.now(),void(this[vt.expando]=!0)):new vt.Event(t,e)},vt.Event.prototype={constructor:vt.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},vt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){vt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||vt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),gt.submit||(vt.event.special.submit={setup:function(){return!vt.nodeName(this,"form")&&void vt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=vt.nodeName(e,"input")||vt.nodeName(e,"button")?vt.prop(e,"form"):void 0;n&&!vt._data(n,"submit")&&(vt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),vt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&vt.event.simulate("submit",this.parentNode,t))},teardown:function(){return!vt.nodeName(this,"form")&&void vt.event.remove(this,"._submit")}}),gt.change||(vt.event.special.change={setup:function(){return Qt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(vt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),vt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),vt.event.simulate("change",this,t)})),!1):void vt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Qt.test(e.nodeName)&&!vt._data(e,"change")&&(vt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||vt.event.simulate("change",this.parentNode,t)}),vt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return vt.event.remove(this,"._change"),!Qt.test(this.nodeName)}}),gt.focusin||vt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){vt.event.simulate(e,t.target,vt.event.fix(t))};vt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=vt._data(i,e);r||i.addEventListener(t,n,!0),vt._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=vt._data(i,e)-1;r?vt._data(i,e,r):(i.removeEventListener(t,n,!0),vt._removeData(i,e))}}}),vt.fn.extend({on:function(t,e,n,i){return C(this,t,e,n,i)},one:function(t,e,n,i){return C(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,vt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=T),this.each(function(){vt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){vt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return vt.event.trigger(t,e,n,!0)}});var ie=/ jQuery\d+="(?:null|\d+)"/g,re=new RegExp("<(?:"+Xt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,se=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,le=/^true\/(.*)/,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=v(at),he=ce.appendChild(at.createElement("div"));vt.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,l=vt.contains(t.ownerDocument,t);if(gt.html5Clone||vt.isXMLDoc(t)||!re.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(he.innerHTML=t.outerHTML,he.removeChild(o=he.firstChild)),!(gt.noCloneEvent&&gt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||vt.isXMLDoc(t)))for(i=y(o),a=y(t),s=0;null!=(r=a[s]);++s)i[s]&&N(r,i[s]);if(e)if(n)for(a=a||y(t),i=i||y(o),s=0;null!=(r=a[s]);s++)E(r,i[s]);else E(t,o);return i=y(o,"script"),i.length>0&&x(i,!l&&y(t,"script")),i=a=r=null,o},cleanData:function(t,e){for(var n,i,r,o,s=0,a=vt.expando,l=vt.cache,u=gt.attributes,c=vt.event.special;null!=(n=t[s]);s++)if((e||Rt(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)c[i]?vt.event.remove(n,i):vt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u||"undefined"==typeof n.removeAttribute?n[a]=void 0:n.removeAttribute(a),st.push(r))}}}),vt.fn.extend({domManip:I,detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return $t(this,function(t){return void 0===t?vt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||at).createTextNode(t))},null,t,arguments.length)},append:function(){return I(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=S(this,t);e.appendChild(t)}})},prepend:function(){return I(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=S(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return I(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return I(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&vt.cleanData(y(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&vt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return vt.clone(this,t,e)})},html:function(t){return $t(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(ie,""):void 0;if("string"==typeof t&&!se.test(t)&&(gt.htmlSerialize||!re.test(t))&&(gt.leadingWhitespace||!Kt.test(t))&&!Yt[(Ut.exec(t)||["",""])[1].toLowerCase()]){t=vt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(vt.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return I(this,arguments,function(e){var n=this.parentNode;vt.inArray(this,t)<0&&(vt.cleanData(y(this)),n&&n.replaceChild(e,this))},t)}}),vt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){vt.fn[t]=function(t){for(var n,i=0,r=[],o=vt(t),s=o.length-1;i<=s;i++)n=i===s?this:this.clone(!0),vt(o[i])[e](n),ct.apply(r,n.get());return this.pushStack(r)}});var fe,pe={HTML:"block",BODY:"block"},de=/^margin/,ge=new RegExp("^("+Ft+")(?!px)[a-z%]+$","i"),me=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},ve=at.documentElement;!function(){function t(){var t,c,h=at.documentElement;h.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",e=r=a=!1,i=s=!0,n.getComputedStyle&&(c=n.getComputedStyle(u),e="1%"!==(c||{}).top,a="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",i="4px"===(c||{marginRight:"4px"}).marginRight,t=u.appendChild(at.createElement("div")),t.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",u.style.width="1px",s=!parseFloat((n.getComputedStyle(t)||{}).marginRight),u.removeChild(t)),u.style.display="none",o=0===u.getClientRects().length,o&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",t=u.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),h.removeChild(l)}var e,i,r,o,s,a,l=at.createElement("div"),u=at.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",gt.opacity="0.5"===u.style.opacity,gt.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",gt.clearCloneStyle="content-box"===u.style.backgroundClip,l=at.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),gt.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,vt.extend(gt,{reliableHiddenOffsets:function(){return null==e&&t(),o},boxSizingReliable:function(){return null==e&&t(),r},pixelMarginRight:function(){return null==e&&t(),i},pixelPosition:function(){return null==e&&t(),e},reliableMarginRight:function(){return null==e&&t(),s},reliableMarginLeft:function(){return null==e&&t(),a}}))}();var ye,xe,be=/^(top|right|bottom|left)$/;n.getComputedStyle?(ye=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},xe=function(t,e,n){var i,r,o,s,a=t.style;return n=n||ye(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||vt.contains(t.ownerDocument,t)||(s=vt.style(t,e)),n&&!gt.pixelMarginRight()&&ge.test(s)&&de.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0===s?s:s+""}):ve.currentStyle&&(ye=function(t){return t.currentStyle},xe=function(t,e,n){var i,r,o,s,a=t.style;return n=n||ye(t),s=n?n[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),ge.test(s)&&!be.test(e)&&(i=a.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"});var we=/alpha\([^)]*\)/i,_e=/opacity\s*=\s*([^)]*)/i,Te=/^(none|table(?!-c[ea]).+)/,ke=new RegExp("^("+Ft+")(.*)$","i"),Ce={position:"absolute",visibility:"hidden",display:"block"},Se={letterSpacing:"0",fontWeight:"400"},Ae=["Webkit","O","Moz","ms"],Le=at.createElement("div").style;vt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=xe(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:gt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=vt.camelCase(e),l=t.style;if(e=vt.cssProps[a]||(vt.cssProps[a]=R(a)||a),s=vt.cssHooks[e]||vt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e];if(o=typeof n,"string"===o&&(r=zt.exec(n))&&r[1]&&(n=m(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(vt.cssNumber[a]?"":"px")),gt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var r,o,s,a=vt.camelCase(e);return e=vt.cssProps[a]||(vt.cssProps[a]=R(a)||a),s=vt.cssHooks[e]||vt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=xe(t,e,i)),"normal"===o&&e in Se&&(o=Se[e]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o}}),vt.each(["height","width"],function(t,e){vt.cssHooks[e]={get:function(t,n,i){if(n)return Te.test(vt.css(t,"display"))&&0===t.offsetWidth?me(t,Ce,function(){return z(t,e,i)}):z(t,e,i)},set:function(t,n,i){var r=i&&ye(t);return j(t,n,i?F(t,e,i,gt.boxSizing&&"border-box"===vt.css(t,"boxSizing",!1,r),r):0)}}}),gt.opacity||(vt.cssHooks.opacity={get:function(t,e){return _e.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=vt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===vt.trim(o.replace(we,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=we.test(o)?o.replace(we,r):o+" "+r)}}),vt.cssHooks.marginRight=D(gt.reliableMarginRight,function(t,e){if(e)return me(t,{display:"inline-block"},xe,[t,"marginRight"])}),vt.cssHooks.marginLeft=D(gt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(xe(t,"marginLeft"))||(vt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-me(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),vt.each({margin:"",padding:"",border:"Width"},function(t,e){vt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Ht[i]+e]=o[i]||o[i-2]||o[0];return r}},de.test(t)||(vt.cssHooks[t+e].set=j)}),vt.fn.extend({css:function(t,e){return $t(this,function(t,e,n){var i,r,o={},s=0;if(vt.isArray(e)){for(i=ye(t),r=e.length;s<r;s++)o[e[s]]=vt.css(t,e[s],!1,i);return o}return void 0!==n?vt.style(t,e,n):vt.css(t,e)},t,e,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){qt(this)?vt(this).show():vt(this).hide()})}}),vt.Tween=H,H.prototype={constructor:H,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||vt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(vt.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.options.duration?this.pos=e=vt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=vt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){vt.fx.step[t.prop]?vt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[vt.cssProps[t.prop]]&&!vt.cssHooks[t.prop]?t.elem[t.prop]=t.now:vt.style(t.elem,t.prop,t.now+t.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},vt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},vt.fx=H.prototype.init,vt.fx.step={};var Ee,Ne,Ie=/^(?:toggle|show|hide)$/,Oe=/queueHooks$/;vt.Animation=vt.extend(K,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return m(n.elem,t,zt.exec(e),n),n}]},tweener:function(t,e){vt.isFunction(t)?(e=t,t=["*"]):t=t.match(Mt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(e)},prefilters:[U],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),vt.speed=function(t,e,n){var i=t&&"object"==typeof t?vt.extend({},t):{complete:n||!n&&e||vt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!vt.isFunction(e)&&e};return i.duration=vt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in vt.fx.speeds?vt.fx.speeds[i.duration]:vt.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){vt.isFunction(i.old)&&i.old.call(this),i.queue&&vt.dequeue(this,i.queue)},i},vt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(qt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=vt.isEmptyObject(t),o=vt.speed(e,n,i),s=function(){var e=K(this,vt.extend({},t),o);(r||vt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=vt.timers,s=vt._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Oe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||vt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=vt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=vt.timers,s=i?i.length:0;for(n.finish=!0,vt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),vt.each(["toggle","show","hide"],function(t,e){var n=vt.fn[e];vt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate($(e,!0),t,i,r)}}),vt.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){vt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),vt.timers=[],vt.fx.tick=function(){var t,e=vt.timers,n=0;for(Ee=vt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||vt.fx.stop(),Ee=void 0},vt.fx.timer=function(t){vt.timers.push(t),t()?vt.fx.start():vt.timers.pop()},vt.fx.interval=13,vt.fx.start=function(){Ne||(Ne=n.setInterval(vt.fx.tick,vt.fx.interval))},vt.fx.stop=function(){n.clearInterval(Ne),Ne=null},vt.fx.speeds={slow:600,fast:200,_default:400},vt.fn.delay=function(t,e){return t=vt.fx?vt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t,e=at.createElement("input"),n=at.createElement("div"),i=at.createElement("select"),r=i.appendChild(at.createElement("option"));n=at.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),t=n.getElementsByTagName("a")[0],t.style.cssText="top:1px",gt.getSetAttribute="t"!==n.className,gt.style=/top/.test(t.getAttribute("style")),gt.hrefNormalized="/a"===t.getAttribute("href"),gt.checkOn=!!e.value,gt.optSelected=r.selected,gt.enctype=!!at.createElement("form").enctype,i.disabled=!0,gt.optDisabled=!r.disabled,e=at.createElement("input"),e.setAttribute("value",""),gt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),gt.radioValue="t"===e.value}();var Me=/\r/g,Pe=/[\x20\t\r\n\f]+/g;vt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=vt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,vt(this).val()):t,null==r?r="":"number"==typeof r?r+="":vt.isArray(r)&&(r=vt.map(r,function(t){return null==t?"":t+""})),e=vt.valHooks[this.type]||vt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=vt.valHooks[r.type]||vt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Me,""):null==n?"":n)}}}),vt.extend({valHooks:{option:{get:function(t){var e=vt.find.attr(t,"value");return null!=e?e:vt.trim(vt.text(t)).replace(Pe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(n=i[l],(n.selected||l===r)&&(gt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!vt.nodeName(n.parentNode,"optgroup"))){if(e=vt(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=vt.makeArray(e),s=r.length;s--;)if(i=r[s],vt.inArray(vt.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),vt.each(["radio","checkbox"],function(){vt.valHooks[this]={set:function(t,e){if(vt.isArray(e))return t.checked=vt.inArray(vt(t).val(),e)>-1}},gt.checkOn||(vt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var De,Re,Be=vt.expr.attrHandle,je=/^(?:checked|selected)$/i,Fe=gt.getSetAttribute,ze=gt.input;vt.fn.extend({attr:function(t,e){return $t(this,vt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){vt.removeAttr(this,t)})}}),vt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?vt.prop(t,e,n):(1===o&&vt.isXMLDoc(t)||(e=e.toLowerCase(),r=vt.attrHooks[e]||(vt.expr.match.bool.test(e)?Re:De)),void 0!==n?null===n?void vt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=vt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!gt.radioValue&&"radio"===e&&vt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(Mt);if(o&&1===t.nodeType)for(;n=o[r++];)i=vt.propFix[n]||n,vt.expr.match.bool.test(n)?ze&&Fe||!je.test(n)?t[i]=!1:t[vt.camelCase("default-"+n)]=t[i]=!1:vt.attr(t,n,""),t.removeAttribute(Fe?n:i)}}),Re={set:function(t,e,n){return e===!1?vt.removeAttr(t,n):ze&&Fe||!je.test(n)?t.setAttribute(!Fe&&vt.propFix[n]||n,n):t[vt.camelCase("default-"+n)]=t[n]=!0,n}},vt.each(vt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Be[e]||vt.find.attr;ze&&Fe||!je.test(e)?Be[e]=function(t,e,i){var r,o;return i||(o=Be[e],Be[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,Be[e]=o),r}:Be[e]=function(t,e,n){if(!n)return t[vt.camelCase("default-"+e)]?e.toLowerCase():null}}),ze&&Fe||(vt.attrHooks.value={set:function(t,e,n){return vt.nodeName(t,"input")?void(t.defaultValue=e):De&&De.set(t,e,n)}}),Fe||(De={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},Be.id=Be.name=Be.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},vt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:De.set},vt.attrHooks.contenteditable={set:function(t,e,n){De.set(t,""!==e&&e,n)}},vt.each(["width","height"],function(t,e){vt.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),gt.style||(vt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var He=/^(?:input|select|textarea|button|object)$/i,qe=/^(?:a|area)$/i;vt.fn.extend({prop:function(t,e){return $t(this,vt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=vt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),vt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&vt.isXMLDoc(t)||(e=vt.propFix[e]||e,r=vt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=vt.find.attr(t,"tabindex");return e?parseInt(e,10):He.test(t.nodeName)||qe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),gt.hrefNormalized||vt.each(["href","src"],function(t,e){vt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),gt.optSelected||(vt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),vt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){vt.propFix[this.toLowerCase()]=this}),gt.enctype||(vt.propFix.enctype="encoding");var $e=/[\t\r\n\f]/g;vt.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(vt.isFunction(t))return this.each(function(e){vt(this).addClass(t.call(this,e,X(this)))});if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[l++];)if(r=X(n),i=1===n.nodeType&&(" "+r+" ").replace($e," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=vt.trim(i),r!==a&&vt.attr(n,"class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(vt.isFunction(t))return this.each(function(e){vt(this).removeClass(t.call(this,e,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[l++];)if(r=X(n),i=1===n.nodeType&&(" "+r+" ").replace($e," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=vt.trim(i),r!==a&&vt.attr(n,"class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):vt.isFunction(t)?this.each(function(n){vt(this).toggleClass(t.call(this,n,X(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=vt(this),o=t.match(Mt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=X(this),e&&vt._data(this,"__className__",e),vt.attr(this,"class",e||t===!1?"":vt._data(this,"__className__")||""));
})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+X(n)+" ").replace($e," ").indexOf(e)>-1)return!0;return!1}}),vt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){vt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),vt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var We=n.location,Ue=vt.now(),Ve=/\?/,Ke=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;vt.parseJSON=function(t){if(n.JSON&&n.JSON.parse)return n.JSON.parse(t+"");var e,i=null,r=vt.trim(t+"");return r&&!vt.trim(r.replace(Ke,function(t,n,r,o){return e&&n&&(i=0),0===i?t:(e=r||n,i+=!o-!r,"")}))?Function("return "+r)():vt.error("Invalid JSON: "+t)},vt.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{n.DOMParser?(i=new n.DOMParser,e=i.parseFromString(t,"text/xml")):(e=new n.ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||vt.error("Invalid XML: "+t),e};var Xe=/#.*$/,Ye=/([?&])_=[^&]*/,Ge=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Je=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qe=/^(?:GET|HEAD)$/,Ze=/^\/\//,tn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,en={},nn={},rn="*/".concat("*"),on=We.href,sn=tn.exec(on.toLowerCase())||[];vt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:on,type:"GET",isLocal:Je.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":vt.parseJSON,"text xml":vt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?J(J(t,vt.ajaxSettings),e):J(vt.ajaxSettings,t)},ajaxPrefilter:Y(en),ajaxTransport:Y(nn),ajax:function(t,e){function i(t,e,i,r){var o,h,y,x,w,T=e;2!==b&&(b=2,l&&n.clearTimeout(l),c=void 0,a=r||"",_.readyState=t>0?4:0,o=t>=200&&t<300||304===t,i&&(x=Q(f,_,i)),x=Z(f,x,_,o),o?(f.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(vt.lastModified[s]=w),w=_.getResponseHeader("etag"),w&&(vt.etag[s]=w)),204===t||"HEAD"===f.type?T="nocontent":304===t?T="notmodified":(T=x.state,h=x.data,y=x.error,o=!y)):(y=T,!t&&T||(T="error",t<0&&(t=0))),_.status=t,_.statusText=(e||T)+"",o?g.resolveWith(p,[h,T,_]):g.rejectWith(p,[_,T,y]),_.statusCode(v),v=void 0,u&&d.trigger(o?"ajaxSuccess":"ajaxError",[_,f,o?h:y]),m.fireWith(p,[_,T]),u&&(d.trigger("ajaxComplete",[_,f]),--vt.active||vt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,s,a,l,u,c,h,f=vt.ajaxSetup({},e),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?vt(p):vt.event,g=vt.Deferred(),m=vt.Callbacks("once memory"),v=f.statusCode||{},y={},x={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!h)for(h={};e=Ge.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=x[n]=x[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)v[e]=[v[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||w;return c&&c.abort(e),i(0,e),this}};if(g.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,f.url=((t||f.url||on)+"").replace(Xe,"").replace(Ze,sn[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=vt.trim(f.dataType||"*").toLowerCase().match(Mt)||[""],null==f.crossDomain&&(r=tn.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===sn[1]&&r[2]===sn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=vt.param(f.data,f.traditional)),G(en,f,e,_),2===b)return _;u=vt.event&&f.global,u&&0===vt.active++&&vt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Qe.test(f.type),s=f.url,f.hasContent||(f.data&&(s=f.url+=(Ve.test(s)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Ye.test(s)?s.replace(Ye,"$1_="+Ue++):s+(Ve.test(s)?"&":"?")+"_="+Ue++)),f.ifModified&&(vt.lastModified[s]&&_.setRequestHeader("If-Modified-Since",vt.lastModified[s]),vt.etag[s]&&_.setRequestHeader("If-None-Match",vt.etag[s])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+rn+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)_.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(f.beforeSend.call(p,_,f)===!1||2===b))return _.abort();w="abort";for(o in{success:1,error:1,complete:1})_[o](f[o]);if(c=G(nn,f,e,_)){if(_.readyState=1,u&&d.trigger("ajaxSend",[_,f]),2===b)return _;f.async&&f.timeout>0&&(l=n.setTimeout(function(){_.abort("timeout")},f.timeout));try{b=1,c.send(y,i)}catch(t){if(!(b<2))throw t;i(-1,t)}}else i(-1,"No Transport");return _},getJSON:function(t,e,n){return vt.get(t,e,n,"json")},getScript:function(t,e){return vt.get(t,void 0,e,"script")}}),vt.each(["get","post"],function(t,e){vt[e]=function(t,n,i,r){return vt.isFunction(n)&&(r=r||i,i=n,n=void 0),vt.ajax(vt.extend({url:t,type:e,dataType:r,data:n,success:i},vt.isPlainObject(t)&&t))}}),vt._evalUrl=function(t){return vt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},vt.fn.extend({wrapAll:function(t){if(vt.isFunction(t))return this.each(function(e){vt(this).wrapAll(t.call(this,e))});if(this[0]){var e=vt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return vt.isFunction(t)?this.each(function(e){vt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=vt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=vt.isFunction(t);return this.each(function(n){vt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){vt.nodeName(this,"body")||vt(this).replaceWith(this.childNodes)}).end()}}),vt.expr.filters.hidden=function(t){return gt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:et(t)},vt.expr.filters.visible=function(t){return!vt.expr.filters.hidden(t)};var an=/%20/g,ln=/\[\]$/,un=/\r?\n/g,cn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;vt.param=function(t,e){var n,i=[],r=function(t,e){e=vt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=vt.ajaxSettings&&vt.ajaxSettings.traditional),vt.isArray(t)||t.jquery&&!vt.isPlainObject(t))vt.each(t,function(){r(this.name,this.value)});else for(n in t)nt(n,t[n],e,r);return i.join("&").replace(an,"+")},vt.fn.extend({serialize:function(){return vt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=vt.prop(this,"elements");return t?vt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!vt(this).is(":disabled")&&hn.test(this.nodeName)&&!cn.test(t)&&(this.checked||!Wt.test(t))}).map(function(t,e){var n=vt(this).val();return null==n?null:vt.isArray(n)?vt.map(n,function(t){return{name:e.name,value:t.replace(un,"\r\n")}}):{name:e.name,value:n.replace(un,"\r\n")}}).get()}}),vt.ajaxSettings.xhr=void 0!==n.ActiveXObject?function(){return this.isLocal?rt():at.documentMode>8?it():/^(get|post|head|put|delete|options)$/i.test(this.type)&&it()||rt()}:it;var fn=0,pn={},dn=vt.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var t in pn)pn[t](void 0,!0)}),gt.cors=!!dn&&"withCredentials"in dn,dn=gt.ajax=!!dn,dn&&vt.ajaxTransport(function(t){if(!t.crossDomain||gt.cors){var e;return{send:function(i,r){var o,s=t.xhr(),a=++fn;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&s.setRequestHeader(o,i[o]+"");s.send(t.hasContent&&t.data||null),e=function(n,i){var o,l,u;if(e&&(i||4===s.readyState))if(delete pn[a],e=void 0,s.onreadystatechange=vt.noop,i)4!==s.readyState&&s.abort();else{u={},o=s.status,"string"==typeof s.responseText&&(u.text=s.responseText);try{l=s.statusText}catch(t){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=u.text?200:404}u&&r(o,l,u,s.getAllResponseHeaders())},t.async?4===s.readyState?n.setTimeout(e):s.onreadystatechange=pn[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),vt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return vt.globalEval(t),t}}}),vt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),vt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=at.head||vt("head")[0]||at.documentElement;return{send:function(i,r){e=at.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var gn=[],mn=/(=)\?(?=&|$)|\?\?/;vt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=gn.pop()||vt.expando+"_"+Ue++;return this[t]=!0,t}}),vt.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=t.jsonp!==!1&&(mn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&mn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=vt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(mn,"$1"+r):t.jsonp!==!1&&(t.url+=(Ve.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||vt.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?vt(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,gn.push(r)),s&&vt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),vt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||at;var i=St.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=w([t],e,r),r&&r.length&&vt(r).remove(),vt.merge([],i.childNodes))};var vn=vt.fn.load;vt.fn.load=function(t,e,n){if("string"!=typeof t&&vn)return vn.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=vt.trim(t.slice(a,t.length)),t=t.slice(0,a)),vt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&vt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?vt("<div>").append(vt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},vt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){vt.fn[e]=function(t){return this.on(e,t)}}),vt.expr.filters.animated=function(t){return vt.grep(vt.timers,function(e){return t===e.elem}).length},vt.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u,c=vt.css(t,"position"),h=vt(t),f={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=vt.css(t,"top"),l=vt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&vt.inArray("auto",[o,l])>-1,u?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),vt.isFunction(e)&&(e=e.call(t,n,vt.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):h.css(f)}},vt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){vt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return e=o.documentElement,vt.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=ot(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===vt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),vt.nodeName(t[0],"html")||(n=t.offset()),n.top+=vt.css(t[0],"borderTopWidth",!0),n.left+=vt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-vt.css(i,"marginTop",!0),left:e.left-n.left-vt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!vt.nodeName(t,"html")&&"static"===vt.css(t,"position");)t=t.offsetParent;return t||ve})}}),vt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);vt.fn[t]=function(i){return $t(this,function(t,i,r){var o=ot(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?vt(o).scrollLeft():r,n?r:vt(o).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),vt.each(["top","left"],function(t,e){vt.cssHooks[e]=D(gt.pixelPosition,function(t,n){if(n)return n=xe(t,e),ge.test(n)?vt(t).position()[e]+"px":n})}),vt.each({Height:"height",Width:"width"},function(t,e){vt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){vt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return $t(this,function(e,n,i){var r;return vt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?vt.css(e,n,s):vt.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),vt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),vt.fn.size=function(){return this.length},vt.fn.andSelf=vt.fn.addBack,i=[],r=function(){return vt}.apply(e,i),!(void 0!==r&&(t.exports=r));var yn=n.jQuery,xn=n.$;return vt.noConflict=function(t){return n.$===vt&&(n.$=xn),t&&n.jQuery===vt&&(n.jQuery=yn),vt},o||(n.jQuery=n.$=vt),vt})},function(t,e,n){!function(e,n){t.exports=n()}(window,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){var i,r;i=[n(2)],void 0===(r=function(t){function e(n){if(e.is(n,"function"))return v?n():t.on("raphael.DOMload",n);if(e.is(n,$))return e._engine.create[S](e,n.splice(0,3+e.is(n[0],q))).add(n);var i=Array.prototype.slice.call(arguments,0);if(e.is(i[i.length-1],"function")){var r=i.pop();return v?r.call(e._engine.create[S](e,i)):t.on("raphael.DOMload",function(){r.call(e._engine.create[S](e,i))})}return e._engine.create[S](e,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[_](i)&&(e[i]=n(t[i]));return e}function i(t,e,n){return function i(){var r=Array.prototype.slice.call(arguments,0),o=r.join("␀"),s=i.cache=i.cache||{},a=i.count=i.count||[];return s[_](o)?(function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(a,o),n?n(s[o]):s[o]):(a.length>=1e3&&delete s[a.shift()],a.push(o),s[o]=t[S](e,r),n?n(s[o]):s[o])}}function r(){return this.hex}function o(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function s(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function a(t,e,n,i,r,o,a,l,u){null==u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<12;d++){var g=c*h[d]+c,m=s(g,t,n,r,a),v=s(g,e,i,o,l),y=m*m+v*v;p+=f[d]*R.sqrt(y)}return c*p}function l(t,e,n,i,r,o,s,a){if(!(B(t,n)<j(r,s)||j(t,n)>B(r,s)||B(e,i)<j(o,a)||j(e,i)>B(o,a))){var l=(t-n)*(o-a)-(e-i)*(r-s);if(l){var u=((t*i-e*n)*(r-s)-(t-n)*(r*a-o*s))/l,c=((t*i-e*n)*(o-a)-(e-i)*(r*a-o*s))/l,h=+u.toFixed(2),f=+c.toFixed(2);if(!(h<+j(t,n).toFixed(2)||h>+B(t,n).toFixed(2)||h<+j(r,s).toFixed(2)||h>+B(r,s).toFixed(2)||f<+j(e,i).toFixed(2)||f>+B(e,i).toFixed(2)||f<+j(o,a).toFixed(2)||f>+B(o,a).toFixed(2)))return{x:u,y:c}}}}function u(t,n,i){var r=e.bezierBBox(t),o=e.bezierBBox(n);if(!e.isBBoxIntersect(r,o))return i?0:[];for(var s=a.apply(0,t),u=a.apply(0,n),c=B(~~(s/5),1),h=B(~~(u/5),1),f=[],p=[],d={},g=i?0:[],m=0;m<c+1;m++){var v=e.findDotsAtSegment.apply(e,t.concat(m/c));f.push({x:v.x,y:v.y,t:m/c})}for(m=0;m<h+1;m++)v=e.findDotsAtSegment.apply(e,n.concat(m/h)),p.push({x:v.x,y:v.y,t:m/h});for(m=0;m<c;m++)for(var y=0;y<h;y++){var x=f[m],b=f[m+1],w=p[y],_=p[y+1],T=F(b.x-x.x)<.001?"y":"x",k=F(_.x-w.x)<.001?"y":"x",C=l(x.x,x.y,b.x,b.y,w.x,w.y,_.x,_.y);if(C){if(d[C.x.toFixed(4)]==C.y.toFixed(4))continue;d[C.x.toFixed(4)]=C.y.toFixed(4);var S=x.t+F((C[T]-x[T])/(b[T]-x[T]))*(b.t-x.t),A=w.t+F((C[k]-w[k])/(_[k]-w[k]))*(_.t-w.t);S>=0&&S<=1.001&&A>=0&&A<=1.001&&(i?g++:g.push({x:C.x,y:C.y,t1:j(S,1),t2:j(A,1)}))}}return g}function c(t,n,i){t=e._path2curve(t),n=e._path2curve(n);for(var r,o,s,a,l,c,h,f,p,d,g=i?0:[],m=0,v=t.length;m<v;m++){var y=t[m];if("M"==y[0])r=l=y[1],o=c=y[2];else{"C"==y[0]?(p=[r,o].concat(y.slice(1)),r=p[6],o=p[7]):(p=[r,o,r,o,l,c,l,c],r=l,o=c);for(var x=0,b=n.length;x<b;x++){var w=n[x];if("M"==w[0])s=h=w[1],a=f=w[2];else{"C"==w[0]?(d=[s,a].concat(w.slice(1)),s=d[6],a=d[7]):(d=[s,a,s,a,h,f,h,f],s=h,a=f);var _=u(p,d,i);if(i)g+=_;else{for(var T=0,k=_.length;T<k;T++)_[T].segment1=m,_[T].segment2=x,_[T].bez1=p,_[T].bez2=d;g=g.concat(_)}}}}}return g}function h(t,e,n,i,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function f(){return this.x+N+this.y+N+this.width+" × "+this.height}function p(t,e,n,i,r,o){function s(t){return((u*t+l)*t+a)*t}var a=3*e,l=3*(i-e)-a,u=1-a-l,c=3*n,h=3*(r-n)-c,f=1-c-h;return function(t,e){var n=function(t,e){var n,i,r,o,c,h;for(r=t,h=0;h<8;h++){if(o=s(r)-t,F(o)<e)return r;if(F(c=(3*u*r+2*l)*r+a)<1e-6)break;r-=o/c}if(i=1,(r=t)<(n=0))return n;if(r>i)return i;for(;n<i;){if(o=s(r),F(o-t)<e)return r;t>o?n=r:i=r,r=(i-n)/2+n}return r}(t,e);return((f*n+h)*n+c)*n}(t,1/(200*o))}function d(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var r in t)t[_](r)&&(i[Y(r)]=t[r],n.push(Y(r)));n.sort(at)}this.anim=i,this.top=n[n.length-1],this.percents=n}function g(n,i,r,o,s,a){r=Y(r);var l,u,c,f,d,g,m=n.ms,v={},y={},b={};if(o)for(T=0,k=ie.length;T<k;T++){var w=ie[T];if(w.el.id==i.id&&w.anim==n){w.percent!=r?(ie.splice(T,1),c=1):u=w,i.attr(w.totalOrigin);break}}else o=+y;for(var T=0,k=n.percents.length;T<k;T++){if(n.percents[T]==r||n.percents[T]>o*n.top){r=n.percents[T],d=n.percents[T-1]||0,m=m/n.top*(r-d),f=n.percents[T+1],l=n.anim[r];break}o&&i.attr(n.anim[n.percents[T]])}if(l){if(u)u.initstatus=o,u.start=new Date-u.ms*o;else{for(var C in l)if(l[_](C)&&(Z[_](C)||i.paper.customAttributes[_](C)))switch(v[C]=i.attr(C),null==v[C]&&(v[C]=Q[C]),y[C]=l[C],Z[C]){case q:b[C]=(y[C]-v[C])/m;break;case"colour":v[C]=e.getRGB(v[C]);var S=e.getRGB(y[C]);b[C]={r:(S.r-v[C].r)/m,g:(S.g-v[C].g)/m,b:(S.b-v[C].b)/m};break;case"path":var L=Mt(v[C],y[C]),E=L[1];for(v[C]=L[0],b[C]=[],T=0,k=v[C].length;T<k;T++){b[C][T]=[0];for(var N=1,M=v[C][T].length;N<M;N++)b[C][T][N]=(E[T][N]-v[C][T][N])/m}break;case"transform":var P=i._,D=jt(P[C],y[C]);if(D)for(v[C]=D.from,y[C]=D.to,b[C]=[],b[C].real=!0,T=0,k=v[C].length;T<k;T++)for(b[C][T]=[v[C][T][0]],N=1,M=v[C][T].length;N<M;N++)b[C][T][N]=(y[C][T][N]-v[C][T][N])/m;else{var R=i.matrix||new h,B={_:{transform:P.transform},getBBox:function(){return i.getBBox(1)}};v[C]=[R.a,R.b,R.c,R.d,R.e,R.f],Rt(B,y[C]),y[C]=B._.transform,b[C]=[(B.matrix.a-R.a)/m,(B.matrix.b-R.b)/m,(B.matrix.c-R.c)/m,(B.matrix.d-R.d)/m,(B.matrix.e-R.e)/m,(B.matrix.f-R.f)/m]}break;case"csv":var j=I(l[C])[O](x),F=I(v[C])[O](x);if("clip-rect"==C)for(v[C]=F,b[C]=[],T=F.length;T--;)b[C][T]=(j[T]-v[C][T])/m;y[C]=j;break;default:for(j=[][A](l[C]),F=[][A](v[C]),b[C]=[],T=i.paper.customAttributes[C].length;T--;)b[C][T]=((j[T]||0)-(F[T]||0))/m}var z=l.easing,H=e.easing_formulas[z];if(!H)if((H=I(z).match(K))&&5==H.length){var $=H;H=function(t){return p(t,+$[1],+$[2],+$[3],+$[4],m)}}else H=lt;if(w={anim:n,percent:r,timestamp:g=l.start||n.start||+new Date,start:g+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:m,easing:H,from:v,diff:b,to:y,el:i,callback:l.callback,prev:d,next:f,repeat:a||n.times,origin:i.attr(),totalOrigin:s},ie.push(w),o&&!u&&!c&&(w.stop=!0,w.start=new Date-m*o,1==ie.length))return oe();c&&(w.start=new Date-w.ms*o),1==ie.length&&re(oe)}t("raphael.anim.start."+i.id,i,n)}}function m(t){for(var e=0;e<ie.length;e++)ie[e].el.paper==t&&ie.splice(e--,1)}e.version="2.3.0",e.eve=t;var v,y,x=/[, ]+/,b={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},w=/\{(\d+)\}/g,_="hasOwnProperty",T={doc:document,win:window},k={was:Object.prototype[_].call(T.win,"Raphael"),is:T.win.Raphael},C=function(){this.ca=this.customAttributes={}},S="apply",A="concat",L="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,E="",N=" ",I=String,O="split",M="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[O](N),P={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},D=I.prototype.toLowerCase,R=Math,B=R.max,j=R.min,F=R.abs,z=R.pow,H=R.PI,q="number",$="array",W=Object.prototype.toString,U=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),V={NaN:1,Infinity:1,"-Infinity":1},K=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,X=R.round,Y=parseFloat,G=parseInt,J=I.prototype.toUpperCase,Q=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},Z=e._availableAnimAttrs={blur:q,"clip-rect":"csv",cx:q,cy:q,fill:"colour","fill-opacity":q,"font-size":q,height:q,opacity:q,path:"path",r:q,rx:q,ry:q,stroke:"colour","stroke-opacity":q,"stroke-width":q,transform:"transform",width:q,x:q,y:q},tt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,et={hs:1,rg:1},nt=/,?([achlmqrstvxz]),?/gi,it=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,rt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ot=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,st=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),at=function(t,e){return Y(t)-Y(e)},lt=function(t){return t},ut=e._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},ct=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},ht=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return ct(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return ct(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ut(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ut(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ut(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ut(e.x,e.y,e.width,e.height)}},ft=e.mapPath=function(t,e){if(!e)return t;var n,i,r,o,s,a,l;for(r=0,s=(t=Mt(t)).length;r<s;r++)for(o=1,a=(l=t[r]).length;o<a;o+=2)n=e.x(l[o],l[o+1]),i=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return t};if(e._g=T,e.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var pt,dt=T.doc.createElement("div");if(dt.innerHTML='<v:shape adj="1"/>',(pt=dt.firstChild).style.behavior="url(#default#VML)",!pt||"object"!=typeof pt.adj)return e.type=E;dt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=C,e.fn=y=C.prototype=e.prototype,e._id=0,e.is=function(t,e){return"finite"==(e=D.call(e))?!V[_](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||W.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,n,i,r,o,s){if(null==o){var a=t-i,l=n-r;return a||l?(180+180*R.atan2(-l,-a)/H+360)%360:0}return e.angle(t,n,o,s)-e.angle(i,r,o,s)},e.rad=function(t){return t%360*H/180},e.deg=function(t){return Math.round(180*t/H%360*1e3)/1e3},e.snapTo=function(t,n,i){if(i=e.is(i,"finite")?i:10,e.is(t,$)){for(var r=t.length;r--;)if(F(t[r]-n)<=i)return t[r]}else{var o=n%(t=+t);if(o<i)return n-o;if(o>t-i)return n-o+t}return n};var gt,mt;e.createUUID=(gt=/[xy]/g,mt=function(t){var e=16*R.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(gt,mt).toUpperCase()}),e.setWindow=function(n){t("raphael.setWindow",e,T.win,n),T.win=n,T.doc=T.win.document,e._engine.initWin&&e._engine.initWin(T.win)};var vt=function(t){if(e.vml){var n,r=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(t){n=createPopup().document.body}var s=n.createTextRange();vt=i(function(t){try{n.style.color=I(t).replace(r,E);var e=s.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else{var a=T.doc.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",T.doc.body.appendChild(a),vt=i(function(t){return a.style.color=t,T.doc.defaultView.getComputedStyle(a,E).getPropertyValue("color")})}return vt(t)},yt=function(){return"hsb("+[this.h,this.s,this.b]+")"},xt=function(){return"hsl("+[this.h,this.s,this.l]+")"},bt=function(){return this.hex},wt=function(t,n,i){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,n=t.g,t=t.r),null==n&&e.is(t,"string")){var r=e.getRGB(t);t=r.r,n=r.g,i=r.b}return(t>1||n>1||i>1)&&(t/=255,n/=255,i/=255),[t,n,i]},_t=function(t,n,i,r){var o={r:t*=255,g:n*=255,b:i*=255,hex:e.rgb(t,n,i),toString:bt};return e.is(r,"finite")&&(o.opacity=r),o};e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=bt,t},e.hsb2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=t.o,t=t.h),a=(l=n*e)*(1-F((t=(t*=360)%360/60)%2-1)),r=o=s=n-l,_t(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],i)},e.hsl2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),a=(l=2*e*(n<.5?n:1-n))*(1-F((t=(t*=360)%360/60)%2-1)),r=o=s=n-l/2,_t(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],i)},e.rgb2hsb=function(t,e,n){var i,r;return t=(n=wt(t,e,n))[0],e=n[1],n=n[2],{h:((0==(r=(i=B(t,e,n))-j(t,e,n))?null:i==t?(e-n)/r:i==e?(n-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/i,b:i,toString:yt}},e.rgb2hsl=function(t,e,n){var i,r,o,s;return t=(n=wt(t,e,n))[0],e=n[1],n=n[2],i=((r=B(t,e,n))+(o=j(t,e,n)))/2,{h:((0==(s=r-o)?null:r==t?(e-n)/s:r==e?(n-t)/s+2:(t-e)/s+4)+360)%6*60/360,s:0==s?0:i<.5?s/(2*i):s/(2-2*i),l:i,toString:xt}},e._path2string=function(){return this.join(",").replace(nt,"$1")},e._preload=function(t,e){var n=T.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,
T.doc.body.removeChild(this)},n.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(n),n.src=t},e.getRGB=i(function(t){if(!t||(t=I(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:r};!et[_](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=vt(t));var n,i,o,s,a,l,u=t.match(U);return u?(u[2]&&(o=G(u[2].substring(5),16),i=G(u[2].substring(3,5),16),n=G(u[2].substring(1,3),16)),u[3]&&(o=G((a=u[3].charAt(3))+a,16),i=G((a=u[3].charAt(2))+a,16),n=G((a=u[3].charAt(1))+a,16)),u[4]&&(l=u[4][O](tt),n=Y(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),i=Y(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),o=Y(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(s=Y(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),u[5]?(l=u[5][O](tt),n=Y(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),i=Y(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),o=Y(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(s=Y(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsb2rgb(n,i,o,s)):u[6]?(l=u[6][O](tt),n=Y(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),i=Y(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),o=Y(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(s=Y(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsl2rgb(n,i,o,s)):((u={r:n,g:i,b:o,toString:r}).hex="#"+(16777216|o|i<<8|n<<16).toString(16).slice(1),e.is(s,"finite")&&(u.opacity=s),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r}},e),e.hsb=i(function(t,n,i){return e.hsb2rgb(t,n,i).hex}),e.hsl=i(function(t,n,i){return e.hsl2rgb(t,n,i).hex}),e.rgb=i(function(t,e,n){function i(t){return t+.5|0}return"#"+(16777216|i(n)|i(e)<<8|i(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=Tt(t);if(n.arr)return Ct(n.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,$)&&e.is(t[0],$)&&(r=Ct(t)),r.length||I(t).replace(it,function(t,e,n){var o=[],s=e.toLowerCase();if(n.replace(ot,function(t,e){e&&o.push(+e)}),"m"==s&&o.length>2&&(r.push([e][A](o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e][A](o));else for(;o.length>=i[s]&&(r.push([e][A](o.splice(0,i[s]))),i[s]););}),r.toString=e._path2string,n.arr=Ct(r),r},e.parseTransformString=i(function(t){if(!t)return null;var n=[];return e.is(t,$)&&e.is(t[0],$)&&(n=Ct(t)),n.length||I(t).replace(rt,function(t,e,i){var r=[];D.call(e),i.replace(ot,function(t,e){e&&r.push(+e)}),n.push([e][A](r))}),n.toString=e._path2string,n},this,function(t){if(!t)return t;for(var e=[],n=0;n<t.length;n++){for(var i=[],r=0;r<t[n].length;r++)i.push(t[n][r]);e.push(i)}return e});var Tt=function(t){var e=Tt.ps=Tt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[_](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};e.findDotsAtSegment=function(t,e,n,i,r,o,s,a,l){var u=1-l,c=z(u,3),h=z(u,2),f=l*l,p=f*l,d=c*t+3*h*l*n+3*u*l*l*r+p*s,g=c*e+3*h*l*i+3*u*l*l*o+p*a,m=t+2*l*(n-t)+f*(r-2*n+t),v=e+2*l*(i-e)+f*(o-2*i+e),y=n+2*l*(r-n)+f*(s-2*r+n),x=i+2*l*(o-i)+f*(a-2*o+i),b=u*t+l*n,w=u*e+l*i,_=u*r+l*s,T=u*o+l*a,k=90-180*R.atan2(m-y,v-x)/H;return(m>y||v<x)&&(k+=180),{x:d,y:g,m:{x:m,y:v},n:{x:y,y:x},start:{x:b,y:w},end:{x:_,y:T},alpha:k}},e.bezierBBox=function(t,n,i,r,o,s,a,l){e.is(t,"array")||(t=[t,n,i,r,o,s,a,l]);var u=Ot.apply(null,t);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},e.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},e.isBBoxIntersect=function(t,n){var i=e.isPointInsideBBox;return i(n,t.x,t.y)||i(n,t.x2,t.y)||i(n,t.x,t.y2)||i(n,t.x2,t.y2)||i(t,n.x,n.y)||i(t,n.x2,n.y)||i(t,n.x,n.y2)||i(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(t,e){return c(t,e)},e.pathIntersectionNumber=function(t,e){return c(t,e,1)},e.isPointInsidePath=function(t,n,i){var r=e.pathBBox(t);return e.isPointInsideBBox(r,n,i)&&c(t,[["M",n,i],["H",r.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var kt=e.pathBBox=function(t){var e=Tt(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var i,r=0,o=0,s=[],a=[],l=0,u=(t=Mt(t)).length;l<u;l++)if("M"==(i=t[l])[0])r=i[1],o=i[2],s.push(r),a.push(o);else{var c=Ot(r,o,i[1],i[2],i[3],i[4],i[5],i[6]);s=s[A](c.min.x,c.max.x),a=a[A](c.min.y,c.max.y),r=i[5],o=i[6]}var h=j[S](0,s),f=j[S](0,a),p=B[S](0,s),d=B[S](0,a),g=p-h,m=d-f,v={x:h,y:f,x2:p,y2:d,width:g,height:m,cx:h+g/2,cy:f+m/2};return e.bbox=n(v),v},Ct=function(t){var i=n(t);return i.toString=e._path2string,i},St=e._pathToRelative=function(t){var n=Tt(t);if(n.rel)return Ct(n.rel);e.is(t,$)&&e.is(t&&t[0],$)||(t=e.parsePathString(t));var i=[],r=0,o=0,s=0,a=0,l=0;"M"==t[0][0]&&(s=r=t[0][1],a=o=t[0][2],l++,i.push(["M",r,o]));for(var u=l,c=t.length;u<c;u++){var h=i[u]=[],f=t[u];if(f[0]!=D.call(f[0]))switch(h[0]=D.call(f[0]),h[0]){case"a":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+(f[6]-r).toFixed(3),h[7]=+(f[7]-o).toFixed(3);break;case"v":h[1]=+(f[1]-o).toFixed(3);break;case"m":s=f[1],a=f[2];default:for(var p=1,d=f.length;p<d;p++)h[p]=+(f[p]-(p%2?r:o)).toFixed(3)}else{h=i[u]=[],"m"==f[0]&&(s=f[1]+r,a=f[2]+o);for(var g=0,m=f.length;g<m;g++)i[u][g]=f[g]}var v=i[u].length;switch(i[u][0]){case"z":r=s,o=a;break;case"h":r+=+i[u][v-1];break;case"v":o+=+i[u][v-1];break;default:r+=+i[u][v-2],o+=+i[u][v-1]}}return i.toString=e._path2string,n.rel=Ct(i),i},At=e._pathToAbsolute=function(t){var n=Tt(t);if(n.abs)return Ct(n.abs);if(e.is(t,$)&&e.is(t&&t[0],$)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],r=0,s=0,a=0,l=0,u=0;"M"==t[0][0]&&(a=r=+t[0][1],l=s=+t[0][2],u++,i[0]=["M",r,s]);for(var c,h,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=u,d=t.length;p<d;p++){if(i.push(c=[]),(h=t[p])[0]!=J.call(h[0]))switch(c[0]=J.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+r),c[7]=+(h[7]+s);break;case"V":c[1]=+h[1]+s;break;case"H":c[1]=+h[1]+r;break;case"R":for(var g=[r,s][A](h.slice(1)),m=2,v=g.length;m<v;m++)g[m]=+g[m]+r,g[++m]=+g[m]+s;i.pop(),i=i[A](o(g,f));break;case"M":a=+h[1]+r,l=+h[2]+s;default:for(m=1,v=h.length;m<v;m++)c[m]=+h[m]+(m%2?r:s)}else if("R"==h[0])g=[r,s][A](h.slice(1)),i.pop(),i=i[A](o(g,f)),c=["R"][A](h.slice(-2));else for(var y=0,x=h.length;y<x;y++)c[y]=h[y];switch(c[0]){case"Z":r=a,s=l;break;case"H":r=c[1];break;case"V":s=c[1];break;case"M":a=c[c.length-2],l=c[c.length-1];default:r=c[c.length-2],s=c[c.length-1]}}return i.toString=e._path2string,n.abs=Ct(i),i},Lt=function(t,e,n,i){return[t,e,n,i,n,i]},Et=function(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},Nt=function(t,e,n,r,o,s,a,l,u,c){var h,f=120*H/180,p=H/180*(+o||0),d=[],g=i(function(t,e,n){return{x:t*R.cos(n)-e*R.sin(n),y:t*R.sin(n)+e*R.cos(n)}});if(c)k=c[0],C=c[1],_=c[2],T=c[3];else{t=(h=g(t,e,-p)).x,e=h.y,l=(h=g(l,u,-p)).x,u=h.y,R.cos(H/180*o),R.sin(H/180*o);var m=(t-l)/2,v=(e-u)/2,y=m*m/(n*n)+v*v/(r*r);y>1&&(n*=y=R.sqrt(y),r*=y);var x=n*n,b=r*r,w=(s==a?-1:1)*R.sqrt(F((x*b-x*v*v-b*m*m)/(x*v*v+b*m*m))),_=w*n*v/r+(t+l)/2,T=w*-r*m/n+(e+u)/2,k=R.asin(((e-T)/r).toFixed(9)),C=R.asin(((u-T)/r).toFixed(9));(k=t<_?H-k:k)<0&&(k=2*H+k),(C=l<_?H-C:C)<0&&(C=2*H+C),a&&k>C&&(k-=2*H),!a&&C>k&&(C-=2*H)}var S=C-k;if(F(S)>f){var L=C,E=l,N=u;C=k+f*(a&&C>k?1:-1),l=_+n*R.cos(C),u=T+r*R.sin(C),d=Nt(l,u,n,r,o,0,a,E,N,[C,L,_,T])}S=C-k;var I=R.cos(k),M=R.sin(k),P=R.cos(C),D=R.sin(C),B=R.tan(S/4),j=4/3*n*B,z=4/3*r*B,q=[t,e],$=[t+j*M,e-z*I],W=[l+j*D,u-z*P],U=[l,u];if($[0]=2*q[0]-$[0],$[1]=2*q[1]-$[1],c)return[$,W,U][A](d);for(var V=[],K=0,X=(d=[$,W,U][A](d).join()[O](",")).length;K<X;K++)V[K]=K%2?g(d[K-1],d[K],p).y:g(d[K],d[K+1],p).x;return V},It=function(t,e,n,i,r,o,s,a,l){var u=1-l;return{x:z(u,3)*t+3*z(u,2)*l*n+3*u*l*l*r+z(l,3)*s,y:z(u,3)*e+3*z(u,2)*l*i+3*u*l*l*o+z(l,3)*a}},Ot=i(function(t,e,n,i,r,o,s,a){var l,u=r-2*n+t-(s-2*r+n),c=2*(n-t)-2*(r-n),h=t-n,f=(-c+R.sqrt(c*c-4*u*h))/2/u,p=(-c-R.sqrt(c*c-4*u*h))/2/u,d=[e,a],g=[t,s];return F(f)>"1e12"&&(f=.5),F(p)>"1e12"&&(p=.5),f>0&&f<1&&(l=It(t,e,n,i,r,o,s,a,f),g.push(l.x),d.push(l.y)),p>0&&p<1&&(l=It(t,e,n,i,r,o,s,a,p),g.push(l.x),d.push(l.y)),u=o-2*i+e-(a-2*o+i),h=e-i,f=(-(c=2*(i-e)-2*(o-i))+R.sqrt(c*c-4*u*h))/2/u,p=(-c-R.sqrt(c*c-4*u*h))/2/u,F(f)>"1e12"&&(f=.5),F(p)>"1e12"&&(p=.5),f>0&&f<1&&(l=It(t,e,n,i,r,o,s,a,f),g.push(l.x),d.push(l.y)),p>0&&p<1&&(l=It(t,e,n,i,r,o,s,a,p),g.push(l.x),d.push(l.y)),{min:{x:j[S](0,g),y:j[S](0,d)},max:{x:B[S](0,g),y:B[S](0,d)}}}),Mt=e._path2curve=i(function(t,e){var n=!e&&Tt(t);if(!e&&n.curve)return Ct(n.curve);for(var i=At(t),r=e&&At(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][A](Nt[S](0,[e.x,e.y][A](t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r][A](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][A](Et(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][A](Et(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][A](Lt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][A](Lt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][A](Lt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][A](Lt(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)c[e]="A",r&&(h[e]="A"),t.splice(e++,0,["C"][A](n.splice(0,6)));t.splice(e,1),g=B(i.length,r&&r.length||0)}},u=function(t,e,n,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],g=B(i.length,r&&r.length||0))},c=[],h=[],f="",p="",d=0,g=B(i.length,r&&r.length||0);d<g;d++){i[d]&&(f=i[d][0]),"C"!=f&&(c[d]=f,d&&(p=c[d-1])),i[d]=a(i[d],o,p),"A"!=c[d]&&"C"==f&&(c[d]="C"),l(i,d),r&&(r[d]&&(f=r[d][0]),"C"!=f&&(h[d]=f,d&&(p=h[d-1])),r[d]=a(r[d],s,p),"A"!=h[d]&&"C"==f&&(h[d]="C"),l(r,d)),u(i,r,o,s,d),u(r,i,s,o,d);var m=i[d],v=r&&r[d],y=m.length,x=r&&v.length;o.x=m[y-2],o.y=m[y-1],o.bx=Y(m[y-4])||o.x,o.by=Y(m[y-3])||o.y,s.bx=r&&(Y(v[x-4])||s.x),s.by=r&&(Y(v[x-3])||s.y),s.x=r&&v[x-2],s.y=r&&v[x-1]}return r||(n.curve=Ct(i)),r?[i,r]:i},null,Ct),Pt=(e._parseDots=i(function(t){for(var n=[],i=0,r=t.length;i<r;i++){var o={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(s[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,s[2]&&(o.offset=s[2]+"%"),n.push(o)}for(i=1,r=n.length-1;i<r;i++)if(!n[i].offset){for(var a=Y(n[i-1].offset||0),l=0,u=i+1;u<r;u++)if(n[u].offset){l=n[u].offset;break}l||(l=100,u=r);for(var c=((l=Y(l))-a)/(u-i+1);i<u;i++)a+=c,n[i].offset=a+"%"}return n}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Dt=(e._tofront=function(t,e){e.top!==t&&(Pt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Pt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,n){Pt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,n){Pt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var n=kt(t),i={_:{transform:E},getBBox:function(){return n}};return Rt(i,e),i.matrix}),Rt=(e.transformPath=function(t,e){return ft(t,Dt(t,e))},e._extractTransform=function(t,n){if(null==n)return t._.transform;n=I(n).replace(/\.{3}|\u2026/g,t._.transform||E);var i,r,o=e.parseTransformString(n),s=0,a=1,l=1,u=t._,c=new h;if(u.transform=o||[],o)for(var f=0,p=o.length;f<p;f++){var d,g,m,v,y,x=o[f],b=x.length,w=I(x[0]).toLowerCase(),_=x[0]!=w,T=_?c.invert():0;"t"==w&&3==b?_?(d=T.x(0,0),g=T.y(0,0),m=T.x(x[1],x[2]),v=T.y(x[1],x[2]),c.translate(m-d,v-g)):c.translate(x[1],x[2]):"r"==w?2==b?(y=y||t.getBBox(1),c.rotate(x[1],y.x+y.width/2,y.y+y.height/2),s+=x[1]):4==b&&(_?(m=T.x(x[2],x[3]),v=T.y(x[2],x[3]),c.rotate(x[1],m,v)):c.rotate(x[1],x[2],x[3]),s+=x[1]):"s"==w?2==b||3==b?(y=y||t.getBBox(1),c.scale(x[1],x[b-1],y.x+y.width/2,y.y+y.height/2),a*=x[1],l*=x[b-1]):5==b&&(_?(m=T.x(x[3],x[4]),v=T.y(x[3],x[4]),c.scale(x[1],x[2],m,v)):c.scale(x[1],x[2],x[3],x[4]),a*=x[1],l*=x[2]):"m"==w&&7==b&&c.add(x[1],x[2],x[3],x[4],x[5],x[6]),u.dirtyT=1,t.matrix=c}t.matrix=c,u.sx=a,u.sy=l,u.deg=s,u.dx=i=c.e,u.dy=r=c.f,1==a&&1==l&&!s&&u.bbox?(u.bbox.x+=+i,u.bbox.y+=+r):u.dirtyT=1}),Bt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},jt=e._equaliseTransform=function(t,n){n=I(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var i,r,o,s,a=B(t.length,n.length),l=[],u=[],c=0;c<a;c++){if(o=t[c]||Bt(n[c]),s=n[c]||Bt(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4]))return;for(l[c]=[],u[c]=[],i=0,r=B(o.length,s.length);i<r;i++)i in o&&(l[c][i]=o[i]),i in s&&(u[c][i]=s[i])}return{from:l,to:u}};e._getContainer=function(t,n,i,r){var o;if(null!=(o=null!=r||e.is(t,"object")?t:T.doc.getElementById(t)))return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:i}:{container:1,x:t,y:n,width:i,height:r}},e.pathToRelative=St,e._engine={},e.path2curve=Mt,e.matrix=function(t,e,n,i,r,o){return new h(t,e,n,i,r,o)},function(t){function n(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=R.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,i,r,o){var s,a,l,u,c=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,n,r],[e,i,o],[0,0,1]];for(t&&t instanceof h&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(a=0;a<3;a++){for(u=0,l=0;l<3;l++)u+=f[s][l]*p[l][a];c[s][a]=u}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new h(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new h(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0;var r=+R.cos(t).toFixed(9),o=+R.sin(t).toFixed(9);this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[I.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=R.sqrt(n(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=R.sqrt(n(r[1])),i(r[1]),t.shear/=t.scaley;var o=-r[0][1],s=r[1][1];return s<0?(t.rotate=e.deg(R.acos(s)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(R.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[O]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:E)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:E)+(e.rotate?"r"+[e.rotate,0,0]:E)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(h.prototype);for(var Ft=function(){this.returnValue=!1},zt=function(){return this.originalEvent.preventDefault()},Ht=function(){this.cancelBubble=!0},qt=function(){return this.originalEvent.stopPropagation()},$t=function(t){var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,n=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Wt=T.doc.addEventListener?function(t,e,n,i){var r=function(t){var e=$t(t);return n.call(i,t,e.x,e.y)};if(t.addEventListener(e,r,!1),L&&P[e]){var o=function(e){for(var r=$t(e),o=e,s=0,a=e.targetTouches&&e.targetTouches.length;s<a;s++)if(e.targetTouches[s].target==t){(e=e.targetTouches[s]).originalEvent=o,e.preventDefault=zt,e.stopPropagation=qt;break}return n.call(i,e,r.x,r.y)};t.addEventListener(P[e],o,!1)}return function(){return t.removeEventListener(e,r,!1),L&&P[e]&&t.removeEventListener(P[e],o,!1),!0}}:T.doc.attachEvent?function(t,e,n,i){var r=function(t){t=t||T.win.event;var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,r=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||Ft,t.stopPropagation=t.stopPropagation||Ht,n.call(i,t,o,s)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0,Ut=[],Vt=function(e){for(var n,i=e.clientX,r=e.clientY,o=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,s=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,a=Ut.length;a--;){if(n=Ut[a],L&&e.touches){for(var l,u=e.touches.length;u--;)if((l=e.touches[u]).identifier==n.el._drag.id){i=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var c,h=n.el.node,f=h.nextSibling,p=h.parentNode,d=h.style.display;T.win.opera&&p.removeChild(h),h.style.display="none",c=n.el.paper.getElementByPoint(i,r),h.style.display=d,T.win.opera&&(f?p.insertBefore(h,f):p.appendChild(h)),c&&t("raphael.drag.over."+n.el.id,n.el,c),i+=s,r+=o,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},Kt=function(n){e.unmousemove(Vt).unmouseup(Kt);for(var i,r=Ut.length;r--;)(i=Ut[r]).el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);Ut=[]},Xt=e.el={},Yt=M.length;Yt--;)!function(t){e[t]=Xt[t]=function(n,i){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:Wt(this.shape||this.node||T.doc,t,n,i||this)})),this},e["un"+t]=Xt["un"+t]=function(n){for(var i=this.events||[],r=i.length;r--;)i[r].name!=t||!e.is(n,"undefined")&&i[r].f!=n||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}}(M[Yt]);Xt.data=function(n,i){var r=st[this.id]=st[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(n,"object")){for(var o in n)n[_](o)&&this.data(o,n[o]);return this}return t("raphael.data.get."+this.id,this,r[n],n),r[n]}return r[n]=i,t("raphael.data.set."+this.id,this,i,n),this},Xt.removeData=function(t){return null==t?delete st[this.id]:st[this.id]&&delete st[this.id][t],this},Xt.getData=function(){return n(st[this.id]||{})},Xt.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},Xt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Gt=[];Xt.drag=function(n,i,r,o,s,a){function l(l){(l.originalEvent||l).preventDefault();var u=l.clientX,c=l.clientY,h=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,f=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=l.identifier,L&&l.touches)for(var p,d=l.touches.length;d--;)if(p=l.touches[d],this._drag.id=p.identifier,p.identifier==this._drag.id){u=p.clientX,c=p.clientY;break}this._drag.x=u+f,this._drag.y=c+h,!Ut.length&&e.mousemove(Vt).mouseup(Kt),Ut.push({el:this,move_scope:o,start_scope:s,end_scope:a}),i&&t.on("raphael.drag.start."+this.id,i),n&&t.on("raphael.drag.move."+this.id,n),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,s||o||this,this._drag.x,this._drag.y,l)}return this._drag={},Gt.push({el:this,start:l}),this.mousedown(l),this},Xt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Xt.undrag=function(){for(var n=Gt.length;n--;)Gt[n].el==this&&(this.unmousedown(Gt[n].start),Gt.splice(n,1),t.unbind("raphael.drag.*."+this.id));!Gt.length&&e.unmousemove(Vt).unmouseup(Kt),Ut=[]},y.circle=function(t,n,i){var r=e._engine.circle(this,t||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},y.rect=function(t,n,i,r,o){var s=e._engine.rect(this,t||0,n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},y.ellipse=function(t,n,i,r){var o=e._engine.ellipse(this,t||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},y.path=function(t){t&&!e.is(t,"string")&&!e.is(t[0],$)&&(t+=E);var n=e._engine.path(e.format[S](e,arguments),this);return this.__set__&&this.__set__.push(n),n},y.image=function(t,n,i,r,o){var s=e._engine.image(this,t||"about:blank",n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},y.text=function(t,n,i){var r=e._engine.text(this,t||0,n||0,I(i));return this.__set__&&this.__set__.push(r),r},y.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new he(t);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},y.setStart=function(t){this.__set__=t||this.set()},y.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},y.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},y.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},y.setViewBox=function(t,n,i,r,o){return e._engine.setViewBox.call(this,t,n,i,r,o)},y.top=y.bottom=null,y.raphael=e,y.getElementByPoint=function(t,e){var n,i,r,o,s,a,l,u=this.canvas,c=T.doc.elementFromPoint(t,e);if(T.win.opera&&"svg"==c.tagName){var h=(i=(n=u).getBoundingClientRect(),r=n.ownerDocument,o=r.body,s=r.documentElement,a=s.clientTop||o.clientTop||0,l=s.clientLeft||o.clientLeft||0,{y:i.top+(T.win.pageYOffset||s.scrollTop||o.scrollTop)-a,x:i.left+(T.win.pageXOffset||s.scrollLeft||o.scrollLeft)-l}),f=u.createSVGRect();f.x=t-h.x,f.y=e-h.y,f.width=f.height=1;var p=u.getIntersectionList(f,null);p.length&&(c=p[p.length-1])}if(!c)return null;for(;c.parentNode&&c!=u.parentNode&&!c.raphael;)c=c.parentNode;return c==this.canvas.parentNode&&(c=u),c=c&&c.raphael?this.getById(c.raphaelid):null},y.getElementsByBBox=function(t){var n=this.set();return this.forEach(function(i){e.isBBoxIntersect(i.getBBox(),t)&&n.push(i)}),n},y.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},y.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},y.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(i){i.isPointInside(t,e)&&n.push(i)}),n},Xt.isPointInside=function(t,n){var i=this.realPath=ht[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,n)},Xt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=ht[this.type](this),e.bboxwt=kt(this.realPath),e.bboxwt.toString=f,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=ht[this.type](this)),e.bbox=kt(ft(this.realPath,this.matrix)),e.bbox.toString=f,e.dirty=e.dirtyT=0),e.bbox)},Xt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Xt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,r=i.set(),o=this.realPath||ht[this.type](this);o=this.matrix?ft(o,this.matrix):o;for(var s=1;s<n+1;s++)r.push(i.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*s).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Jt=function(t,n,i,r,o,s,l,u,c){return null==c?a(t,n,i,r,o,s,l,u):e.findDotsAtSegment(t,n,i,r,o,s,l,u,function(t,e,n,i,r,o,s,l,u){if(!(u<0||a(t,e,n,i,r,o,s,l)<u)){var c,h=.5,f=1-h;for(c=a(t,e,n,i,r,o,s,l,f);F(c-u)>.01;)c=a(t,e,n,i,r,o,s,l,f+=(c<u?1:-1)*(h/=2));return f}}(t,n,i,r,o,s,l,u,c))},Qt=function(t,n){return function(i,r,o){for(var s,a,l,u,c,h="",f={},p=0,d=0,g=(i=Mt(i)).length;d<g;d++){if("M"==(l=i[d])[0])s=+l[1],a=+l[2];else{if(p+(u=Jt(s,a,l[1],l[2],l[3],l[4],l[5],l[6]))>r){if(n&&!f.start){if(h+=["C"+(c=Jt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-p)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return h;f.start=h,h=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),p+=u,s=+l[5],a=+l[6];continue}if(!t&&!n)return{x:(c=Jt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-p)).x,y:c.y,alpha:c.alpha}}p+=u,s=+l[5],a=+l[6]}h+=l.shift()+l}return f.end=h,(c=t?p:n?f:e.findDotsAtSegment(s,a,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Zt=Qt(1),te=Qt(),ee=Qt(0,1);e.getTotalLength=Zt,e.getPointAtLength=te,e.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return ee(t,e).end;var i=ee(t,n,1);return e?ee(i,e).end:i},Xt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Zt(t)},Xt.getPointAtLength=function(t){var e=this.getPath();if(e)return te(e,t)},Xt.getPath=function(){var t,n=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(t=n(this)),t},Xt.getSubpath=function(t,n){var i=this.getPath();if(i)return e.getSubpath(i,t,n)};var ne=e.easing_formulas={linear:function(t){return t},"<":function(t){return z(t,1.7)},">":function(t){return z(t,.48)},"<>":function(t){var e=.48-t/1.04,n=R.sqrt(.1734+e*e),i=n-e,r=-n-e,o=z(F(i),1/3)*(i<0?-1:1)+z(F(r),1/3)*(r<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:z(2,-10*t)*R.sin(2*H*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}};ne.easeIn=ne["ease-in"]=ne["<"],ne.easeOut=ne["ease-out"]=ne[">"],ne.easeInOut=ne["ease-in-out"]=ne["<>"],ne["back-in"]=ne.backIn,ne["back-out"]=ne.backOut;var ie=[],re=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},oe=function(){for(var n=+new Date,i=0;i<ie.length;i++){var r=ie[i];if(!r.el.removed&&!r.paused){var o,s,a=n-r.start,l=r.ms,u=r.easing,c=r.from,h=r.diff,f=r.to,p=(r.t,r.el),d={},m={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&ie.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/l))/r.anim.top,!(a<0))if(a<l){var v=u(a/l);for(var y in c)if(c[_](y)){switch(Z[y]){case q:o=+c[y]+v*l*h[y];break;case"colour":o="rgb("+[se(X(c[y].r+v*l*h[y].r)),se(X(c[y].g+v*l*h[y].g)),se(X(c[y].b+v*l*h[y].b))].join(",")+")";break;case"path":o=[];for(var x=0,b=c[y].length;x<b;x++){o[x]=[c[y][x][0]];for(var w=1,T=c[y][x].length;w<T;w++)o[x][w]=+c[y][x][w]+v*l*h[y][x][w];o[x]=o[x].join(N)}o=o.join(N);break;case"transform":if(h[y].real)for(o=[],x=0,b=c[y].length;x<b;x++)for(o[x]=[c[y][x][0]],w=1,T=c[y][x].length;w<T;w++)o[x][w]=c[y][x][w]+v*l*h[y][x][w];else{var k=function(t){return+c[y][t]+v*l*h[y][t]};o=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==y)for(o=[],x=4;x--;)o[x]=+c[y][x]+v*l*h[y][x];break;default:var C=[][A](c[y]);for(o=[],x=p.paper.customAttributes[y].length;x--;)o[x]=+C[x]+v*l*h[y][x]}d[y]=o}p.attr(d),function(e,n,i){setTimeout(function(){t("raphael.anim.frame."+e,n,i)})}(p.id,p,r.anim)}else{if(function(n,i,r){setTimeout(function(){t("raphael.anim.frame."+i.id,i,r),t("raphael.anim.finish."+i.id,i,r),e.is(n,"function")&&n.call(i)})}(r.callback,p,r.anim),p.attr(f),ie.splice(i--,1),r.repeat>1&&!r.next){for(s in f)f[_](s)&&(m[s]=r.totalOrigin[s]);r.el.attr(m),g(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&g(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}ie.length&&re(oe)},se=function(t){return t>255?255:t<0?0:t};Xt.animateWith=function(t,n,i,r,o,s){if(this.removed)return s&&s.call(this),this;var a=i instanceof d?i:e.animation(i,r,o,s);g(a,this,a.percents[0],null,this.attr());for(var l=0,u=ie.length;l<u;l++)if(ie[l].anim==n&&ie[l].el==t){ie[u-1].start=ie[l].start;break}return this},Xt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},d.prototype.delay=function(t){var e=new d(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},d.prototype.repeat=function(t){var e=new d(this.anim,this.ms);return e.del=this.del,e.times=R.floor(B(t,0))||1,e},e.animation=function(t,n,i,r){if(t instanceof d)return t;!e.is(i,"function")&&i||(r=r||i||null,i=null),t=Object(t),n=+n||0;var o,s,a={};for(s in t)t[_](s)&&Y(s)!=s&&Y(s)+"%"!=s&&(o=!0,a[s]=t[s]);if(o)return i&&(a.easing=i),r&&(a.callback=r),new d({100:a},n);if(r){var l=0;for(var u in t){var c=G(u);t[_](u)&&c>l&&(l=c)}!t[l+="%"].callback&&(t[l].callback=r)}return new d(t,n)},Xt.animate=function(t,n,i,r){if(this.removed)return r&&r.call(this),this;var o=t instanceof d?t:e.animation(t,n,i,r);return g(o,this,o.percents[0],null,this.attr()),this},Xt.setTime=function(t,e){return t&&null!=e&&this.status(t,j(e,t.ms)/t.ms),this},Xt.status=function(t,e){var n,i,r=[],o=0;if(null!=e)return g(t,this,-1,j(e,1)),this;for(n=ie.length;o<n;o++)if((i=ie[o]).el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},Xt.pause=function(e){for(var n=0;n<ie.length;n++)ie[n].el.id!=this.id||e&&ie[n].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,ie[n].anim)&&(ie[n].paused=!0);return this},Xt.resume=function(e){for(var n=0;n<ie.length;n++)if(ie[n].el.id==this.id&&(!e||ie[n].anim==e)){var i=ie[n];!1!==t("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},Xt.stop=function(e){for(var n=0;n<ie.length;n++)ie[n].el.id!=this.id||e&&ie[n].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,ie[n].anim)&&ie.splice(n--,1);return this},t.on("raphael.remove",m),t.on("raphael.clear",m),Xt.toString=function(){return"Raphaël’s object"};var ae,le,ue,ce,he=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=Xt.constructor&&t[e].constructor!=he||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},fe=he.prototype;for(var pe in fe.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)!(t=arguments[n])||t.constructor!=Xt.constructor&&t.constructor!=he||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},fe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},fe.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;
return this},Xt)Xt[_](pe)&&(fe[pe]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][S](n,e)})}}(pe));return fe.attr=function(t,n){if(t&&e.is(t,$)&&e.is(t[0],"object"))for(var i=0,r=t.length;i<r;i++)this.items[i].attr(t[i]);else for(var o=0,s=this.items.length;o<s;o++)this.items[o].attr(t,n);return this},fe.clear=function(){for(;this.length;)this.pop()},fe.splice=function(t,e,n){t=t<0?B(this.length+t,0):t,e=B(0,j(this.length-t,e));var i,r=[],o=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<e;i++)o.push(this[t+i]);for(;i<this.length-t;i++)r.push(this[t+i]);var a=s.length;for(i=0;i<a+r.length;i++)this.items[t+i]=this[t+i]=i<a?s[i]:r[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new he(o)},fe.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},fe.animate=function(t,n,i,r){(e.is(i,"function")||!i)&&(r=i||null);var o,s,a=this.items.length,l=a,u=this;if(!a)return this;r&&(s=function(){!--a&&r.call(u)}),i=e.is(i,"string")?i:s;var c=e.animation(t,n,i,s);for(o=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,c,c),this.items[l]&&!this.items[l].removed||a--;return this},fe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},fe.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return{x:t=j[S](0,t),y:e=j[S](0,e),x2:n=B[S](0,n),y2:i=B[S](0,i),width:n-t,height:i-e}},fe.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},fe.toString=function(){return"Raphaël‘s set"},fe.glow=function(t){var e=this.paper.set();return this.forEach(function(n,i){var r=n.glow(t);null!=r&&r.forEach(function(t,n){e.push(t)})}),e},fe.isPointInside=function(t,e){var n=!1;return this.forEach(function(i){if(i.isPointInside(t,e))return n=!0,!1}),n},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[_](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var r in e.face["units-per-em"]=G(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[_](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var s in o.k)o[_](s)&&(e.glyphs[r].k[s]=o.k[s])}return t},y.getFont=function(t,n,i,r){if(r=r||"normal",i=i||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var o,s=e.fonts[t];if(!s){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var l in e.fonts)if(e.fonts[_](l)&&a.test(l)){s=e.fonts[l];break}}if(s)for(var u=0,c=s.length;u<c&&((o=s[u]).face["font-weight"]!=n||o.face["font-style"]!=i&&o.face["font-style"]||o.face["font-stretch"]!=r);u++);return o}},y.print=function(t,n,i,r,o,s,a,l){s=s||"middle",a=B(j(a||0,1),-1),l=B(j(l||1,3),1);var u,c=I(i)[O](E),h=0,f=0,p=E;if(e.is(r,"string")&&(r=this.getFont(r)),r){u=(o||16)/r.face["units-per-em"];for(var d=r.face.bbox[O](x),g=+d[0],m=d[3]-d[1],v=0,y=+d[1]+("baseline"==s?m+ +r.face.descent:m/2),b=0,w=c.length;b<w;b++){if("\n"==c[b])h=0,T=0,f=0,v+=m*l;else{var _=f&&r.glyphs[c[b-1]]||{},T=r.glyphs[c[b]];h+=f?(_.w||r.w)+(_.k&&_.k[c[b]]||0)+r.w*a:0,f=1}T&&T.d&&(p+=e.transformPath(T.d,["t",h*u,v*u,"s",u,u,g,y,"t",(t-g)/u,(n-y)/u]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},y.add=function(t){if(e.is(t,"array"))for(var n,i=this.set(),r=0,o=t.length;r<o;r++)n=t[r]||{},b[_](n.type)&&i.push(this[n.type]().attr(n));return i},e.format=function(t,n){var i=e.is(n,$)?[0][A](n):arguments;return t&&e.is(t,"string")&&i.length-1&&(t=t.replace(w,function(t,e){return null==i[++e]?E:i[e]})),t||E},e.fullfill=(ae=/\{([^\}]+)\}/g,le=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return String(t).replace(ae,function(t,n){return function(t,e,n){var i=n;return e.replace(le,function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))}),i=(null==i||i==n?t:i)+""}(t,n,e)})}),e.ninja=function(){if(k.was)T.win.Raphael=k.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=fe,t.on("raphael.DOMload",function(){v=!0}),null==(ue=document).readyState&&ue.addEventListener&&(ue.addEventListener("DOMContentLoaded",ce=function(){ue.removeEventListener("DOMContentLoaded",ce,!1),ue.readyState="complete"},!1),ue.readyState="loading"),function t(){/in/.test(ue.readyState)?setTimeout(t,9):e.eve("raphael.DOMload")}(),e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(0),n(3),n(4)],void 0===(r=function(t){return t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r,o,s,a,l,u,c,h,f,p,d,g,m;s="hasOwnProperty",a=/[\.\/]/,l=/\s*,\s*/,u=function(t,e){return t-e},c={n:{}},h=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},f=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},p=Object.prototype.toString,d=String,g=Array.isArray||function(t){return t instanceof Array||"[object Array]"==p.call(t)},(m=function(t,e){var n,i=o,s=Array.prototype.slice.call(arguments,2),a=m.listeners(t),l=0,c=[],p={},d=[],g=r;d.firstDefined=h,d.lastDefined=f,r=t,o=0;for(var v=0,y=a.length;v<y;v++)"zIndex"in a[v]&&(c.push(a[v].zIndex),a[v].zIndex<0&&(p[a[v].zIndex]=a[v]));for(c.sort(u);c[l]<0;)if(n=p[c[l++]],d.push(n.apply(e,s)),o)return o=i,d;for(v=0;v<y;v++)if("zIndex"in(n=a[v]))if(n.zIndex==c[l]){if(d.push(n.apply(e,s)),o)break;do if((n=p[c[++l]])&&d.push(n.apply(e,s)),o)break;while(n)}else p[n.zIndex]=n;else if(d.push(n.apply(e,s)),o)break;return o=i,r=g,d})._events=c,m.listeners=function(t){var e,n,i,r,o,s,l,u,h=g(t)?t:t.split(a),f=c,p=[f],d=[];for(r=0,o=h.length;r<o;r++){for(u=[],s=0,l=p.length;s<l;s++)for(n=[(f=p[s].n)[h[r]],f["*"]],i=2;i--;)(e=n[i])&&(u.push(e),d=d.concat(e.f||[]));p=u}return d},m.separator=function(t){t?(t="["+(t=d(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",a=new RegExp(t)):a=/[\.\/]/},m.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=g(t)?g(t[0])?t:[t]:d(t).split(l),i=0,r=n.length;i<r;i++)!function(t){for(var n,i=g(t)?t:d(t).split(a),r=c,o=0,s=i.length;o<s;o++)r=(r=r.n).hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}});for(r.f=r.f||[],o=0,s=r.f.length;o<s;o++)if(r.f[o]==e){n=!0;break}!n&&r.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}},m.f=function(t){var e=[].slice.call(arguments,1);return function(){m.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},m.stop=function(){o=1},m.nt=function(t){var e=g(r)?r.join("."):r;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},m.nts=function(){return g(r)?r:r.split(a)},m.off=m.unbind=function(t,e){if(t){var n=g(t)?g(t[0])?t:[t]:d(t).split(l);if(n.length>1)for(var i=0,r=n.length;i<r;i++)m.off(n[i],e);else{n=g(t)?t:d(t).split(a);var o,u,h,f,p,v=[c];for(i=0,r=n.length;i<r;i++)for(f=0;f<v.length;f+=h.length-2){if(h=[f,1],o=v[f].n,"*"!=n[i])o[n[i]]&&h.push(o[n[i]]);else for(u in o)o[s](u)&&h.push(o[u]);v.splice.apply(v,h)}for(i=0,r=v.length;i<r;i++)for(o=v[i];o.n;){if(e){if(o.f){for(f=0,p=o.f.length;f<p;f++)if(o.f[f]==e){o.f.splice(f,1);break}!o.f.length&&delete o.f}for(u in o.n)if(o.n[s](u)&&o.n[u].f){var y=o.n[u].f;for(f=0,p=y.length;f<p;f++)if(y[f]==e){y.splice(f,1);break}!y.length&&delete o.n[u].f}}else for(u in delete o.f,o.n)o.n[s](u)&&o.n[u].f&&delete o.n[u].f;o=o.n}}}else m._events=c={n:{}}},m.once=function(t,e){var n=function(){return m.off(t,n),e.apply(this,arguments)};return m.on(t,n)},m.version="0.5.0",m.toString=function(){return"You are running Eve 0.5.0"},t.exports?t.exports=m:void 0===(i=function(){return m}.apply(e,[]))||(t.exports=i)},function(t,e,n){var i,r;i=[n(0)],void 0===(r=function(t){if(!t||t.svg){var e="hasOwnProperty",n=String,i=parseFloat,r=parseInt,o=Math,s=o.max,a=o.abs,l=o.pow,u=/[, ]+/,c=t.eve,h="",f=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(i,r){if(r)for(var o in"string"==typeof i&&(i=m(i)),r)r[e](o)&&("xlink:"==o.substring(0,6)?i.setAttributeNS(p,o.substring(6),n(r[o])):i.setAttribute(o,n(r[o])));else(i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i)).style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(e,r){var u="linear",c=e.id+r,f=.5,p=.5,d=e.node,g=e.paper,v=d.style,x=t._g.doc.getElementById(c);if(!x){if(r=(r=n(r).replace(t._radial_gradient,function(t,e,n){if(u="radial",e&&n){f=i(e);var r=2*((p=i(n))>.5)-1;l(f-.5,2)+l(p-.5,2)>.25&&(p=o.sqrt(.25-l(f-.5,2))*r+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*r)}return h})).split(/\s*\-\s*/),"linear"==u){var b=r.shift();if(b=-i(b),isNaN(b))return null;var w=[0,0,o.cos(t.rad(b)),o.sin(t.rad(b))],_=1/(s(a(w[2]),a(w[3]))||1);w[2]*=_,w[3]*=_,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var T=t._parseDots(r);if(!T)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){x=m(u+"Gradient",{id:c}),e.gradient=x,m(x,"radial"==u?{fx:f,fy:p}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(x);for(var k=0,C=T.length;k<C;k++)x.appendChild(m("stop",{offset:T[k].offset?T[k].offset:k?"100%":"0%","stop-color":T[k].color||"#fff","stop-opacity":isFinite(T[k].opacity)?T[k].opacity:1}))}}return m(d,{fill:y(c),opacity:1,"fill-opacity":1}),v.fill=h,v.opacity=1,v.fillOpacity=1,1},y=function(t){if((e=document.documentMode)&&(9===e||10===e))return"url('#"+t+"')";var e,n=document.location;return"url('"+(n.protocol+"//"+n.host+n.pathname+n.search)+"#"+t+"')"},x=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(i,r,o){if("path"==i.type){for(var s,a,l,u,c,f=n(r).toLowerCase().split("-"),p=i.paper,v=o?"end":"start",y=i.node,x=i.attrs,b=x["stroke-width"],w=f.length,_="classic",T=3,k=3,C=5;w--;)switch(f[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=f[w];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":T=5;break;case"short":T=2}if("open"==_?(T+=2,k+=2,C+=2,l=1,u=o?4:1,c={fill:"none",stroke:x.stroke}):(u=l=T/2,c={fill:x.stroke,stroke:"none"}),i._.arrows?o?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=_){var S="raphael-marker-"+_,A="raphael-marker-"+v+_+T+k+"-obj"+i.id;t._g.doc.getElementById(S)?g[S]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:d[_],id:S})),g[S]=1);var L,E=t._g.doc.getElementById(A);E?(g[A]++,L=E.getElementsByTagName("use")[0]):(E=m(m("marker"),{id:A,markerHeight:k,markerWidth:T,orient:"auto",refX:u,refY:k/2}),L=m(m("use"),{"xlink:href":"#"+S,transform:(o?"rotate(180 "+T/2+" "+k/2+") ":h)+"scale("+T/C+","+k/C+")","stroke-width":(1/((T/C+k/C)/2)).toFixed(4)}),E.appendChild(L),p.defs.appendChild(E),g[A]=1),m(L,c);var N=l*("diamond"!=_&&"oval"!=_);o?(s=i._.arrows.startdx*b||0,a=t.getTotalLength(x.path)-N*b):(s=N*b,a=t.getTotalLength(x.path)-(i._.arrows.enddx*b||0)),(c={})["marker-"+v]="url(#"+A+")",(a||s)&&(c.d=t.getSubpath(x.path,s,a)),m(y,c),i._.arrows[v+"Path"]=S,i._.arrows[v+"Marker"]=A,i._.arrows[v+"dx"]=N,i._.arrows[v+"Type"]=_,i._.arrows[v+"String"]=r}else o?(s=i._.arrows.startdx*b||0,a=t.getTotalLength(x.path)-s):(s=0,a=t.getTotalLength(x.path)-(i._.arrows.enddx*b||0)),i._.arrows[v+"Path"]&&m(y,{d:t.getSubpath(x.path,s,a)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(c in g)if(g[e](c)&&!g[c]){var I=t._g.doc.getElementById(c);I&&I.parentNode.removeChild(I)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},_=function(t,e,i){if(e=w[n(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],a=e.length;a--;)s[a]=e[a]*r+(a%2?1:-1)*o;m(t.node,{"stroke-dasharray":s.join(",")})}else m(t.node,{"stroke-dasharray":"none"})},T=function(i,o){var l=i.node,c=i.attrs,f=l.style.visibility;for(var d in l.style.visibility="hidden",o)if(o[e](d)){if(!t._availableAttrs[e](d))continue;var g=o[d];switch(c[d]=g,d){case"blur":i.blur(g);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=g;else{y=m("title");var w=t._g.doc.createTextNode(g);y.appendChild(w),l.appendChild(y)}break;case"href":case"target":var T=l.parentNode;if("a"!=T.tagName.toLowerCase()){var C=m("a");T.insertBefore(C,l),C.appendChild(l),T=C}"target"==d?T.setAttributeNS(p,"show","blank"==g?"new":g):T.setAttributeNS(p,d,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":b(i,g);break;case"arrow-end":b(i,g,1);break;case"clip-rect":var S=n(g).split(u);if(4==S.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var A=m("clipPath"),L=m("rect");A.id=t.createUUID(),m(L,{x:S[0],y:S[1],width:S[2],height:S[3]}),A.appendChild(L),i.paper.defs.appendChild(A),m(l,{"clip-path":"url(#"+A.id+")"}),i.clip=L}if(!g){var E=l.getAttribute("clip-path");if(E){var N=t._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,h));N&&N.parentNode.removeChild(N),m(l,{"clip-path":h}),delete i.clip}}break;case"path":"path"==i.type&&(m(l,{d:g?c.path=t._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&b(i,i._.arrows.startString),"endString"in i._.arrows&&b(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(d,g),i._.dirty=1,!c.fx)break;d="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==d&&"rect"==i.type)break;case"cx":l.setAttribute(d,g),i.pattern&&x(i),i._.dirty=1;break;case"height":if(l.setAttribute(d,g),i._.dirty=1,!c.fy)break;d="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==d&&"rect"==i.type)break;case"cy":l.setAttribute(d,g),i.pattern&&x(i),i._.dirty=1;break;case"r":"rect"==i.type?m(l,{rx:g,ry:g}):l.setAttribute(d,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":1==i._.sx&&1==i._.sy||(g/=s(a(i._.sx),a(i._.sy))||1),l.setAttribute(d,g),c["stroke-dasharray"]&&_(i,c["stroke-dasharray"],o),i._.arrows&&("startString"in i._.arrows&&b(i,i._.arrows.startString),"endString"in i._.arrows&&b(i,i._.arrows.endString,1));break;case"stroke-dasharray":_(i,g,o);break;case"fill":var I=n(g).match(t._ISURL);if(I){A=m("pattern");var O=m("image");A.id=t.createUUID(),m(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(O,{x:0,y:0,"xlink:href":I[1]}),A.appendChild(O),function(e){t._preload(I[1],function(){var t=this.offsetWidth,n=this.offsetHeight;m(e,{width:t,height:n}),m(O,{width:t,height:n})})}(A),i.paper.defs.appendChild(A),m(l,{fill:"url(#"+A.id+")"}),i.pattern=A,i.pattern&&x(i);break}var M=t.getRGB(g);if(M.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&v(i,g)){if("opacity"in c||"fill-opacity"in c){var P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(P){var D=P.getElementsByTagName("stop");m(D[D.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete o.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(o.opacity,"undefined")&&m(l,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});M[e]("opacity")&&m(l,{"fill-opacity":M.opacity>1?M.opacity/100:M.opacity});case"stroke":M=t.getRGB(g),l.setAttribute(d,M.hex),"stroke"==d&&M[e]("opacity")&&m(l,{"stroke-opacity":M.opacity>1?M.opacity/100:M.opacity}),"stroke"==d&&i._.arrows&&("startString"in i._.arrows&&b(i,i._.arrows.startString),"endString"in i._.arrows&&b(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&v(i,g);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){(P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h)))&&(D=P.getElementsByTagName("stop"),m(D[D.length-1],{"stop-opacity":g}));break}default:"font-size"==d&&(g=r(g,10)+"px");var R=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[R]=g,i._.dirty=1,l.setAttribute(d,g)}}k(i,o),l.style.visibility=f},k=function(i,o){if("text"==i.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var s=i.attrs,a=i.node,l=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,h).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(s.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var u,c=n(o.text).split("\n"),f=[],p=0,d=c.length;p<d;p++)u=m("tspan"),p&&m(u,{dy:1.2*l,x:s.x}),u.appendChild(t._g.doc.createTextNode(c[p])),a.appendChild(u),f[p]=u}else for(p=0,d=(f=a.getElementsByTagName("tspan")).length;p<d;p++)p?m(f[p],{dy:1.2*l,x:s.x}):m(f[0],{dy:0});m(a,{x:s.x,y:s.y}),i._.dirty=1;var g=i._getBBox(),v=s.y-(g.y+g.height/2);v&&t.is(v,"finite")&&m(f[0],{dy:v})}},C=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},S=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},A=t.el;S.prototype=A,A.constructor=S,t._engine.path=function(t,e){var n=m("path");e.canvas&&e.canvas.appendChild(n);var i=new S(n,e);return i.type="path",T(i,{fill:"none",stroke:"#000",path:t}),i},A.rotate=function(t,e,r){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},A.scale=function(t,e,r,o){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3])),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this},A.translate=function(t,e){return this.removed?this:((t=n(t).split(u)).length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},A.transform=function(n){var i=this._;if(null==n)return i.transform;if(t._extractTransform(this,n),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&x(this),this.node&&m(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},A.hide=function(){return this.removed||(this.node.style.display="none"),this},A.show=function(){return this.removed||(this.node.style.display=""),this},A.remove=function(){var e=C(this.node);if(!this.removed&&e.parentNode){var n=this.paper;for(var i in n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData(),this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(t){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(e.display="none")}return t&&this.hide(),i},A.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var s=n.split(u),a={},l=0,h=s.length;l<h;l++)(n=s[l])in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return h-1?a:a[s[0]]}if(null==i&&t.is(n,"array")){for(a={},l=0,h=n.length;l<h;l++)a[n[l]]=this.attr(n[l]);return a}if(null!=i){var f={};f[n]=i}else null!=n&&t.is(n,"object")&&(f=n);for(var p in f)c("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));for(var g in this.attrs[p]=f[p],d)d[e](g)&&(f[g]=d[g])}return T(this,f),this},A.toFront=function(){if(this.removed)return this;var e=C(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},A.toBack=function(){if(this.removed)return this;var e=C(this.node),n=e.parentNode;return n.insertBefore(e,n.firstChild),t._toback(this,this.paper),this.paper,this},A.insertAfter=function(e){if(this.removed||!e)return this;var n=C(this.node),i=C(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},A.insertBefore=function(e){if(this.removed||!e)return this;var n=C(this.node),i=C(e.node||e[0].node);return i.parentNode.insertBefore(n,i),t._insertbefore(this,e,this.paper),this},A.blur=function(e){var n=this;if(0!=+e){var i=m("filter"),r=m("feGaussianBlur");n.attrs.blur=e,i.id=t.createUUID(),m(r,{stdDeviation:+e||1.5}),i.appendChild(r),n.paper.defs.appendChild(i),n._blur=i,m(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,i){var r=m("circle");t.canvas&&t.canvas.appendChild(r);var o=new S(r,t);return o.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",m(r,o.attrs),o},t._engine.rect=function(t,e,n,i,r,o){var s=m("rect");t.canvas&&t.canvas.appendChild(s);var a=new S(s,t);return a.attrs={x:e,y:n,width:i,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",m(s,a.attrs),a},t._engine.ellipse=function(t,e,n,i,r){var o=m("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new S(o,t);return s.attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",m(o,s.attrs),s},t._engine.image=function(t,e,n,i,r,o){var s=m("image");m(s,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new S(s,t);return a.attrs={x:n,y:i,width:r,height:o,src:e},a.type="image",a},t._engine.text=function(e,n,i,r){var o=m("text");e.canvas&&e.canvas.appendChild(o);var s=new S(o,e);return s.attrs={x:n,y:i,"text-anchor":"middle",text:r,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",T(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container;if(!n)throw new Error("SVG container not found.");var i,r=e.x,o=e.y,s=e.width,a=e.height,l=m("svg"),u="overflow:hidden;";return r=r||0,o=o||0,m(l,{height:a=a||342,version:1.1,width:s=s||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=u+"position:absolute;left:"+r+"px;top:"+o+"px",t._g.doc.body.appendChild(l),i=1):(l.style.cssText=u+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),(n=new t._Paper).width=s,n.height=a,n.canvas=l,n.clear(),n._left=n._top=0,i&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,i,r){c("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var o,a,l=this.getSize(),u=s(n/l.width,i/l.height),h=this.top,p=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(u=1),delete this._vbSize,o="0 0 "+this.width+f+this.height):(this._vbSize=u,o=t+f+e+f+n+f+i),m(this.canvas,{viewBox:o,preserveAspectRatio:p});u&&h;)a="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":a}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,n,i,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},t.prototype.remove=function(){for(var e in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var L=t.st;for(var E in A)A[e](E)&&!L[e](E)&&(L[E]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(E))}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(0)],void 0===(r=function(t){if(!t||t.vml){var e="hasOwnProperty",n=String,i=parseFloat,r=Math,o=r.round,s=r.max,a=r.min,l=r.abs,u=/[, ]+/,c=t.eve,h=" ",f="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},d=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,m=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,x={path:1,rect:1,image:1},b={circle:1,ellipse:1},w=function(e,n,i){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(n,i),dy:r.y(n,i)}},_=function(t,e,n,i,r,o){var s=t._,a=t.matrix,u=s.fillpos,c=t.node,f=c.style,p=1,d="",g=y/e,m=y/n;if(f.visibility="hidden",e&&n){if(c.coordsize=l(g)+h+l(m),f.rotation=o*(e*n<0?-1:1),o){var v=w(o,i,r);i=v.dx,r=v.dy}if(e<0&&(d+="x"),n<0&&(d+=" y")&&(p=-1),f.flip=d,c.coordorigin=i*-g+h+r*-m,u||s.fillsize){var x=c.getElementsByTagName("fill");x=x&&x[0],c.removeChild(x),u&&(v=w(o,a.x(u[0],u[1]),a.y(u[0],u[1])),x.position=v.dx*p+h+v.dy*p),s.fillsize&&(x.size=s.fillsize[0]*l(e)+h+s.fillsize[1]*l(n)),c.appendChild(x)}f.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var T,k=function(t,e,i){for(var r=n(e).toLowerCase().split("-"),o=i?"end":"start",s=r.length,a="classic",l="medium",u="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[s];break;case"wide":case"narrow":u=r[s];break;case"long":case"short":l=r[s]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=a,c[o+"arrowlength"]=l,c[o+"arrowwidth"]=u},C=function(r,l){r.attrs=r.attrs||{};var c=r.node,g=r.attrs,v=c.style,w=x[r.type]&&(l.x!=g.x||l.y!=g.y||l.width!=g.width||l.height!=g.height||l.cx!=g.cx||l.cy!=g.cy||l.rx!=g.rx||l.ry!=g.ry||l.r!=g.r),C=b[r.type]&&(g.cx!=l.cx||g.cy!=l.cy||g.r!=l.r||g.rx!=l.rx||g.ry!=l.ry),A=r;for(var L in l)l[e](L)&&(g[L]=l[L]);if(w&&(g.path=t._getPath[r.type](r),r._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(v.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||w)&&(c.path=function(e){var i=/[ahqstv]/gi,r=t._pathToAbsolute;if(n(e).match(i)&&(r=t._path2curve),i=/[clmz]/g,r==t._pathToAbsolute&&!n(e).match(i)){var s=n(e).replace(d,function(t,e,n){var i=[],r="m"==e.toLowerCase(),s=p[e];return n.replace(m,function(t){r&&2==i.length&&(s+=i+p["m"==e?"l":"L"],i=[]),i.push(o(t*y))}),s+i});return s}var a,l,u=r(e);s=[];for(var c=0,g=u.length;c<g;c++){a=u[c],"z"==(l=u[c][0].toLowerCase())&&(l="x");for(var v=1,x=a.length;v<x;v++)l+=o(a[v]*y)+(v!=x-1?",":f);s.push(l)}return s.join(h)}(~n(g.path).toLowerCase().indexOf("r")?t._pathToAbsolute(g.path):g.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[g.x,g.y],r._.fillsize=[g.width,g.height],_(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),C){var E=+g.cx,N=+g.cy,I=+g.rx||+g.r||0,O=+g.ry||+g.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((E-I)*y),o((N-O)*y),o((E+I)*y),o((N+O)*y),o(E*y)),r._.dirty=1}if("clip-rect"in l){var M=n(l["clip-rect"]).split(u);if(4==M.length){M[2]=+M[2]+ +M[0],M[3]=+M[3]+ +M[1];var P=c.clipRect||t._g.doc.createElement("div"),D=P.style;D.clip=t.format("rect({1}px {2}px {3}px {0}px)",M),c.clipRect||(D.position="absolute",D.top=0,D.left=0,D.width=r.paper.width+"px",D.height=r.paper.height+"px",c.parentNode.insertBefore(P,c),P.appendChild(c),c.clipRect=P)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(r.textpath){var R=r.textpath.style;l.font&&(R.font=l.font),l["font-family"]&&(R.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(R.fontSize=l["font-size"]),l["font-weight"]&&(R.fontWeight=l["font-weight"]),l["font-style"]&&(R.fontStyle=l["font-style"])}if("arrow-start"in l&&k(A,l["arrow-start"]),"arrow-end"in l&&k(A,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var B=c.getElementsByTagName("fill");if(!(B=B&&B[0])&&(B=T("fill")),"image"==r.type&&l.src&&(B.src=l.src),l.fill&&(B.on=!0),null!=B.on&&"none"!=l.fill&&null!==l.fill||(B.on=!1),B.on&&l.fill){var j=n(l.fill).match(t._ISURL);if(j){B.parentNode==c&&c.removeChild(B),B.rotate=!0,B.src=j[1],B.type="tile";var F=r.getBBox(1);B.position=F.x+h+F.y,r._.fillpos=[F.x,F.y],t._preload(j[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else B.color=t.getRGB(l.fill).hex,B.src=f,B.type="solid",t.getRGB(l.fill).error&&(A.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&S(A,l.fill,B)&&(g.fill="none",g.gradient=l.fill,B.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var z=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);z=a(s(z,0),1),B.opacity=z,B.src&&(B.color="none")}c.appendChild(B);var H=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],q=!1;!H&&(q=H=T("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(H.on=!0),("none"==l.stroke||null===l.stroke||null==H.on||0==l.stroke||0==l["stroke-width"])&&(H.on=!1);var $=t.getRGB(l.stroke);H.on&&l.stroke&&(H.color=$.hex),z=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+$.o+1||2)-1);var W=.75*(i(l["stroke-width"])||1);if(z=a(s(z,0),1),null==l["stroke-width"]&&(W=g["stroke-width"]),l["stroke-width"]&&(H.weight=W),W&&W<1&&(z*=W)&&(H.weight=1),H.opacity=z,l["stroke-linejoin"]&&(H.joinstyle=l["stroke-linejoin"]||"miter"),H.miterlimit=l["stroke-miterlimit"]||8,
l["stroke-linecap"]&&(H.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var U={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=U[e](l["stroke-dasharray"])?U[l["stroke-dasharray"]]:f}q&&c.appendChild(H)}if("text"==A.type){A.paper.canvas.style.display=f;var V=A.paper.span,K=g.font&&g.font.match(/\d+(?:\.\d*)?(?=px)/);v=V.style,g.font&&(v.font=g.font),g["font-family"]&&(v.fontFamily=g["font-family"]),g["font-weight"]&&(v.fontWeight=g["font-weight"]),g["font-style"]&&(v.fontStyle=g["font-style"]),K=i(g["font-size"]||K&&K[0])||10,v.fontSize=100*K+"px",A.textpath.string&&(V.innerHTML=n(A.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=V.getBoundingClientRect();A.W=g.w=(X.right-X.left)/100,A.H=g.h=(X.bottom-X.top)/100,A.X=g.x,A.Y=g.y+A.H/2,("x"in l||"y"in l)&&(A.path.v=t.format("m{0},{1}l{2},{1}",o(g.x*y),o(g.y*y),o(g.x*y)+1));for(var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"],G=0,J=Y.length;G<J;G++)if(Y[G]in l){A._.dirty=1;break}switch(g["text-anchor"]){case"start":A.textpath.style["v-text-align"]="left",A.bbx=A.W/2;break;case"end":A.textpath.style["v-text-align"]="right",A.bbx=-A.W/2;break;default:A.textpath.style["v-text-align"]="center",A.bbx=0}A.textpath.style["v-text-kern"]=!0}},S=function(e,o,s){e.attrs=e.attrs||{},e.attrs;var a=Math.pow,l="linear",u=".5 .5";if(e.attrs.gradient=o,o=(o=n(o).replace(t._radial_gradient,function(t,e,n){return l="radial",e&&n&&(e=i(e),n=i(n),a(e-.5,2)+a(n-.5,2)>.25&&(n=r.sqrt(.25-a(e-.5,2))*(2*(n>.5)-1)+.5),u=e+h+n),f})).split(/\s*\-\s*/),"linear"==l){var c=o.shift();if(c=-i(c),isNaN(c))return null}var p=t._parseDots(o);if(!p)return null;if(e=e.shape||e.node,p.length){e.removeChild(s),s.on=!0,s.method="none",s.color=p[0].color,s.color2=p[p.length-1].color;for(var d=[],g=0,m=p.length;g<m;g++)p[g].offset&&d.push(p[g].offset+h+p[g].color);s.colors=d.length?d.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=u,s.angle=0):(s.type="gradient",s.angle=(270-c)%360),e.appendChild(s)}return 1},A=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},L=t.el;A.prototype=L,L.constructor=A,L.transform=function(e){if(null==e)return this._.transform;var i,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:f;r&&(i=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||f)),t._extractTransform(this,o+e);var s,a=this.matrix.clone(),l=this.skew,u=this.node,c=~n(this.attrs.fill).indexOf("-"),p=!n(this.attrs.fill).indexOf("url(");if(a.translate(1,1),p||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=a.split(),c&&s.noRotation||!s.isSimple){u.style.filter=a.toFilter();var d=this.getBBox(),g=this.getBBox(1),m=d.x-g.x,v=d.y-g.y;u.coordorigin=m*-y+h+v*-y,_(this,1,1,m,v,0)}else u.style.filter=f,_(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else u.style.filter=f,l.matrix=n(a),l.offset=a.offset();return null!==i&&(this._.transform=i,t._extractTransform(this,i)),this},L.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},L.translate=function(t,e){return this.removed?this:((t=n(t).split(u)).length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},L.scale=function(t,e,r,o){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this._.dirtyT=1,this},L.hide=function(){return!this.removed&&(this.node.style.display="none"),this},L.show=function(){return!this.removed&&(this.node.style.display=f),this},L.auxGetBBox=t.el.getBBox,L.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},L._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},L.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},L.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=n.split(u),a={},l=0,h=s.length;l<h;l++)(n=s[l])in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return h-1?a:a[s[0]]}if(this.attrs&&null==i&&t.is(n,"array")){for(a={},l=0,h=n.length;l<h;l++)a[n[l]]=this.attr(n[l]);return a}var f;for(var p in null!=i&&((f={})[n]=i),null==i&&t.is(n,"object")&&(f=n),f)c("raphael.attr."+p+"."+this.id,this,f[p]);if(f){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));for(var g in this.attrs[p]=f[p],d)d[e](g)&&(f[g]=d[g])}f.text&&"text"==this.type&&(this.textpath.string=f.text),C(this,f)}return this},L.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},L.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},L.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},L.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},L.blur=function(e){var n=this.node.runtimeStyle,i=n.filter;return i=i.replace(g,f),0!=+e?(this.attrs.blur=e,n.filter=i+h+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(n.filter=i,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=T("shape");n.style.cssText=v,n.coordsize=y+h+y,n.coordorigin=e.coordorigin;var i=new A(n,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),i.type="path",i.path=[],i.Path=f,C(i,r),e.canvas&&e.canvas.appendChild(n);var o=T("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(f),i},t._engine.rect=function(e,n,i,r,o,s){var a=t._rectPath(n,i,r,o,s),l=e.path(a),u=l.attrs;return l.X=u.x=n,l.Y=u.y=i,l.W=u.width=r,l.H=u.height=o,u.r=s,u.path=a,l.type="rect",l},t._engine.ellipse=function(t,e,n,i,r){var o=t.path();return o.attrs,o.X=e-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",C(o,{cx:e,cy:n,rx:i,ry:r}),o},t._engine.circle=function(t,e,n,i){var r=t.path();return r.attrs,r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",C(r,{cx:e,cy:n,r:i}),r},t._engine.image=function(e,n,i,r,o,s){var a=t._rectPath(i,r,o,s),l=e.path(a).attr({stroke:"none"}),u=l.attrs,c=l.node,h=c.getElementsByTagName("fill")[0];return u.src=n,l.X=u.x=i,l.Y=u.y=r,l.W=u.width=o,l.H=u.height=s,u.path=a,l.type="image",h.parentNode==c&&c.removeChild(h),h.rotate=!0,h.src=n,h.type="tile",l._.fillpos=[i,r],l._.fillsize=[o,s],c.appendChild(h),_(l,1,1,0,0,0),l},t._engine.text=function(e,i,r,s){var a=T("shape"),l=T("path"),u=T("textpath");i=i||0,r=r||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",o(i*y),o(r*y),o(i*y)+1),l.textpathok=!0,u.string=n(s),u.on=!0,a.style.cssText=v,a.coordsize=y+h+y,a.coordorigin="0 0";var c=new A(a,e),p={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};c.shape=a,c.path=l,c.textpath=u,c.type="text",c.attrs.text=n(s),c.attrs.x=i,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,C(c,p),a.appendChild(u),a.appendChild(l),e.canvas.appendChild(a);var d=T("skew");return d.on=!0,a.appendChild(d),c.skew=d,c.transform(f),c},t._engine.setSize=function(e,n){var i=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),i.width=e,i.height=n,i.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,i,r,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,i,r,o]);var s,a,l=this.getSize(),u=l.width,c=l.height;return o&&(i*(s=c/r)<u&&(e-=(u-i*s)/2/s),r*(a=u/i)<c&&(n-=(c-r*a)/2/a)),this._viewBox=[e,n,i,r,!!o],this._viewBoxShift={dx:-e,dy:-n,scale:l},this.forEach(function(t){t.transform("...")}),this},t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),T=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){T=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,i=e.height,r=e.width,o=e.x,s=e.y;if(!n)throw new Error("VML container not found.");var a=new t._Paper,l=a.canvas=t._g.doc.createElement("div"),u=l.style;return o=o||0,s=s||0,r=r||512,i=i||342,a.width=r,a.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),a.coordsize=216e5+h+216e5,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==n?(t._g.doc.body.appendChild(l),u.left=o+"px",u.top=s+"px",u.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){for(var e in t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var E=t.st;for(var N in L)L[e](N)&&!E[e](N)&&(E[N]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(N))}}.apply(e,i))||(t.exports=r)}])})},function(t,e,n){var i,r;(function(o){!function(s){var a="object"==typeof self&&self.self===self&&self||"object"==typeof o&&o.global===o&&o;i=[n(1),n(3),e],r=function(t,e,n){a.Backbone=s(a,n,t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.4.0",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s,a=e.Events={},l=/\s+/,u=function(t,e,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)e=u(t,e,s[a],i[s[a]],o)}else if(i&&l.test(i))for(s=i.split(l);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,i,r,o);return e};a.on=function(t,e,n){if(this._events=u(c,this._events||{},t,e,{context:n,ctx:this,listening:s}),s){var i=this._listeners||(this._listeners={});i[s.id]=s,s.interop=!1}return this},a.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=s=o[r];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=s=o[r]=new m(this,t));var l=h(t,e,i,this);if(s=void 0,l)throw l;return a.interop&&a.on(e,i),this};var c=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t},h=function(t,e,n,i){try{t.on(e,n,i)}catch(t){return t}};a.off=function(t,e,n){return this._events?(this._events=u(f,this._events,t,e,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,i,this),a.interop&&a.off(e,i)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var f=function(t,e,i,r){if(t){var o,s=r.context,a=r.listeners,l=0;if(e||s||i){for(o=e?[e]:n.keys(t);l<o.length;l++){e=o[l];var u=t[e];if(!u)break;for(var c=[],h=0;h<u.length;h++){var f=u[h];if(i&&i!==f.callback&&i!==f.callback._callback||s&&s!==f.context)c.push(f);else{var p=f.listening;p&&p.off(e,i)}}c.length?t[e]=c:delete t[e]}return t}for(o=n.keys(a);l<o.length;l++)a[o[l]].cleanup()}};a.once=function(t,e,n){var i=u(p,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(i,e,n)},a.listenToOnce=function(t,e,n){var i=u(p,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,i)};var p=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return u(d,this._events,t,void 0,n),this};var d=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&g(r,i),o&&g(o,[e].concat(i))}return t},g=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}},m=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};m.prototype.on=a.on,m.prototype.off=function(t,e){var n;this.interop?(this._events=u(f,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},m.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(e,a);var v=e.Model=function(t,e){var i=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var f in r)e=r[f],n.isEqual(u[f],e)||a.push(f),n.isEqual(h[f],e)?delete c[f]:c[f]=e,o?delete u[f]:u[f]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,u[a[p]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,i=this._changing?this._previousAttributes:this.attributes,r={};for(var o in t){var s=t[o];n.isEqual(i[o],s)||(r[o]=s,e=!0)}return!!e&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;return!!e.set(r,t)&&(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},X(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var o=i.wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,l=this.attributes;i.success=function(t){s.attributes=l;var e=i.parse?s.parse(t,i):t;return o&&(e=n.extend({},r,e)),!(e&&!s.set(e,i))&&(a&&a.call(i.context,s,t,i),void s.trigger("sync",s,t,i))},X(this,i),r&&o&&(this.attributes=n.extend({},l,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var c=this.sync(u,this,i);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(X(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||K();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},w=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),o=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<o;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+o+n]=r[i]};n.extend(y.prototype,a,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,b))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){e=n.extend({},x,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,s,a=[],l=[],u=[],c=[],h={},f=e.add,p=e.merge,d=e.remove,g=!1,m=this.comparator&&null==r&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){o=t[s];var y=this.get(o);if(y){if(p&&o!==y){var b=this._isModel(o)?o.attributes:o;e.parse&&(b=y.parse(b,e)),y.set(b,e),u.push(y),m&&!g&&(g=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[s]=y}else f&&(o=t[s]=this._prepareModel(o,e),o&&(l.push(o),this._addReference(o,e),h[o.cid]=!0,a.push(o)))}if(d){for(s=0;s<this.length;s++)o=this.models[s],h[o.cid]||c.push(o);c.length&&this._removeModels(c,e)}var _=!1,T=!m&&f&&d;if(a.length&&T?(_=this.length!==a.length||n.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,w(this.models,a,0),this.length=this.models.length):l.length&&(m&&(g=!0),w(this.models,l,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(s=0;s<l.length;s++)null!=r&&(e.index=r+s),o=l[s],o.trigger("add",o,this,e);(g||_)&&this.trigger("sort",this,e),(l.length||c.length||u.length)&&(e.changes={added:l,removed:c,merged:u},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},X(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(t=this._prepareModel(t,e),!t)return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new T(this,k)},keys:function(){return new T(this,C)},entries:function(){return new T(this,S)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof v},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var _="function"==typeof Symbol&&Symbol.iterator;_&&(y.prototype[_]=y.prototype.values);var T=function(t,e){this._collection=t,this._kind=e,this._index=0},k=1,C=2,S=3;_&&(T.prototype[_]=function(){return this}),T.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t=this._collection.at(this._index);this._index++;var e;if(this._kind===k)e=t;else{var n=this._collection.modelId(t.attributes);e=this._kind===C?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var A=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,E)),this._ensureElement(),this.initialize.apply(this,arguments)},L=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];n.extend(A.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(L);this.delegate(r[1],r[2],i.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var N=function(t,e,n,i){switch(e){case 1:return function(){return t[n](this[i])};case 2:return function(e){return t[n](this[i],e)};case 3:return function(e,r){return t[n](this[i],O(e,this),r)};case 4:return function(e,r,o){return t[n](this[i],O(e,this),r,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[i]),t[n].apply(t,e)}}},I=function(t,e,i,r){n.each(i,function(n,i){e[i]&&(t.prototype[i]=N(e,n,i,r))})},O=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?M(t):n.isString(t)?function(e){return e.get(t)}:t},M=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},P={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},D={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,P,"models"],[v,D,"attributes"]],function(t){var e=t[0],i=t[1],r=t[2];e.mixin=function(t){var i=n.reduce(n.functions(t),function(t,e){return t[e]=0,t},{});I(e,t,i,r)},I(e,n,i,r)}),e.sync=function(t,i,r){var o=R[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||K()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var u=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,u,r),u};var R={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var B=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},j=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,z=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(B.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(r,s,i)!==!1&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(H,"\\$&").replace(j,"(?:$1)?").replace(F,function(t,e){return e?t:"([^/?]+)"}).replace(z,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var q=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,W=/^\/+|\/+$/g,U=/#.*$/;q.started=!1,n.extend(q.prototype,a,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),
t.replace($,"")},start:function(t){if(q.started)throw new Error("Backbone.history has already been started");if(q.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(W,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),q.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!q.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;t=t.replace(U,"");var r=this.decodeFragment(t);if(this.fragment!==r){if(this.fragment=r,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new q;var V=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};v.extend=y.extend=B.extend=A.extend=q.extend=V;var K=function(){throw new Error('A "url" property or function must be specified')},X=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(e,function(){return this}())},function(t,e,n){"use strict";var i,r,o,s,a,l={}.hasOwnProperty;a=n(1),i=n(5),s=n(25),o="function",r=function(){function t(){this.displayObjects=[]}return a.extend(t.prototype,i.Events),a.extend(t.prototype,s),t.prototype.visible=!0,t.prototype.drawn=!1,t.prototype.saveDrawOptions=function(t){var e,n,i,r;for(r=this.DRAW_OPTIONS,e=0,n=r.length;e<n;e++)i=r[e],this[i]=t[i]},t.prototype.show=function(){this.visible=!0},t.prototype.hide=function(){this.visible=!1},t.prototype.addChild=function(t){this.displayObjects.push(t)},t.prototype.removeChild=function(t){this.disposeChild(t),this.displayObjects=a.without(this.displayObjects,t)},t.prototype.disposeChild=function(t){typeof t.remove===o?t.remove():typeof t.dispose===o&&t.dispose()},t.prototype.removeChildren=function(){var t,e,n,i;for(i=this.displayObjects,e=0,n=i.length;e<n;e++)t=i[e],this.disposeChild(t);this.displayObjects=[],this.drawn=!1},t.prototype.t=function(){var t;return(t=this.configuration.i18n).t.apply(t,arguments)},t.prototype.template=function(){var t;return(t=this.configuration.i18n).template.apply(t,arguments)},t.prototype.debugPoint=function(t,e,n,i){null==n&&(n="red"),null==i&&(i=2),this.paper&&this.addChild(this.paper.circle(t,e,i).attr({fill:n,"stroke-opacity":0}))},t.prototype.disposed=!1,t.prototype.dispose=function(){var t,e;if(!this.disposed){this.off(),this.removeChildren(),this.disposeStates(),e=this;for(t in e)l.call(e,t)&&"id"!==t&&delete this[t];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},t}(),t.exports=r},function(t,e,n){"use strict";var i,r;i=n(36),r=function(t,e,n,o,s){var a,l,u,c,h,f,p,d,g,m;for(null==n&&(n=null),null==o&&(o=!1),null==s&&(s=!1),g=t.i18n.t,null==n&&(n=t.decimals),d=i("round",Number(e),-n).toFixed(n),f=d.indexOf("."),f===-1&&(f=d.length),h=d.substring(0,f),"-"===d.charAt(0)?(p="-",h=h.substring(1)):p="",u=d.substring(f+1),m=g("thousands_separator"+(s?"_html":"")),d="",c=h.length,a=0;c-- >0;)3===a?(d=h.charAt(c)+m+d,a=0):d=h.charAt(c)+d,a++;if(l=g("decimal_mark"),(o||d.length<4)&&u.length>0)d+=l+u;else if(n>0)return r(t,e,0,o,s);return d=p+d},t.exports=r},function(t,e,n){"use strict";var i,r,o;r=n(1),i={chartRadius:{310:.2,340:.22,360:.24,380:.25,400:.26,550:.27,600:.28,620:.29,900:.3,1e3:.34,max:.38},chartRadiusOneOnly:{320:.22,380:.26,400:.28,450:.3,500:.32,600:.34,700:.36,800:.38,1e3:.4,max:.42},chartRadiusOneToOne:{320:.22,380:.26,400:.28,450:.3,500:.32,600:.34,700:.36,800:.38,1e3:.4,max:.42},chartRadiusThumbnail:{max:.3},magnetSize:{300:13,520:16,max:20},magnetSizeUpToTwo:{320:20,520:40,800:50,max:100},magnetLabelSize:{300:10,520:10,max:12},magnetLabelSizeUpToTwo:{300:10,520:12,max:15},magnetLabelXOffsetUpToTwo:{300:1,520:2,max:8},countryLabelSize:{300:12,520:14,max:15},countryImageSize:{300:30,520:30,max:50},indicatorDistance:{300:20,520:25,max:30},indicatorHeight:{300:12,520:18,800:25,1e3:30,max:35},visualizationSize:{300:8,520:12,800:20,1e3:25,max:30},visualizationSizeNineToAll:{300:5,520:10,800:14,1e3:18,max:20},indicatorIndent:{300:-25,520:-35,max:-45},indicatorFontSize:{520:10,800:12,1e3:13,max:14},indicatorTopPadding:{800:2,1e3:4,max:6}},i=function(){var t,e,n,o,s,a,l,u,c;s={},l=function(t,e){return"max"===t&&(t=Infinity),"max"===e&&(e=Infinity),t-e};for(o in i){for(n=i[o],c=r.keys(n).sort(l),a=[],t=0,e=c.length;t<e;t++)u=c[t],a.push({threshold:u,value:n[u]});s[o]=a}return s}(),o=function(t,e){var n,r,o,s,a;if("string"!=typeof t)throw new Error("Scale: Map name must be given");if("number"!=typeof e)throw new Error("Scale: Size must be given");if(o=i[t],!o)throw new Error("Scale: Map data for "+t+" not found");for(n=0,r=o.length;n<r;n++)if(s=o[n],a=s.threshold,"max"===a||e<=a)return s.value},t.exports=o},function(t,e,n){"use strict";var i;i=n(5),t.exports={subscribe:i.Events.on,unsubscribe:i.Events.off,publish:i.Events.trigger}},function(t,e,n){"use strict";var i,r,o,s,a,l,u=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;a=n(1),i=n(3),r=n(5),l=n(2),o=n(22),s=function(t){function e(t){this.joinList=u(this.joinList,this),this.template=u(this.template,this),this.t=u(this.t,this);var n;t&&a.extend(this,a.pick(t,["autoAttach","autoRender","container","containerMethod","region"])),n=this.render,this.render=function(t){return function(){return!t.disposed&&(n.apply(t,arguments),t.autoAttach&&t.attach.apply(t,arguments),t)}}(this),this.subviews=[],this.subviewsByName={},e.__super__.constructor.apply(this,arguments),this.model&&this.listenTo(this.model,"dispose",this.dispose),this.collection&&this.listenTo(this.collection,"dispose",function(t){return function(e){if(!e||e===t.collection)return t.dispose()}}(this)),this.autoRender&&this.render()}return c(e,t),a.extend(e.prototype,o),e.prototype.autoRender=!1,e.prototype.autoAttach=!0,e.prototype.container=null,e.prototype.containerMethod="append",e.prototype.subviews=null,e.prototype.subviewsByName=null,e.prototype.stale=!1,e.prototype.subview=function(t,e){return t&&e?(this.removeSubview(t),this.subviews.push(e),this.subviewsByName[t]=e,e):t?this.subviewsByName[t]:void 0},e.prototype.removeSubview=function(t){var e,n,i,r,o,s,l;if(t){if(s=this.subviews,e=this.subviewsByName,"string"==typeof t)i=t,l=e[i];else{l=t;for(r in e)if(o=e[r],l===o){i=r;break}}if(i&&l&&l.dispose)return l.dispose(),n=a.indexOf(s,l),n!==-1&&s.splice(n,1),delete e[i]}},e.prototype.getTemplateData=function(){var t;return t=this.model?this.model.toJSON():this.collection?{items:this.collection.toJSON(),length:this.collection.length}:{},a.extend(t,{_:a,t:this.t,template:this.template})},e.prototype.getTemplateFunction=function(){throw new Error("View#getTemplateFunction must be overridden")},e.prototype.render=function(){var t,e;return!this.disposed&&(e=this.getTemplateFunction(),"function"==typeof e&&(t=e(this.getTemplateData()),this.$el.html(t)),this)},e.prototype.attach=function(){this.container&&(i(this.container)[this.containerMethod](this.el),this.trigger("addedToDOM"))},e.prototype.t=function(){var t;return(t=this.model.get("configuration").i18n).t.apply(t,arguments)},e.prototype.template=function(){var t;return(t=this.model.get("configuration").i18n).template.apply(t,arguments)},e.prototype.joinList=function(){var t;return(t=this.model.get("configuration").i18n).joinList.apply(t,arguments)},e.prototype.disposed=!1,e.prototype.dispose=function(){var t,e,n,i,r,o,s,a;if(!this.disposed){for(s=this.subviews,t=0,n=s.length;t<n;t++)a=s[t],a.dispose();for(this.unsubscribeAllEvents(),this.off(),this.remove(),o=["el","$el","options","model","collection","subviews","subviewsByName","_callbacks"],e=0,i=o.length;e<i;e++)r=o[e],delete this[r];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},e}(r.View),t.exports=s},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;l=n(1),i=n(3),a=n(4),r=n(6),c=Math.sin,u=Math.cos,s=Math.PI,o=function(t){function e(){return this.mouseleaveHandler=h(this.mouseleaveHandler,this),this.mouseenterHandler=h(this.mouseenterHandler,this),e.__super__.constructor.apply(this,arguments)}var n;return f(e,t),n=1e3,e.prototype.DRAW_OPTIONS="paper x y width height".split(" "),e.prototype.update=function(t,e){this.model=t,this.configuration=e},e.prototype.draw=function(t){this.saveDrawOptions(t),"proportional"===this.model.representation?this.drawPercent():this.drawCircle(),this.addMouseHandlers(),this.drawn=!0},e.prototype.drawCircle=function(){var t,e,i,r,o,s,a,l,u,c,h,f;u=this,a=u.paper,h=u.x,f=u.y,c=u.width,i=u.height,s=u.model,h+=c/2,f+=i/2,r=c/2,o=.25*r,l=s.scale*(r-o)+o,l<o&&(l=o),t=s.value<0?"indicatorCircleNegative":"indicatorCirclePositive",e=this.configuration.color(t),this.circle?this.circle.stop().animate({fill:e,r:l},n,"linear"):(this.circle=a.circle(h,f,l).attr({fill:e,"stroke-opacity":0}),this.addChild(this.circle))},e.prototype.drawPercent=function(){var t,e,i,r,o,l,h,f,p,d,g,m,v,y,x;m=this,h=m.paper,y=m.x,x=m.y,v=m.width,o=m.height,l=m.model,y+=v/2,x+=o/2,d=v/2,this.percentCircle||(this.percentCircle=h.circle(y,x,d).attr({fill:this.configuration.color("indicatorCirclePositive"),"stroke-opacity":0}),this.addChild(this.percentCircle)),g=l.value/100,e=g<0?"indicatorCircleNegative":"indicatorPercentArc",r=this.configuration.color(e),t={fill:r,"stroke-opacity":0},Math.abs(g)>=1?this.arc?(t.r=d,this.percentArc.stop().animate(t,n,"linear")):(this.percentArc=h.circle(y,x,d).attr(t),this.addChild(this.percentArc)):(i=360*g,p=2*s*g-s/2,f="M {0}, {1}\nv {2}\nA {3}, {3} {4} {5} {6} {7}, {8}\nz",f=a.format(f,y,x,0-d,d,i,Math.abs(i)>=180?1:0,g<0?0:1,y+d*u(p),x+d*c(p)),this.percentArc?(t.path=f,this.percentArc.stop().animate(t,n,"linear")):(this.percentArc=h.path(f).attr(t),this.addChild(this.percentArc))),this.percentOverlay||(this.percentOverlay=h.circle(y,x,.55*d).attr({fill:this.configuration.color("indicatorPercentMiddle"),"stroke-opacity":0}),this.addChild(this.percentOverlay))},e.prototype.addMouseHandlers=function(){var t,e,n,r,o,s;for(o=this.displayObjects,s=[],e=0,n=o.length;e<n;e++)t=o[e],r=t.node,r?s.push(i(r).hover(this.mouseenterHandler,this.mouseleaveHandler)):s.push(void 0);return s},e.prototype.mouseenterHandler=function(){return this.trigger("mouseenter",this)},e.prototype.mouseleaveHandler=function(){return this.trigger("mouseleave",this)},e}(r),t.exports=o},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h,f,p=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;h=n(1),i=n(3),c=n(4),u=n(6),l=n(16),o=n(13),s=n(14),a=n(15),f=n(2),c.easing_formulas.chartEaseOut=function(t){return Math.pow(t,.1)},r=function(t){function e(t){this.resize=p(this.resize,this);var n,r,o;e.__super__.constructor.apply(this,arguments),this.initChartStates(),this.resize=h.throttle(this.resize,100),n=i(t.container),this.$container=n,this.animationDuration=null!=(r=t.animationDuration)?r:1e3,this.format=null!=(o=t.format)?o:f.FORMAT_DEFAULT,this.createPaper()}return d(e,t),e.canUse=function(){return""!==c.type&&!/MSIE [67]\.0/.test(navigator.userAgent)}(),h.extend(e.prototype,l,o,s,a),e.prototype.createPaper=function(){this.paper&&this.removeChild(this.paper),this.paper=c(this.$container.get(0),this.$container.width(),this.$container.height()),this.addChild(this.paper),i(this.paper.canvas).click(h.bind(this.canvasClicked,this))},e.prototype.resize=function(){this.drawn&&this.redraw()},e.prototype.update=function(t){var e,n;if(!this.updateDisabled){if(clearTimeout(this.initLockingHandle),e=t.keyframe,this.keyframe=e,this.configuration=e.get("configuration"),this.maxSum=e.get("maxSum"),n=this.dataType,this.dataType=e.get("dataType"),0===this.getElementCount())return this.clear(),void this.showElementCountError();this.hideElementCountError(),this.elements&&!h.isEqual(this.dataType,n)?this.fadeOutAndRedraw():this.updateAndDraw()}},e.prototype.fadeOutAndRedraw=function(){var t,e,n,i;for(i=this.elements,e=0,n=i.length;e<n;e++)t=i[e],t.fadeOut();f.after(this.animationDuration/2+15,function(t){return function(){return t.clear(),t.updateAndDraw()}}(this))},e.prototype.updateAndDraw=function(){var t;t=!!this.elements,this.syncElements(),this.syncRelations(),this.updateElements(),this.updateRelations(),this.draw(t)},e.prototype.disposed=!1,e.prototype.dispose=function(){if(!this.disposed)return clearTimeout(this.initLockingHandle),i(window).off("resize",this.resize),e.__super__.dispose.apply(this,arguments)},e}(u),t.exports=r},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h,f,p,d,g,m;i=n(3),u=n(4),d=n(8),m=n(2),l=Math.PI,f=2*l,o=l/2,g=Math.sin,p=Math.cos,a="outgoing",s="incoming",c=4,h=4,r={draw:function(t){var e;e=i(window).off("resize",this.resize),this.setRadius(),this.calculatePositions(),this.drawElements(),this.restoreLocking(t),this.drawn=!0,e.resize(this.resize)},setRadius:function(){var t,e,n,i;e=this.format===m.FORMAT_THUMBNAIL?"chartRadiusThumbnail":1===this.elements.length?"chartRadiusOneOnly":2===this.elements.length?"chartRadiusOneToOne":"chartRadius",n=Math.min(this.paper.width,this.paper.height),i=Math.min(.85*this.paper.width,this.paper.height),t=d(e,i),this.radius=i*t},drawElements:function(){var t,e,n,i,r,o,s,a,l,u,c,h,f,p,d;if(i=this.elements,n=i.length,h=this.keyframe.get("maxLabelsVisible"),n>h)for(s={},d=i.concat().sort(m.elementsSorter),o=r=0,u=d.length;r<u;o=++r)e=d[o],s[e.id]=o<h;for(t=this.keyframe.get("date"),o=l=0,c=i.length;l<c;o=++l)e=i[o],p=i[o-1]||i[n-1],f=i[o+1]||i[0],a=!(n>h)||s[e.id],e.draw({paper:this.paper,$container:this.$container,animationDuration:this.animationDuration,chartFormat:this.format,chartDrawn:this.drawn,chartRadius:this.radius,elementCount:n,elementIdsChanged:this.elementIdsChanged,previousElement:p,nextElement:f,indicatorVisible:a,date:t})},restoreLocking:function(t){this.format!==m.FORMAT_THUMBNAIL&&(t?(this.lockingPublisherMuted=!0,this.resetStates({preserveLocking:!1}),this.lockingPublisherMuted=!1,clearTimeout(this.initLockingHandle),this.initLockingHandle=m.after(this.animationDuration,function(t){return function(){return t.initLocking()}}(this))):this.initLocking())},clear:function(){this.removeElements(),this.createPaper(),this.drawn=!1},redraw:function(){this.clear(),this.syncElements(),this.syncRelations(),this.updateElements(),this.updateRelations(),this.draw()},showElementCountError:function(){var t;t=this.paper.text(this.paper.width/2,this.paper.height/2,this.t("chart","element_count_error")).attr({"text-anchor":"middle","font-family":"inherit","font-size":15,fill:"black"}),this.addChild(t),this.elementCountError=t},hideElementCountError:function(){this.elementCountError&&(this.removeChild(this.elementCountError),delete this.elementCountError)},calculatePositions:function(){var t;t=this.elements.length,1===t?this.calculatePositionForOneMagnet():2===t?this.calculatePositionForTwoMagnets():2<t&&t<9?this.calculatePositionForThreeToEightMagnets():t>8&&this.calculatePositionsForNineAndMoreMagnets()},calculatePositionForOneMagnet:function(){var t,e,n,i,r,o,l,c,h,f,p,g,m;h=this,n=h.elements,c=h.maxSum,l=2*this.radius,e=n[0],t=u.rad(180),o=l*(e.model.sum/c),f=d("magnetSizeUpToTwo",this.paper.width)/2,p=f,g=l/2,m=g-o,r=.05*l,e.valueIsMissing(a)&&(o+=r),e.valueIsMissing(s)&&(o+=r),i=r/o,e.magnet.setPosition(t,f,g,p,m,i)},calculatePositionForTwoMagnets:function(){var t,e,n,i,r,o,l,c,h,f,p,d,g;h=this,n=h.elements,c=h.maxSum,l=2*this.radius,r=.05*l,e=n[0],t=u.rad(180),o=l*(e.model.sum/c),e.valueIsMissing(a)&&(o+=r),e.valueIsMissing(s)&&(o+=r),i=r/o,f=.5*-this.radius,p=f,d=l/2,g=d-o,e.magnet.setPosition(t,f,d,p,g,i),e=n[1],t=u.rad(0),o=l*(e.model.sum/c),e.valueIsMissing(a)&&(o+=r),e.valueIsMissing(s)&&(o+=r),i=r/o,f=.5*this.radius,p=f,g=l/2,d=g-o,e.magnet.setPosition(t,f,d,p,g,i)},calculatePositionForThreeToEightMagnets:function(){var t,e,n,i,r,u,c,h,d,m,v,y,x,b,w,_,T,k,C,S,A,L,E,N,I,O;for(b=this,u=b.elements,x=b.maxSum,i=u.length,w=-o,_=f/i,t=2*this.radius*g(l/i),e=w,v=m=0,y=u.length;m<y;v=++m)n=u[v],T=p(e)*this.radius,k=g(e)*this.radius,r=n.model.sum,h=.03*x,n.valueIsMissing(a)&&(r+=h),n.valueIsMissing(s)&&(r+=h),c=h/r,C=r/x,S=C*(t-2)+2,d=S/2,E=g(l-e),O=p(l-e),A=T+d*E,N=k+d*O,L=T-d*E,I=k-d*O,n.magnet.setPosition(e,A,N,L,I,c),e+=_},calculatePositionsForNineAndMoreMagnets:function(){var t,e,n,i,r,s,a,l,u,d,v,y,x,b,w,_,T,k,C,S,A,L,E,N,I,O,M;for(C=this,u=C.elements,_=C.maxSum,l=u.length,E=u.concat().sort(m.elementsSorter),S=this.distanceToDeg(c,this.radius),L=this.distanceToDeg(h,this.radius),n=-o,k=L*l,r=f-k,e=f/8;;){for(A=S/e*_,O=0,s=0,v=0,x=E.length;v<x;v++)a=E[v],w=a.magnet,M=a.model.sum,M<A&&(s+=A-M),O+=M;if(t=r*_/(O+s),t>=e){L=(f-(O+s)/_*e)/l;break}e=t}for(y=0,b=u.length;y<b;y++)a=u[y],w=a.magnet,N={x:p(n)*this.radius,y:g(n)*this.radius},I=a.model.sum*e/_,I<S&&(I=S),i=n+I,d={x:p(i)*this.radius,y:g(i)*this.radius},T=(n+i)/2,w.setPosition(T,N.x,N.y,d.x,d.y,0),n=i+L},distanceToDeg:function(t,e){return 2*(o-Math.atan(e/t*2))}},t.exports=r},function(t,e,n){"use strict";var i,r,o;o=n(1),r=n(17),i={elementModels:function(){return this.keyframe.get("elements")},getElementCount:function(){return this.keyframe.get("elements").length},syncElements:function(){var t,e,n,i,r,s,a,l,u,c,h,f;for(this.elements||(this.elements=[],this.elementsById={}),n=this.elementModels(),h=o.pluck(this.elements,"id").join(),c=o.pluck(n,"id").join(),a={},i=0,l=n.length;i<l;i++)e=n[i],r=e.id,a[r]=!0,t=this.elementsById[r],t||this.addElement(e);for(f=this.elements,s=0,u=f.length;s<u;s++)t=f[s],t.id in a||this.removeElement(t);this.sortElements(),this.elementIdsChanged=c!==h},updateElements:function(){var t,e,n,i,r;for(r=this.elementModels(),n=0,i=r.length;n<i;n++)e=r[n],t=this.elementsById[e.id],t.update(e,this.configuration)},sortElements:function(){this.elements=o.map(this.elementModels(),function(t){return function(e){return t.elementsById[e.id]}}(this))},addElement:function(t){var e;return e=new r(t),this.addMagnetHandlers(e.magnet),this.elementsById[t.id]=e,this.elements.push(e),e},removeElement:function(t){t.dispose(),delete this.elementsById[t.id],this.elements=o.without(this.elements,t)},removeElements:function(){var t,e,n,i;if(this.elements)for(i=this.elements,e=0,n=i.length;e<n;e++)t=i[e],t.dispose();delete this.elements,delete this.elementsById}},t.exports=i},function(t,e,n){"use strict";var i,r,o,s,a,l,u;l=n(1),a=n(21),u=n(2),i=5,r=4,o=5,s={syncRelations:function(){this.syncOutgoingRelations(),this.syncIncomingRelations(),this.filterRelations()},syncOutgoingRelations:function(){var t,e,n,i,r,o,s,a,u,c,h,f,p,d,g,m,v;for(a={},f=this.elementModels(),r=0,u=f.length;r<u;r++){e=f[r],i=e.id,n=this.elementsById[i];for(v in e.outgoing)a[i+">"+v]=!0,g=l.find(n.relationsOut,{toId:v}),g||(m=this.elementsById[v]||null,this.createRelation(i,n,v,m))}for(p=this.elements,o=0,c=p.length;o<c;o++)for(t=p[o],d=t.relationsOut,s=0,h=d.length;s<h;s++)g=d[s],g.id in a||g.dispose()},syncIncomingRelations:function(){this.removeIncomingRelations(),this.createIncomingRelations()},createOutgoingRelations:function(t){var e,n,i,r,o,s,a,l,u;for(r=0,o=t.length;r<o;r++)if(e=t[r],s=e.outgoing){i=e.id,n=this.elementsById[i];for(l in s)u=s[l],u>0&&(a=this.elementsById[l]||null,this.createRelation(i,n,l,a))}},createIncomingRelations:function(){var t,e,n,i,r,o,s,a,l,u;for(s=this.elementModels(),i=0,o=s.length;i<o;i++)if(t=s[i],r=t.incoming){l=t.id,a=this.elementsById[l];for(n in r)u=r[n],u>0&&(e=this.elementsById[n],e||this.createRelation(n,null,l,a))}},createRelation:function(t,e,n,i){var r;return r=new a({fromId:t,from:e,toId:n,to:i}),this.connectRelation(r),this.addRelationHandlers(r),r},removeIncomingRelations:function(){this.getIncomingRelations().forEach(function(t){return t.dispose()})},connectRelation:function(t){var e,n;e=t.from,n=t.to,e&&e.addRelationOut(t),n&&n.addRelationIn(t)},disconnectRelation:function(t){var e,n;e=t.from,n=t.to,e&&e.removeRelationOut(t),n&&n.removeRelationIn(t)},updateRelations:function(){this.updateOutgoingRelations()},updateOutgoingRelations:function(){var t,e,n,i,r,o,s,a,u,c,h,f,p,d,g,m;for(e=this.elementModels(),h=this.elements,r=0,s=h.length;r<s;r++)for(n=h[r],i=n.id,t=l.find(e,{id:i}),f=n.relationsOut,o=0,a=f.length;o<a;o++)p=f[o],m=p.toId,g=this.elementsById[m]||null,c=p.to,d=t.outgoing[m],u=t.missingRelations[m]||null,p.update({configuration:this.configuration,to:g,value:d.value,positionOut:d.positionOut,positionIn:d.positionIn,missingRelations:u}),g!==c&&(this.disconnectRelation(p),this.connectRelation(p)),g||p.hide()},filterRelations:function(){var t,e,n,i;for(t=this.getAllRelations(),e=0,n=t.length;e<n;e++)i=t[e],i.show()},getAllRelations:function(){var t,e,n,i,r,o,s,a,l;for(t=[],s=this.elements,n=0,r=s.length;n<r;n++)for(e=s[n],a=e.relationsOut,i=0,o=a.length;i<o;i++)l=a[i],t.push(l);return t},getIncomingRelations:function(){var t;return t=function(t,e){var n;return n=l.filter(e.relationsIn,function(t){return null===t.from}),t.concat(n)},l.reduce(this.elements,t,[])},getRelation:function(t,e){var n,i,r,o,s,a,l,u;for(a=this.elements,i=0,o=a.length;i<o;i++)for(n=a[i],l=n.relationsOut,r=0,s=l.length;r<s;r++)if(u=l[r],u.fromId===t&&u.toId===e)return u;return!1}},t.exports=s},function(t,e,n){"use strict";var i,r,o;r=n(1),o=n(9),i={initChartStates:function(){return this.initStates({states:{animation:["on","off"]},initialState:{animation:"off"}})},canvasClicked:function(t){this.elements&&t.currentTarget===t.target&&this.resetStates({preserveLocking:!1})},resetStates:function(t){null==t&&(t={}),r.defaults(t,{preserveLocking:!0}),this.resetMagnets(t),this.resetRelations(t),this.resetIndicators(t),this.publishLocking()},addMagnetHandlers:function(t){this.listenTo(t,"mouseleave",this.magnetMouseleave),this.listenTo(t,"leaveState",this.magnetLeaveState)},magnetMouseleave:function(t){"active"!==t.state("mode")&&t.transitionTo("mode",this.getLockedMagnet(t)?"dimmedOut":"normal")},magnetLeaveState:function(t,e,n){var i,r,o;"modeNormal"!==e&&"modeDimmedOut"!==e||"modeHighlight"!==n||(this.forMagnets(t,function(t){var e;t.transitionTo("mode","dimmedOut"),e=t.element.indicators,"highlight"===e.state()&&e.transitionTo("invisible")}),this.resetRelations({preserveLocking:!0}),this.activateRelationsForElement(t.element)),"modeActive"!==n&&"modeHighlight"!==n||(i=t.element.indicators,"invisible"===i.state()&&i.transitionTo("highlight")),"modeHighlight"!==e||"modeNormal"!==n&&"modeDimmedOut"!==n||(r=this.getLockedMagnet(),r?(this.resetRelationsForElement(t.element),r.transitionTo("mode","active"),this.activateRelationsForElement(r.element)):(this.forMagnets(t,function(t){if("dimmedOut"===t.state("mode"))return t.transitionTo("mode","normal")}),this.resetRelations({preserveLocking:!0}),o=this.getLockedRelation(),o&&(o.transitionTo("path","active"),o.transitionTo("labels","on"))),i=t.element.indicators,"highlight"===i.state()&&i.transitionTo("invisible")),"lockedOn"===n?(this.forMagnets(t,function(t){return t.transitionTo("locked","off"),t.transitionTo("mode","dimmedOut")}),this.resetRelations({preserveLocking:!1}),this.activateRelationsForElement(t.element),this.publishLocking(t)):"lockedOff"===n&&this.publishLocking()},forMagnets:function(t,e){var n,i,r,o,s;for(s=this.elements,i=0,r=s.length;i<r;i++)n=s[i],o=n.magnet,t!==o&&e(o)},getLockedMagnet:function(t){var e,n,i,r,o;for(o=this.elements,n=0,i=o.length;n<i;n++)if(e=o[n],r=e.magnet,t!==r&&"on"===r.state("locked"))return r;return!1},resetMagnets:function(t){var e,n,i,o,s;for(null==t&&(t={}),r.defaults(t,{preserveLocking:!0}),s=this.elements,n=0,i=s.length;n<i;n++)e=s[n],o=e.magnet,o.transitionTo("mode","normal"),t.preserveLocking||o.transitionTo("locked","off")},resetIndicators:function(){var t,e,n,i,r;for(r=this.elements,e=0,i=r.length;e<i;e++)t=r[e],n=t.indicators,"highlight"===n.state()&&n.transitionTo("invisible")},addRelationHandlers:function(t){this.removeRelationHandlers(t),this.listenTo(t,"leaveState",this.relationLeaveState)},removeRelationHandlers:function(t){this.stopListening(t,"leaveState",this.relationLeaveState)},relationLeaveState:function(t,e,n){var i;"pathHighlight"===n&&this.forRelations(t,function(t){var e;if("highlight"===(e=t.state("path"))||"active"===e)return t.transitionTo("path","normal"),t.transitionTo("labels","off")}),"pathHighlight"===e&&"pathNormal"===n&&(i=this.getLockedRelation(),i&&(i.transitionTo("path","active"),i.transitionTo("labels","on"))),"lockedOn"===n?(this.resetMagnets({preserveLocking:!1}),this.forRelations(t,function(t){var e;if("activeIn"===(e=t.state("path"))||"activeOut"===e)return t.transitionTo("path","normal")}),i=this.getLockedRelation(t),i&&(i.transitionTo("path","normal"),i.transitionTo("labels","off"),i.transitionTo("locked","off")),this.publishLocking(t)):"lockedOff"===n&&this.publishLocking()},forRelations:function(t,e){var n,i,r,o,s,a,l,u;for(1===arguments.length&&(e=t,t=null),a=this.elements,i=0,o=a.length;i<o;i++)for(n=a[i],l=n.relationsOut,r=0,s=l.length;r<s;r++)u=l[r],u!==t&&e(u)},resetRelations:function(t){var e,n,i,o,s,a,l,u;for(null==t&&(t={}),r.defaults(t,{preserveLocking:!0}),a=this.elements,n=0,o=a.length;n<o;n++)for(e=a[n],l=e.relationsOut,i=0,s=l.length;i<s;i++)u=l[i],u!==t.except&&(u.transitionTo("path","normal"),u.transitionTo("labels","off"),t.preserveLocking||u.transitionTo("locked","off"))},getLockedRelation:function(t){var e,n,i,r,o,s,a,l;for(s=this.elements,n=0,r=s.length;n<r;n++)for(e=s[n],a=e.relationsOut,i=0,o=a.length;i<o;i++)if(l=a[i],l!==t&&"on"===l.state("locked"))return l;return!1},activateRelationsForElement:function(t){var e,n,i,r,o,s,a;for(o=t.relationsOut,e=0,i=o.length;e<i;e++)a=o[e],a.transitionTo("path","activeOut");for(s=t.relationsIn,n=0,r=s.length;n<r;n++)a=s[n],a.transitionTo("path","activeIn")},resetRelationsForElement:function(t){var e,n,i,r,o,s,a;for(a=t.relationsOut.concat(t.relationsIn),e=0,n=a.length;e<n;e++)s=a[e],i=s.from===t?s.to:s.from,r=i.magnet,o=r.state("mode"),"active"!==o&&(s.transitionTo("path","normal"),s.transitionTo("labels","off"))},publishLocking:function(t){this.lockingPublisherMuted||(this.updateDisabled=!0,null==t?o.publish("locking:set",null):t.element?o.publish("locking:set",t.element.id):t.from&&t.to&&o.publish("locking:set",[t.from.id,t.to.id]),this.updateDisabled=!1)},initLocking:function(){var t;t=this.keyframe.get("locking"),this.lockingPublisherMuted=!0,this.resetStates({preserveLocking:!1}),t&&(r.isArray(t)?this.initRelationLocking(t[0],t[1]):this.initMagnetLocking(t)),this.lockingPublisherMuted=!1},initRelationLocking:function(t,e){var n;if(n=this.getRelation(t,e))return this.resetRelations({except:n}),n.transitionTo("locked","on"),n.transitionTo("path","active"),n.transitionTo("labels","on")},initMagnetLocking:function(t){var e,n;if(e=this.elementsById[t])return n=e.magnet,n.transitionTo("locked","on"),n.transitionTo("mode","active"),this.activateRelationsForElement(e)}},t.exports=i},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;u=n(1),i=n(6),a=n(20),o=n(19),c=n(2),s="left",l="right",r=function(t){function e(t){var n,i,r;this.model=t,e.__super__.constructor.apply(this,arguments),r=function(t){return console.log("Element#"+t+" deprecated. Use the .model."+t+" instead"),this.model[t]},n=function(t,e){Object.defineProperty(t,e,{get:u.partial(r,e)})},i=["name","type","unit","typeData","sumIn","sumOut","date"],Object.defineProperty&&i.forEach(function(t){return function(e){return n(t,e)}}(this)),this.id=this.model.id,this.relationsIn=[],this.relationsOut=[],this.resetTotalVolume(),this.createMagnet(),this.createIndicators()}return h(e,t),e.prototype.DRAW_OPTIONS="paper $container animationDuration chartFormat chartDrawn chartRadius elementCount elementIdsChanged".split(" "),e.prototype.update=function(t,e){this.model=t,this.configuration=e,this.magnet.update(this.model,this.configuration),this.indicators.update(this.model.indicators,this.configuration)},e.prototype.getRate=function(){return 0===this.model.sum?0:this.model.sumOut/this.model.sum},e.prototype.resetTotalVolume=function(){this.totalIn=0,this.totalOut=0,this.total=0},e.prototype.valueIsMissing=function(t){var e;return e=this.model,"outgoing"===t&&e.noOutgoing.length>0&&0===e.sumOut||"incoming"===t&&e.noIncoming.length>0&&0===e.sumIn},e.prototype.createMagnet=function(){var t;return t=new a(this),this.magnet=t,this.addChild(t),t},e.prototype.createIndicators=function(){this.indicators=new o(this),this.addChild(this.indicators)},e.prototype.getAllRelations=function(){return this.relationsIn.concat(this.relationsOut)},e.prototype.addRelationIn=function(t){this.relationsIn.push(t),this.relationsIn.sort(c.relationSorter),this.addRelation(t)},e.prototype.addRelationOut=function(t){this.relationsOut.push(t),
this.relationsOut.sort(c.relationSorter),this.addRelation(t)},e.prototype.addRelation=function(t){this.totalOut+=t.value,this.total+=t.value},e.prototype.removeRelationIn=function(t){this.relationsIn=u.without(this.relationsIn,t),this.removeRelation(t)},e.prototype.removeRelationOut=function(t){this.relationsOut=u.without(this.relationsOut,t),this.removeRelation(t)},e.prototype.removeRelation=function(t){this.totalIn-=t.value,this.total-=t.value},e.prototype.removeRelations=function(){this.relationsOut=[],this.relationsIn=[],this.resetTotalVolume()},e.prototype.draw=function(t){this.saveDrawOptions(t),this.magnet.draw(t),2===this.elementCount?this.drawOneToOneRelations(t):this.drawNormalRelations(t),t.degDiff=Math.abs(this.magnet.degdeg-t.previousElement.magnet.degdeg),this.indicators.draw(t),this.drawn=!0},e.prototype.getRelationPosition=function(t){var e;return e=t.from===this?this.model.sumOut:this.model.sumIn,this.getRelationSum(t)/e},e.prototype.getRelationSum=function(t){var e,n,i,r,o;for(o=0,r=t.from===this?this.relationsOut:this.relationsIn,e=0,n=r.length;e<n&&(i=r[e],i!==t);e++)o+=i.value;return o},e.prototype.drawNormalRelations=function(t){this.forOutgoingRelations(function(e){return e.draw(t)})},e.prototype.drawOneToOneRelations=function(t){var e,n,i;i=180===this.magnet.degdeg?s:l,e=i===s,n=i===l,this.forOutgoingRelations(function(i){i.draw(t,e,n)})},e.prototype.forOutgoingRelations=function(t){var e,n,i,r;for(i=this.relationsOut,e=0,n=i.length;e<n;e++)r=i[e],r.visible&&r.to&&t(r)},e.prototype.fadeOut=function(){this.magnet.fadeOut(),this.elementCount<=8&&!this.elementIdsChanged&&this.indicators.fade(!1,this.animationDuration/2),this.forOutgoingRelations(function(t){t.fadeOut()})},e.prototype.dispose=function(){var t,n,i,r,o,s,a;if(!this.disposed){for(o=this.relationsOut.concat(),t=0,i=o.length;t<i;t++)a=o[t],a.dispose();for(s=this.relationsIn.concat(),n=0,r=s.length;n<r;n++)a=s[n],a.dispose();return e.__super__.dispose.apply(this,arguments)}},e}(i),t.exports=r},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;l=n(1),i=n(3),a=n(4),r=n(6),s=n(11),u=n(7),c=n(8),o=function(t){function e(t,n,i){this.element=t,this.model=n,this.configuration=i,e.__super__.constructor.apply(this,arguments),this.initStates({states:["normal","highlight"],initialState:"normal"})}var n,r,o;return h(e,t),n=1e3,e.prototype.DRAW_OPTIONS="paper side".split(" "),e.prototype.update=function(t,e){this.model=t,this.configuration=e},e.prototype.draw=function(t){var e,n;this.saveDrawOptions(t),this.smallestSide=Math.min(this.paper.width,this.paper.height),this.drawn||this.drawElement(),e=null==(n=t.drawVisualization)||n,e&&this.drawVisualization(),this.paper.width>300&&(this.drawValue(),this.drawTendency(),this.drawLabels()),this.drawn||t.$container.append(this.el),this.drawn=!0},e.prototype.drawElement=function(){var t,e,n;t="left"===this.side?"left":"right",e=c("indicatorFontSize",this.smallestSide),this.el=i("<div>").addClass("indicator side-"+t).css("font-size",e+"px"),this.addChild(this.el),n=c("indicatorTopPadding",this.smallestSide),this.labels=i("<div>").addClass("indicator-labels").css("padding-top",n+"px").hover(l.bind(this.transitionTo,this,"highlight"),l.bind(this.transitionTo,this,"normal")).appendTo(this.el)},e.prototype.drawVisualization=function(){var t,e;this.visualizationContainer||(this.visualizationContainer=i("<div>").addClass("indicator-visualization")),"left"===this.side?this.labels.after(this.visualizationContainer):this.labels.before(this.visualizationContainer),e=c("visualizationSize",this.smallestSide),t=e,this.visualizationPaper||(this.visualizationPaper=a(this.visualizationContainer.get(0),e,t)),this.visualization||(this.visualization=new s(this)),this.visualization.update(this.model,this.configuration),this.visualization.draw({paper:this.visualizationPaper,x:0,y:0,width:e,height:t})},e.prototype.drawValue=function(){var t,e;this.model.missing===!1?(t=u(this.configuration,this.model.value,null,null,!0),e=this.template(["units",this.model.unit,"value_html"],{number:t})):e=this.t("not_available"),this.valueContainer?this.valueContainer.html(e):this.valueContainer=i("<div>").addClass("indicator-value-and-unit").html(e).appendTo(this.labels)},o=12,r=12,e.prototype.drawTendency=function(){return this.drawTendencyArrow(),this.drawTendencyPercent()},e.prototype.drawTendencyArrow=function(){var t,e,i,s;return this.tendencyArrowContainer||this.createTendencyArrowContainer(),null==this.model.tendency?(this.tendencyArrowContainer&&this.tendencyArrowContainer.hide(),void(this.tendencyArrow&&(this.tendencyArrow.remove(),delete this.tendencyArrow))):(this.tendencyArrowContainer.show(),t=this.getTendencyArrowRotation(this.model.tendency),e=o/2,i=r/2,s="r"+t+","+e+","+i,this.tendencyArrow?void this.tendencyArrow.animate({transform:s},n,"linear"):void this.createTendencyArrow(s))},e.prototype.createTendencyArrowContainer=function(){this.tendencyArrowContainer=i("<div>").addClass("indicator-tendency-arrow").appendTo(this.labels),this.tendencyArrowPaper=a(this.tendencyArrowContainer.get(0),o,r)},e.prototype.getTendencyArrowRotation=function(t){switch(t){case 2:return-90;case 1:return-45;case-1:return 45;case-2:return 90}},e.prototype.createTendencyArrow=function(t){var e,n,i,s,l,u,c,h,f;s=this.tendencyArrowPaper,u={stroke:this.configuration.color("tendencyArrow"),"stroke-width":1.5},f=o,e=r,i=a.format("M{0},{1} L{2},{3}",0,e/2,f,e/2),n=s.path(i).attr(u),h=a.format("M{0},{1} L{2},{3} L{4},{5}",.55*f,.1*e,.95*f,e/2,.55*f,.9*e),c=s.path(h).attr(u),l=this.paper.set(),l.push(c,n),l.transform(t),this.tendencyArrow=l},e.prototype.drawTendencyPercent=function(){var t,e,n,r,o,s;return r=this.model.tendencyPercent,this.tendencyPercent||(this.tendencyPercent=i("<div>").addClass("indicator-tendency-percent").appendTo(this.labels)),null==r?void this.tendencyPercent.html(""):(n='<span class="narrow-space">&nbsp;</span>',o=r>=0?"+"+n:"",e="absolute"===this.model.representation,s=e?n+"%":"",e&&(r*=100),r=u(this.configuration,r,null,null,!0),t="("+o+r+s+")",void this.tendencyPercent.html(t))},e.prototype.drawLabels=function(){var t,e,n,i,r,o,s;n=this.model,o=n.type,s=n.unit,i=this.t("indicators",o,"short"),e=this.t("indicators",o,"full"),t=this.template(["value_in_unit"],{unit:this.t("units",s,"full")}),r={shortLabelText:i,fullLabelText:e,descriptionText:t},this.shortLabel?this.fillLabels(r):this.createLabels(r)},e.prototype.createLabels=function(t){this.shortLabel=i("<div>").addClass("indicator-short-label").text(t.shortLabelText).appendTo(this.labels),this.fullLabelAndDescription=i("<div>").addClass("indicator-full-label-and-description"),this.fullLabel=i("<div>").addClass("indicator-full-label").text(t.fullLabelText).appendTo(this.fullLabelAndDescription),t.descriptionText&&(this.descriptionLabel=i("<div>").addClass("indicator-description").text(t.descriptionText).appendTo(this.fullLabelAndDescription)),this.fullLabelAndDescription.appendTo(this.labels)},e.prototype.fillLabels=function(t){this.shortLabel.text(t.shortLabelText),this.fullLabel.text(t.fullLabelText),t.descriptionText?this.descriptionLabel.text(t.descriptionText).show():this.descriptionLabel.hide()},e.prototype.enterNormalState=function(){this.el&&this.fullLabelAndDescription.stop(!0,!0).slideUp("fast",function(t){return function(){return t.el.removeClass("open")}}(this))},e.prototype.enterHighlightState=function(){this.el&&(this.fullLabelAndDescription.stop(!0,!0).slideDown("fast"),this.el.addClass("open"))},e}(r),t.exports=o},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h,f,p,d,g,m,v,y,x,b,w,T=function(t,e){return function(){return t.apply(e,arguments)}},k=function(t,e){function n(){this.constructor=t}for(var i in e)C.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},C={}.hasOwnProperty;i=n(3),m=n(4),o=n(6),u=n(18),c=n(11),x=n(8),w=n(2),d=Math.PI,s=d/2,b=Math.sin,y=Math.cos,v="top",f="left",r="bottom",g="right",p="normal",l="invisible",a="highlight",h=function(t){function e(t){this.element=t,this.drawNineToAllAfterTransition=T(this.drawNineToAllAfterTransition,this),this.drawOneToEightIndicators=T(this.drawOneToEightIndicators,this),this.draw=T(this.draw,this),e.__super__.constructor.apply(this,arguments),this.initStates({states:[p,l,a],initialState:p}),this.indicators=[]}return k(e,t),e.prototype.DRAW_OPTIONS="paper $container animationDuration chartFormat chartRadius elementCount elementIdsChanged indicatorVisible degDiff".split(" "),e.prototype.update=function(t,e){this.models=t,this.configuration=e},e.prototype.createIndicators=function(){var t,e,n,i,r;for(this.indicators=[],r=this.models,t=0,i=r.length;t<i;t++)n=r[t],e=new u(this.element),this.indicators.push(e),this.addChild(e)},e.prototype.transitionFirstIndicator=function(t){var e,n;null!=(e=this.indicators)&&null!=(n=e[0])&&n.transitionTo(t)},e.prototype.removeIndicators=function(){var t,e,n,i;if(this.indicators)for(i=this.indicators,t=0,n=i.length;t<n;t++)e=i[t],this.removeChild(e)},e.prototype.updateIndicators=function(){var t,e,n,i,r;for(r=this.indicators,e=t=0,i=r.length;t<i;e=++t)n=r[e],n.update(this.models[e],this.configuration)},e.prototype.draw=function(t){this.saveDrawOptions(t),this.animateExisting=this.elementCount<9&&!this.elementIdsChanged&&this.sameIndicatorTypes(),this.animateExisting||(this.removeIndicators(),this.createIndicators()),this.updateIndicators(),this.setVisibility(),this.calculateLimit(),this.calculateHeightAndDistance(),this.calculateSide(),this.calculateStart(),this.elementCount<9?this.drawOneToEight():this.drawNineToAll(),this.drawn=!0},e.prototype.sameIndicatorTypes=function(){return this.indicators&&this.models.length===this.indicators.length&&_.every(this.indicators,function(t){return function(e,n){var i,r;return i=t.models[n],r=e.model,i.type===r.type&&i.unit===r.unit}}(this))},e.prototype.calculateLimit=function(){this.indicatorLimit=this.paper.width<=300?0:this.elementCount>=9?1:this.elementCount>=6?2:this.elementCount>=3?3:5,this.visibleCount=Math.min(this.indicatorLimit,this.indicators.length)},e.prototype.setVisibility=function(){var t,e;e=this.elementCount<9&&this.degDiff>=18||this.elementCount>=9&&this.indicatorVisible||1===this.elementCount,t=e?p:l,this.transitionTo(t)},e.prototype.calculateHeightAndDistance=function(){var t;t=Math.min(this.paper.width,this.paper.height),this.indicatorHeight=x("indicatorHeight",t),this.distanceToMagnet=x("indicatorDistance",t)},e.prototype.calculateSide=function(){var t,e;t=this.element.magnet.degdeg,this.side=-65<t&&t<=65?g:65<t&&t<=115?r:115<t&&t<=245?f:245<t||-90<=t&&t<=-65?v:void 0,this.labelBesideIndicators=((e=this.side)===v||e===r)&&this.indicatorLimit>2},e.prototype.calculateStart=function(){var t,e,n,i,r,o,a,l;return e=this.element.magnet,t=e.deg,this.tanYFactor=1/Math.tan(this.side===f?s-t:t-s),i=e.absx4,a=e.absy4,r=e.absx6,l=e.absy6,n=i+(r-i)/2,o=a+(l-a)/2,this.elementCount<3?(this.startX=(this.side===f?r:i)+this.distanceToMagnet*(this.side===f?-1:1),void(this.startY=this.paper.height/2+this.chartRadius*-.4)):(n+=y(t)*this.distanceToMagnet,o+=b(t)*this.distanceToMagnet,this.startX=n,void(this.startY=o))},e.prototype.afterTransition=function(t){var e;e=!this.animateExisting&&this.drawn&&this.animationDuration>0?this.animationDuration+100:0,clearTimeout(this.afterTransitionHandle),this.afterTransitionHandle=w.after(e,t)},e.prototype.drawOneToEight=function(){var t;t=this.chartFormat===w.FORMAT_DEFAULT,this.removeNineToAllVisualization(),this.state()===p?(t&&this.drawCountryLabel(),this.afterTransition(this.drawOneToEightIndicators)):(this.removeCountryLabel(),this.hideIndicators())},e.prototype.drawCountryLabel=function(){var t,e,n,i,r,o,s,a,l,u,c,h,p,d,g,m,v,w,T;u=this.element.magnet,t=u.deg,w=this.startX,T=this.startY,r=this.elementCount>=9,i=x("countryImageSize",this.paper.width),s=this.t("entityNames",this.element.id),s=s.replace(/\u00ad([^\u00ad]*)$/,"-\n$1"),s=s.replace(/[ \n]([^ \n]*)$/,"\n$1"),n=x("countryLabelSize",this.paper.width),a=n,l=(null!=(h=null!=(p=s.match(/\n/g))?p.length:void 0)?h:0)+1,e=i*Math.sqrt(2)/2,e+=l*a,d=Math.min(this.paper.width,this.paper.height),e+=x("visualizationSize",d)/2,w+=y(t)*e,T+=b(t)*e,o=this.t("entityImages",this.element.id),w-=i/2,T-=i/2,m=w+i/2,v=T+(l+1)*(a/2)+i,this.elementCount<9&&this.side===f&&(v+=x("visualizationSize",d)),c=!this.countryLabel,c&&(this.countryLabel=this.paper.text(m,v,s).attr({"font-family":"inherit","font-weight":"bold",fill:"rgb(45, 45, 45)"}),this.countryImage=this.paper.image(o,w,T,i,i).hover(_.bind(this.transitionFirstIndicator,this,"highlight"),_.bind(this.transitionFirstIndicator,this,"normal"))),g="middle",this.countryLabel.attr({text:s,"text-anchor":g,"font-size":n,opacity:1}),this.countryImage.attr({opacity:1}),c?(this.addChild(this.countryLabel),this.addChild(this.countryImage)):(this.countryLabel.stop().animate({x:m,y:v},this.animationDuration,"easeOut"),this.countryImage.stop().animate({x:w,y:T},this.animationDuration,"easeOut")),this.countryLabelX=w,this.countryLabelY=T},e.prototype.removeCountryLabel=function(){this.countryLabel&&(this.removeChild(this.countryLabel),delete this.countryLabel,delete this.countryLabelX,delete this.countryLabelY,this.removeChild(this.countryImage),delete this.countryImage)},e.prototype.drawOneToEightIndicators=function(){var t,e,n,i,r,o,s,a,l,u,c,h;if(0!==this.visibleCount)for(c=this.countryLabelX,h=this.countryLabelY,l=this.indicators.slice(0,this.visibleCount),r=n=0,a=l.length;n<a;r=++n)o=l[r],i=x("countryImageSize",this.paper.width),o.draw({paper:this.paper,$container:this.$container,side:this.side}),s=o.el,u=Math.min(this.paper.width,this.paper.height),e=h,this.side===f?(e+=i,t=this.paper.width-c,s.css({right:t-x("visualizationSize",u)/2,top:e})):(e-=x("visualizationSize",u)/2,c+=i,t=c,s.css({left:t,top:e}))},e.prototype.drawNineToAll=function(){var t,e;e=this.state()===p,t=this.chartFormat===w.FORMAT_DEFAULT,this.removeNineToAllVisualization(),e?this.countryLabel&&t&&this.drawCountryLabel():(this.removeCountryLabel(),this.hideIndicators()),this.afterTransition(this.drawNineToAllAfterTransition)},e.prototype.drawNineToAllAfterTransition=function(){var t,e;e=this.state()===p,t=this.chartFormat===w.FORMAT_DEFAULT,!this.countryLabel&&e&&t&&this.drawCountryLabel(),this.drawNineToAllVisualization(),e&&this.drawNineToAllIndicator()},e.prototype.drawNineToAllVisualization=function(){var t,e,n,i,r;e=this.indicators[0],e&&(this.visualization||(this.visualization=new c(e),this.visualization.update(this.models[0],this.configuration),this.listenTo(this.visualization,"mouseenter",this.visualizationMouseenter),this.listenTo(this.visualization,"mouseleave",this.visualizationMouseleave),this.addChild(this.visualization)),n=x("visualizationSizeNineToAll",this.paper.width),t=n,i=this.startX-n/2,r=this.startY-t/2,this.visualization.draw({paper:this.paper,x:i,y:r,width:n,height:t}))},e.prototype.visualizationMouseenter=function(){this.state()===l&&this.transitionTo(a),this.element.magnet.transitionTo("mode","highlight")},e.prototype.visualizationMouseleave=function(){this.state()===a&&this.transitionTo(l),this.element.magnet.transitionTo("mode","normal")},e.prototype.removeNineToAllVisualization=function(){this.visualization&&(this.removeChild(this.visualization),delete this.visualization)},e.prototype.drawNineToAllIndicator=function(){var t,e,n,i,o;t=this.indicators[0],t&&(t.draw({paper:this.paper,$container:this.$container,side:this.side,drawVisualization:!1}),i=this.countryLabelX-4,o=this.countryLabelY+.75*x("magnetLabelSize",this.paper.width),(n=this.side)!==v&&n!==r||this.labelBesideIndicators||(i+=x("indicatorIndent",this.paper.width)),e=t.el,this.side===f?(i=this.paper.width-i,e.css({right:i,top:o})):e.css({left:i,top:o+35}))},e.prototype.hideIndicators=function(){var t,e,n,i;for(i=this.indicators,t=0,n=i.length;t<n;t++)e=i[t],e.el&&e.el.hide()},e.prototype.fade=function(t,e,n){var i,r,o,s,a;if(!this.drawn)return void("function"==typeof n&&n());for(i=t?1:0,this.countryLabel.stop().show().animate({opacity:i},e,"linear",n),a=this.indicators,r=0,s=a.length;r<s;r++)o=a[r],o.el&&o.el.stop(!0,!1).css({display:"block"}).animate({opacity:i},e,"linear")},e.prototype.fadeIn=function(t){this.fade(!0,this.animationDuration/2,t)},e.prototype.fadeOut=function(t){this.fade(!1,this.animationDuration/2,t)},e.prototype.enterInvisibleState=function(t){t===a&&this.fadeOut()},e.prototype.enterHighlightState=function(t){t===l&&(this.drawCountryLabel(),this.elementCount<9?this.drawOneToEightIndicators():this.drawNineToAllIndicator(),this.fadeIn())},e.prototype.dispose=function(){if(!this.disposed)return clearTimeout(this.afterTransitionHandle),e.__super__.dispose.apply(this,arguments)},e}(o),t.exports=h},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h,f,p,d,g,m,v,y,x,b,w,T=function(t,e){return function(){return t.apply(e,arguments)}},k=function(t,e){function n(){this.constructor=t}for(var i in e)C.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},C={}.hasOwnProperty;i=n(3),g=n(4),y=n(9),r=n(6),v=n(7),x=n(8),w=n(2),d=Math.PI,a=d/2,b=Math.sin,m=Math.cos,u="inside",f="outside",h="outgoing",l="incoming",p=[h,l],s="easeOut",o="easeIn",c=function(t){function e(t){this.element=t,this.clicked=T(this.clicked,this),this.mouseleaveHandler=T(this.mouseleaveHandler,this),this.mouseenterHandler=T(this.mouseenterHandler,this),this.fadeInBars=T(this.fadeInBars,this),this.drawAfterTransition=T(this.drawAfterTransition,this),e.__super__.constructor.apply(this,arguments),this.markerObjects=[],this.barsVisible=!1,this.initStates({states:{locked:["on","off"],mode:["normal","highlight","active","dimmedOut"]},initialState:{locked:"off",mode:"normal"}})}var n,r;return k(e,t),r=10,n=.5,e.prototype.DRAW_OPTIONS="paper animationDuration chartDrawn elementCount".split(" "),e.prototype.x1=0,e.prototype.y1=0,e.prototype.x2=0,e.prototype.y2=0,e.prototype.x3=0,e.prototype.y3=0,e.prototype.x4=0,e.prototype.y4=0,e.prototype.x5=0,e.prototype.y5=0,e.prototype.x6=0,e.prototype.y6=0,e.prototype.setPosition=function(t,e,n,i,r,o){var s;this.deg=t,this.x1=e,this.y1=n,this.x3=i,this.y3=r,this.degdeg=g.deg(this.deg),s=this.element.getRate(),this.element.valueIsMissing(h)&&this.element.valueIsMissing(l)?s=.5:this.element.valueIsMissing(h)?s=o:this.element.valueIsMissing(l)&&(s=1-o),this.x2=this.x1+(this.x3-this.x1)*s,this.y2=this.y1+(this.y3-this.y1)*s},e.prototype.update=function(t,e){this.model=t,this.configuration=e},e.prototype.draw=function(t){var e,n;this.saveDrawOptions(t),n=this.elementCount<3?"magnetSizeUpToTwo":"magnetSize",this.weight=x(n,this.paper.width),this.calculateOuterPoints(),this.calculateAbsolutePoints(),this.calculateDistances(t.previousElement,t.nextElement),this.removeLabels(),this.removeMarkers(),this.drawBars(),clearTimeout(this.afterTransitionHandle),clearTimeout(this.fadeInHandle),e=this.animationDuration>0?this.animationDuration+100:0,this.chartDrawn?this.afterTransitionHandle=w.after(e,this.drawAfterTransition):this.drawAfterTransition(),this.chartDrawn&&!this.barsVisible&&(this.fadeInHandle=w.after(e,this.fadeInBars)),this.drawn=!0},e.prototype.drawAfterTransition=function(){this.afterTransitionHandle=null,this.elementCount<3&&this.drawMarkers(),this.drawLabels()},e.prototype.fadeInBars=function(){var t,e,i,r,o,a;for(this.fadeInHandle=null,o="dimmedOut"===this.state("mode")?n:1,t={"fill-opacity":o},e=this.animationDuration/2,i=0,r=p.length;i<r;i++)a=p[i],this[a+"Bar"].animate(t,e,s);this.barsVisible=!0},e.prototype.calculateDistances=function(t,e){this.distanceToPrevious=Math.sqrt(Math.pow(this.x1-t.magnet.x3,2)+Math.pow(this.y1-t.magnet.y3,2)),this.distanceToNext=Math.sqrt(Math.pow(this.x2-e.magnet.x1,2)+Math.pow(this.y2-e.magnet.y1,2))},e.prototype.calculateOuterPoints=function(){var t,e;t=m(this.deg)*this.weight,e=b(this.deg)*this.weight,this.x4=this.x1+t,this.y4=this.y1+e,this.x5=this.x2+t,this.y5=this.y2+e,this.x6=this.x3+t,this.y6=this.y3+e},e.prototype.calculateAbsolutePoints=function(){var t,e,n,i;for(e=this.paper.width/2,t=this.paper.height/2,n=i=1;i<=6;n=++i)this["absx"+n]=this["x"+n]+e,this["absy"+n]=this["y"+n]+t},e.prototype.drawBars=function(){this.drawOutgoingBar(),this.drawIncomingBar()},e.prototype.drawOutgoingBar=function(){var t;t="M "+this.absx1+", "+this.absy1+", L "+this.absx2+", "+this.absy2+", L "+this.absx5+", "+this.absy5+", L "+this.absx4+", "+this.absy4+" Z",this.drawBar(h,t)},e.prototype.drawIncomingBar=function(){var t;t="M "+this.absx2+", "+this.absy2+", L "+this.absx3+", "+this.absy3+", L "+this.absx6+", "+this.absy6+", L "+this.absx5+", "+this.absy5+" Z",this.drawBar(l,t)},e.prototype.drawBar=function(t,e){var n,i,r,o,a;return n=t+"Bar",i=this.element.valueIsMissing(t)?["magnetMissingValueBg"]:["magnets",this.model.dataType.type,t],i=(a=this.configuration).color.apply(a,i),this.drawn?void this[n].stop().animate({fill:i,path:e},this.animationDuration,s):(r=!this.drawn&&this.chartDrawn?0:1,o=this.paper.path(e).attr({fill:i,"stroke-width":0,"stroke-opacity":0,"fill-opacity":r}),this.addChild(o),this[n]=o,void this.registerMouseHandlers(o))},e.prototype.drawLabels=function(){var t,e,n,i,r,o,s;for(t=0,i=p.length;t<i;t++)s=p[t],this.drawLabel(s);if(this.elementCount<3)for(e=0,r=p.length;e<r;e++)s=p[e],this.drawDescriptionLabel(s);for(this.calculateLabelPosition(),this.labelsVisible||this.hideLabels(),n=0,o=p.length;n<o;n++)s=p[n],this.positionLabel(s)},e.prototype.drawLabel=function(t){var e,n,r,o,s,a;r=this.model[t===h?"sumOut":"sumIn"],s="",a=this.model.dataType.unit,this.element.valueIsMissing(t)?s=this.t("not_available"):(r=v(this.configuration,r,null,null,!1),s=this.template(["units",a,"value"],{number:r})),o=this.elementCount<3?"magnetLabelSizeUpToTwo":"magnetLabelSize",e=x(o,this.paper.width),n=this.paper.text(0,0,s).attr({fill:"white","font-family":"inherit","font-size":e," font-weight":"bold"}),this[t+"Label"]=n,this.addChild(n),i(n.node).hover(this.mouseenterHandler,this.mouseleaveHandler).click(this.clicked)},e.prototype.drawDescriptionLabel=function(t){var e,n,i;e=x("magnetLabelSizeUpToTwo",this.paper.width),i=this.t("flow",this.model.dataType.type,t),n=this.paper.text(0,0,i).attr({"font-family":"inherit","font-size":e}),this[t+"DescriptionLabel"]=n,this.addChild(n)},e.prototype.calculateLabelPosition=function(){this.elementCount<3?this.calculateLabelPositionUpToTwo():this.calculateLabelPositionThreePlus()},e.prototype.calculateLabelPositionUpToTwo=function(){var t,e,n,i,r,o,s,a,l,c,h,d,g,m,v,y;for(s={},n=x("magnetLabelSizeUpToTwo",this.paper.width),v=n/2,y=n,c=this.getLabelsHeightUpToTwo()+2*y,t=this.getBarWidths(),i=0,h=p.length;i<h;i++)m=p[i],s[m]=c<=t[m]?u:f;for(l=this.getLabelWidths(),e=this.getDescriptionLabelWidths(),r=0,d=p.length;r<d;r++)m=p[r],s[m]===u&&(a=Math.max(l[m],e[m])+2*v,s[m]=a<=this.weight?u:f);for(o=0,g=p.length;o<g;o++)m=p[o],this[m+"LabelPosition"]=s[m];this.labelsVisible=!0},e.prototype.calculateLabelPositionThreePlus=function(){var t,e,n,i,r,o;e=this.getBarWidths(),i=this.getLabelWidths(),r=4,n=i.sum+2*r,t=e.sum,this.labelPosition=f,o=this.distanceToPrevious>=1.8*i.outgoing&&this.distanceToNext>=1.8*i.incoming,this.labelsVisible=this.elementCount<9&&(this.labelPosition===u||o)},e.prototype.getBarWidths=function(){var t,e,n,i,r;for(r={sum:0},t=0,e=p.length;t<e;t++)n=p[t],i=this.getBarWidth(n),r[n]=i,r.sum+=i;return r},e.prototype.getBarWidth=function(t){var e,n,i,r;return t===h?(i=this.absx1,r=this.absy1,e=this.absx2,n=this.absy2):(i=this.absx2,r=this.absy2,e=this.absx3,n=this.absy3),Math.sqrt(Math.pow(n-r,2)+Math.pow(e-i,2))},e.prototype.getLabelWidths=function(){var t,e,n,i,r;for(r={sum:0},t=0,e=p.length;t<e;t++)n=p[t],i=this[n+"Label"].getBBox().width,r[n]=i,r.sum+=i;return r},e.prototype.getDescriptionLabelWidths=function(){var t,e,n,i,r;for(r={sum:0},t=0,e=p.length;t<e;t++)n=p[t],i=this[n+"DescriptionLabel"].getBBox().width,r[n]=i,r.sum+=i;return r},e.prototype.getLabelsHeightUpToTwo=function(){var t,e;return t=x("magnetLabelSizeUpToTwo",this.paper.width),e=1.2,2*t*e},e.prototype.positionLabel=function(t){var e,n,i,r,o,s,a,l,u,c,h;i=this[t+"Label"],o=this.getLabelPosition(t),c=o.x,h=o.y,a=o.textAnchor,u=o.textRotation,e={x:c,y:h,"text-anchor":a},this.elementCount<3?(l=this.element.valueIsMissing(t)?"magnetMissingValueFg":this[t+"LabelPosition"]===f?"fg":"bg",l=this.configuration.color(l),n=x("magnetLabelSizeUpToTwo",this.paper.width),r=1.2,h+=n*r,this[t+"DescriptionLabel"].attr({x:c,y:h,"text-anchor":a,fill:l})):(l=this.element.valueIsMissing(t)?["magnetMissingValueFg"]:this.labelPosition===f?["magnets",this.element.model.dataType.type,t]:["bg"],l=(s=this.configuration).color.apply(s,l),i.transform("r"+u+", "+c+", "+h)),e.fill=l,i.attr(e)},e.prototype.getLabelPosition=function(t){return this.elementCount<3?this.getLabelPositionUpToTwo(t):this.getLabelPositionThreePlus(t)},e.prototype.getLabelPositionUpToTwo=function(t){var e,n,i,r,o,s,a;return n=t===h,r=this.absx6,e=x("magnetLabelSizeUpToTwo",this.paper.width),o=x("magnetLabelXOffsetUpToTwo",this.paper.width),a=e,this.degdeg>0?(i="start",r+=o,n?(s=this.outgoingLabelPosition===u?this.absy5:this.absy4,s+=a):this.incomingLabelPosition===u?(s=this.absy6,s+=a):s=this.absy6-this.getLabelsHeightUpToTwo()):(i="end",r-=o,n?this.outgoingLabelPosition===u?(s=this.absy4,s+=a):s=this.absy4-this.getLabelsHeightUpToTwo():(s=this.incomingLabelPosition===u?this.absy5:this.absy6,s+=a)),{x:r,y:s,textAnchor:i}},e.prototype.getLabelPositionThreePlus=function(t){var e,n,i,r,o,s,l,c,p,d,g;return o=this,e=o.deg,n=o.degdeg,r=t===h,n>=0&&n<=90?(p=n-90,c=r?"end":"start"):n>90&&n<180?(p=n-90,c=r?"end":"start"):(p=n+90,c=r?"start":"end"),this.labelPosition===f&&(c="start"===c?"end":"start"),r?(s=this.absx1,l=this.absy1):(s=this.absx3,l=this.absy3),i=r?this.labelPosition===u?1:-1:this.labelPosition===u?-1:1,d=s+m(e)*(this.weight/2)+i*m(e+a)*5,g=l+b(e)*(this.weight/2)+i*b(e+a)*5,{x:d,y:g,textAnchor:c,textRotation:p}},e.prototype.removeLabels=function(){var t,e,n,i,r,o,s,a,l;for(t=0,i=p.length;t<i;t++)for(o=p[t],a=["Label","DescriptionLabel"],e=0,r=a.length;e<r;e++)l=a[e],s=""+o+l,n=this[s],n&&(this.removeChild(n),delete this[s])},e.prototype.showLabels=function(){var t,e,n,i;for(t=0,e=p.length;t<e;t++)n=p[t],null!=(i=this[n+"Label"])&&i.show().toFront()},e.prototype.hideLabels=function(){var t,e,n,i;for(t=0,e=p.length;t<e;t++)n=p[t],null!=(i=this[n+"Label"])&&i.hide()},e.prototype.drawMarkers=function(){this.drawOutgoingMarkers(),this.drawIncomingMarkers()},e.prototype.drawOutgoingMarkers=function(){var t,e,n,i,r,o;for(o=this.element.relationsOut,e=[],t=!0,n=0,i=o.length;n<i;n++)r=o[n],r.to?(this.drawNormalMarker(r,!1),e.push(r)):t&&(t=this.drawNormalMarker(r,!0),t&&e.push(r));this.drawOthersMarker(e,h)},e.prototype.drawIncomingMarkers=function(){var t,e,n,i,r,o,s;for(s=this.element.relationsIn,n=[],t=!0,i=0,r=s.length;i<r&&(o=s[i],e=!o.from,t=this.drawNormalMarker(o,e),(t||o.from)&&n.push(o),t);i++);this.drawOthersMarker(n,l)},e.prototype.drawNormalMarker=function(t,e){var n,i,r,o;return i=t.from===this.element,n=i?h:l,o=this.element.getRelationPosition(t),e?(r=i?t.toId:t.fromId,r=r.toUpperCase()):r="",this.drawMarker(n,o,t.value,r)},e.prototype.drawOthersMarker=function(t,e){var n,i,r,o,s,a;t.length<2||(o=function(t,e){return t+e.value},n=_.reduce(t,o,0),s=e===h?this.element.model.sumOut:this.element.model.sumIn,r=n/s,a=s-n,0!==a&&(i=this.t("magnet","one_to_one_others"),this.drawMarker(e,r,a,i)))},e.prototype.drawMarker=function(t,e,n,i){var o,s,a,l,u,c,f,p,d,m,v,y,x,b,w,_,T;return o=this.degdeg,a=180===o,l=t===h,a?l?(x=this.absx2,p=this.absy2,s=this.absy1):(x=this.absx3,p=this.absy3,s=this.absy2):l?(x=this.absx1,p=this.absy1,s=this.absy2):(x=this.absx2,p=this.absy2,s=this.absy3),T=s-p,b=p+T*e,d=t===h?this.element.model.sumOut:this.element.model.sumIn,w=b+T*(n/d),_=Math.abs(w-b),!(_<4)&&(0!==e&&(f=g.format("M{0},{1} L{2},{3}",x,b,x+(a?-1:1)*r,b),c=this.paper.path(f).attr({stroke:"white","stroke-opacity":1}),this.addChild(c),this.markerObjects.push(c)),_<10||(i&&(a?(m="start",v=x+5):(m="end",v=x-5),y=(b+w)/2,u=this.paper.text(v,y,i).attr({fill:"rgb(180, 180, 180)","font-family":"inherit","font-size":10,"text-anchor":m}),this.addChild(u),this.markerObjects.push(u)),!0))},e.prototype.removeMarkers=function(){var t,e,n,i;for(i=this.markerObjects,t=0,e=i.length;t<e;t++)n=i[t],this.removeChild(n);this.markerObjects=[]},e.prototype.showContextBox=function(){y.publish("contextbox:explainMagnet",this.element.model)},e.prototype.hideContextBox=function(){y.publish("contextbox:hide")},e.prototype.registerMouseHandlers=function(t){i(t.node).hover(this.mouseenterHandler,this.mouseleaveHandler).click(this.clicked)},e.prototype.mouseenterHandler=function(){var t;t=this.state("mode"),"highlight"!==t&&(this.showContextBox(),"active"!==t&&this.transitionTo("mode","highlight"))},e.prototype.mouseleaveHandler=function(t){var e,n;e=t.relatedTarget,n=_.some(this.displayObjects,function(t){var n;return n=t.node,n&&(e===n||i.contains(n,e))}),n||(this.hideContextBox(),this.trigger("mouseleave",this))},e.prototype.clicked=function(){"on"===this.state("locked")?(this.transitionTo("mode","highlight"),this.transitionTo("locked","off")):(this.transitionTo("mode","active"),this.transitionTo("locked","on")),this.trigger("click",this)},e.prototype.enterModeNormalState=function(t){t&&(this.removeDim(),this.labelsVisible||this.hideLabels())},e.prototype.enterModeDimmedOutState=function(){this.dimOut(),this.labelsVisible||this.hideLabels()},e.prototype.enterModeHighlightState=function(){this.removeDim(),this.labelsVisible||this.showLabels()},e.prototype.enterModeActiveState=function(){this.removeDim(),this.labelsVisible||this.showLabels()},e.prototype.dimOut=function(){this.fadeInHandle||this.animateBarLook({"fill-opacity":n},this.animationDuration/4,s)},e.prototype.removeDim=function(){this.fadeInHandle||this.animateBarLook({"fill-opacity":1},this.animationDuration/4,o)},e.prototype.animateBarLook=function(t,e,n){this.lookAnimation&&(this.outgoingBar.stop(this.lookAnimation),this.incomingBar.stop(this.lookAnimation)),this.lookAnimation=g.animation(t,e,n),this.outgoingBar.animate(this.lookAnimation),this.incomingBar.animate(this.lookAnimation)},e.prototype.fadeOut=function(){var t,e,n,i;for(i=this.displayObjects,e=0,n=i.length;e<n;e++)t=i[e],t.stop&&t.animate&&t.stop().animate({opacity:0},this.animationDuration/2)},e.prototype.dispose=function(){if(!this.disposed)return clearTimeout(this.afterTransitionHandle),clearTimeout(this.fadeInHandle),e.__super__.dispose.apply(this,arguments)},e}(r),t.exports=c},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h,f,p,d,g,m,v,y,x,b,w,_,T=function(t,e){return function(){return t.apply(e,arguments)}},k=function(t,e){function n(){this.constructor=t}for(var i in e)C.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},C={}.hasOwnProperty;i=n(3),m=n(1),d=n(4),b=n(9),s=n(6),x=n(7),_=n(2),p=Math.PI,u=p/2,w=Math.sin,y=Math.cos,v=Math.atan2,a="easeIn",l="easeOut",o=10,f=20,h=.25,r=.9,c=1,g=function(t){function e(t){this.clicked=T(this.clicked,this),this.mouseleaveHandler=T(this.mouseleaveHandler,this),this.mouseenterHandler=T(this.mouseenterHandler,this),this.drawArrows=T(this.drawArrows,this),e.__super__.constructor.apply(this,arguments),this.fromId=t.fromId,this.from=t.from,this.toId=t.toId,this.to=t.to,this.id=this.fromId+">"+this.toId,this.initStates({states:{locked:["on","off"],path:["normal","highlight","active","activeIn","activeOut"],labels:["on","off"]},initialState:{locked:"off",path:"normal",labels:"off"}})}return k(e,t),e.prototype.DRAW_OPTIONS="paper $container animationDuration chartDrawn".split(" "),e.prototype.DRAW_PROPERTIES="path destinationArrow sourceArrow labelContainer valueBox descriptionBox fadeDuration lookAnimation "+"animationDeferred".split(" "),
e.prototype.update=function(t){this.configuration=t.configuration,this.to=t.to,this.value=t.value,this.positionOut=t.positionOut,this.positionIn=t.positionIn,this.missingRelations=t.missingRelations},e.prototype.draw=function(t,e,n){var r,o,s,a,c,f,p,g,x,b,_,T,k,C,S,A,L,E,N,I,O;if(null==e&&(e=!1),null==n&&(n=!1),this.saveDrawOptions(t),!this.visible&&this.drawn)return void this.reset();if(this.visible&&this.from&&this.to&&(this.fadeDuration=this.animationDuration/2,x=this.from.magnet,N=this.to.magnet,C=this,O=C.value,T=C.positionIn,k=C.positionOut,!isNaN(T)&&!isNaN(k))){if(b=this.from.model.sumOut,I=this.to.model.sumIn,this.from===this.to&&(n=e),_={x:this.paper.width/2,y:this.paper.height/2},L={start:{x:e?x.x2:x.x1,y:e?x.y2:x.y1},end:{x:e?x.x1:x.x2,y:e?x.y1:x.y2}},f={start:{x:n?N.x3:N.x2,y:n?N.y3:N.y2},end:{x:n?N.x2:N.x3,y:n?N.y2:N.y3}},L.length=Math.sqrt(Math.pow(L.end.x-L.start.x,2)+Math.pow(L.end.y-L.start.y,2)),A={start:{x:this.relationMiddlePointX(L,b,O,k,_),y:this.relationMiddlePointY(L,b,O,k,_)},end:{x:this.relationMiddlePointX(f,I,O,T,_),y:this.relationMiddlePointY(f,I,O,T,_)}},p=Math.sqrt(Math.pow(A.end.y-A.start.y,2)+Math.pow(A.end.x-A.start.x,2)),a=.4*p,c={},c.start={},c.start.deg=e?v(L.start.y-L.end.y,L.start.x-L.end.x)-u:v(L.end.y-L.start.y,L.end.x-L.start.x)-u,c.start.cos=y(c.start.deg),c.start.sin=w(c.start.deg),c.start.distCos=c.start.cos*a,c.start.distSin=c.start.sin*a,c.end={},c.end.deg=n?v(f.start.y-f.end.y,f.start.x-f.end.x)-u:v(f.end.y-f.start.y,f.end.x-f.start.x)-u,c.end.cos=y(c.end.deg),c.end.sin=w(c.end.deg),c.end.distCos=c.end.cos*a,c.end.distSin=c.end.sin*a,s={start:{x:A.start.x-c.start.distCos,y:A.start.y-c.start.distSin},end:{x:A.end.x-c.end.distCos,y:A.end.y-c.end.distSin}},A.pathString="M"+A.start.x+","+A.start.y+"C"+s.start.x+","+s.start.y+" "+s.end.x+","+s.end.y+" "+A.end.x+","+A.end.y,E=L.length/b*this.value,E=Math.max(E,.8),null!=(S=this.animationDeferred)&&S.reject(),this.animationDeferred=i.Deferred(),g=m.bind(this.drawArrows,this,L,f,c,_),this.drawn)return this.hideArrows(),void this.path.stop().animate({path:A.pathString,"stroke-width":E},this.animationDuration,l,g);this.path=this.paper.path(A.pathString).attr({stroke:this.relationColor(),"stroke-opacity":this.chartDrawn?0:h,"stroke-width":E}),this.addChild(this.path),this.chartDrawn?(r=this.animationDuration>0?this.animationDuration+100:0,o=d.animation({"stroke-opacity":h},this.fadeDuration,l,g).delay(r),this.path.animate(o)):(g(),this.animationDeferred.resolve()),this.registerMouseHandlers(),this.drawn=!0}},e.prototype.relationPoint=function(t,e,n,i){return e.start[t]+n+i[t]},e.prototype.relationStartPoint=function(t,e,n,i,r,o){var s,a;return a=e.end[t]-e.start[t],s=r*a,this.relationPoint(t,e,s,o)},e.prototype.relationMiddlePoint=function(t,e,n,i,r,o){var s,a;return a=e.end[t]-e.start[t],s=r*a+i/2/n*a,this.relationPoint(t,e,s,o)},e.prototype.relationEndPoint=function(t,e,n,i,r,o){var s,a;return a=e.end[t]-e.start[t],s=r*a+i/n*a,this.relationPoint(t,e,s,o)},e.prototype.relationStartPointX=function(t,e,n,i,r){return this.relationStartPoint("x",t,e,n,i,r)},e.prototype.relationStartPointY=function(t,e,n,i,r){return this.relationStartPoint("y",t,e,n,i,r)},e.prototype.relationMiddlePointX=function(t,e,n,i,r){return this.relationMiddlePoint("x",t,e,n,i,r)},e.prototype.relationMiddlePointY=function(t,e,n,i,r){return this.relationMiddlePoint("y",t,e,n,i,r)},e.prototype.relationEndPointX=function(t,e,n,i,r){return this.relationEndPoint("x",t,e,n,i,r)},e.prototype.relationEndPointY=function(t,e,n,i,r){return this.relationEndPoint("y",t,e,n,i,r)},e.prototype.reset=function(){var t,e,n,i,r;for(null!=(i=this.animationDeferred)&&i.reject(),this.removeChildren(),r=this.DRAW_PROPERTIES,t=0,e=r.length;t<e;t++)n=r[t],delete this[n];this.drawn=!1},e.prototype.relationColor=function(){return this.configuration.color("relation")},e.prototype.incomingColor=function(){return this.configuration.color("magnets",this.from.model.dataType.type,"incoming")},e.prototype.outgoingColor=function(){return this.configuration.color("magnets",this.from.model.dataType.type,"outgoing")},e.prototype.drawArrows=function(t,e,n,i){var r,o;return o=this.getSourceArrowPath(t,i,n),r=this.getDestinationArrowPath(e,i,n),this.sourceArrow&&this.destinationArrow?(this.sourceArrow.attr({path:o}),this.destinationArrow.attr({path:r}),void this.animationDeferred.resolve()):(this.sourceArrow=this.paper.path(o).hide().attr({fill:this.outgoingColor(),"stroke-opacity":0}),this.addChild(this.sourceArrow),this.destinationArrow=this.paper.path(r).hide().attr({fill:this.relationColor(),"stroke-opacity":0}),this.addChild(this.destinationArrow),void this.animationDeferred.resolve())},e.prototype.getSourceArrowPath=function(t,e,n){var i,r,s,a,l,u,c,h;return a=this.from.model.sumOut,u=this,h=u.value,l=u.positionOut,isNaN(l)?"":(i={x:this.relationStartPointX(t,a,h,l,e),y:this.relationStartPointY(t,a,h,l,e)},r={x:this.relationEndPointX(t,a,h,l,e),y:this.relationEndPointY(t,a,h,l,e)},s={x:i.x+(r.x-i.x)/2-n.start.cos*o,y:i.y+(r.y-i.y)/2-n.start.sin*o},c="M"+i.x+","+i.y+"L"+r.x+","+r.y+"L"+s.x+","+s.y)},e.prototype.getDestinationArrowPath=function(t,e,n){var i,r,s,a,l,u,c,h;return c=this.to.model.sumIn,u=this,h=u.value,l=u.positionIn,isNaN(l)?"":(i={x:this.relationStartPointX(t,c,h,l,e),y:this.relationStartPointY(t,c,h,l,e)},r={x:this.relationEndPointX(t,c,h,l,e),y:this.relationEndPointY(t,c,h,l,e)},s={x:i.x+(r.x-i.x)/2+n.end.cos*o,y:i.y+(r.y-i.y)/2+n.end.sin*o},a="M"+i.x+","+i.y+"L"+r.x+","+r.y+"L"+s.x+","+s.y)},e.prototype.hideArrows=function(){this.sourceArrow&&this.sourceArrow.hide(),this.destinationArrow&&this.destinationArrow.hide()},e.prototype.showContextBox=function(){b.publish("contextbox:explainRelation",{from:this.from,to:this.to,value:this.value,missingRelations:this.missingRelations})},e.prototype.hideContextBox=function(){b.publish("contextbox:hide")},e.prototype.registerMouseHandlers=function(){return i(this.path.node).mouseenter(this.mouseenterHandler).mouseleave(this.mouseleaveHandler).click(this.clicked)},e.prototype.mouseenterHandler=function(){this.showContextBox(),"normal"===this.state("path")&&this.transitionTo("path","highlight"),this.transitionTo("labels","on")},e.prototype.mouseleaveHandler=function(t){var e,n;n=t.relatedTarget,m.some(this.displayObjects,function(t){return n===t.node})||this.labelContainer&&i.contains(this.labelContainer.get(0),n)||(this.hideContextBox(),e=this.state("path"),"highlight"===e&&this.transitionTo("path","normal"),"active"!==e&&this.transitionTo("labels","off"))},e.prototype.clicked=function(){"on"===this.state("locked")?(this.transitionTo("path","highlight"),this.transitionTo("locked","off")):(this.transitionTo("path","active"),this.transitionTo("locked","on"))},e.prototype.enterPathNormalState=function(t){if(t&&this.drawn)return this.setNormalLook()},e.prototype.enterPathHighlightState=function(){if(this.drawn)return this.setHighlightLook()},e.prototype.enterPathActiveState=function(){if(this.drawn)return this.setHighlightLook()},e.prototype.enterPathActiveInState=function(){if(this.drawn)return this.setActiveInLook()},e.prototype.enterPathActiveOutState=function(){if(this.drawn)return this.setActiveOutLook()},e.prototype.enterLabelsOnState=function(){if(this.drawn)return this.createLabels()},e.prototype.enterLabelsOffState=function(){if(this.drawn)return this.removeLabels()},e.prototype.setNormalLook=function(){this.animatePathLook({stroke:this.relationColor(),"stroke-opacity":h},this.fadeDuration,a),this.hideArrows()},e.prototype.setHighlightLook=function(){var t;t=this.relationColor(),this.animationDeferred.done(function(e){return function(){e.path.toFront(),e.animatePathLook({stroke:t,"stroke-opacity":c},e.fadeDuration,l),e.sourceArrow.stop().attr({"fill-opacity":c}).toFront().show(),e.destinationArrow.stop().toFront().show().animate({fill:t,"fill-opacity":c},e.fadeDuration,l)}}(this))},e.prototype.setActiveInLook=function(){this.animationDeferred.done(function(t){return function(){var e;e=t.incomingColor(),t.animatePathLook({stroke:e,"stroke-opacity":r},t.fadeDuration,l),t.sourceArrow.stop().toFront().show().animate({"fill-opacity":.25},t.fadeDuration,l),t.destinationArrow.stop().hide()}}(this))},e.prototype.setActiveOutLook=function(){this.animationDeferred.done(function(t){return function(){var e;e=t.outgoingColor(),t.animatePathLook({stroke:e,"stroke-opacity":r},t.fadeDuration,l),t.sourceArrow.stop().toFront().show().animate({"fill-opacity":1},t.fadeDuration,l),t.destinationArrow.stop().toFront().show().animate({fill:e,"fill-opacity":r},t.fadeDuration,l)}}(this))},e.prototype.animatePathLook=function(t,e){this.path&&(this.lookAnimation&&this.path.stop(this.lookAnimation),this.lookAnimation=d.animation(t,e,l),this.path.animate(this.lookAnimation))},e.prototype.createLabels=function(){var t,e;this.labelContainer||(e=this.path.getTotalLength(),t=this.path.getPointAtLength(e/2),this.createLabelContainer(),this.createValueLabel(t),this.createDescriptionLabel(t),this.createSourceLabel(),this.createDestinationLabel(),this.positionSourceDestinationLabels(e))},e.prototype.createLabelContainer=function(){this.labelContainer=i("<div>").addClass("relation-labels").mouseleave(this.mouseleaveHandler).click(this.clicked).appendTo(this.$container),this.addChild(this.labelContainer)},e.prototype.createValueLabel=function(t){var e,n,r,o,s,a,l,u,c,h;e=this.from,r=x(this.configuration,this.value,null,null,!0),o=this.template(["units",e.model.dataType.unit,"value_html"],{number:r}),s=i("<div>").addClass("relation-value-label").append(o).appendTo(this.labelContainer),a=s.outerWidth(),n=s.outerHeight(),l=t.x-a/2,c=t.y-n-1.5,u=l+a,h=c+n,this.valueBox={width:a,height:n,x:l,y:c,x2:u,y2:h},s.css({left:l,top:c})},e.prototype.createDescriptionLabel=function(t){var e,n,r,o,s,a,l,u,c,h,f,p;o=this,n=o.from,a=o.to,l=n.model.dataType.type,s=this.template(["flow",l,"fromTo"],{from:this.t("entityNames",n.id),to:this.t("entityNames",a.id)}),e=i("<div>").addClass("relation-description-label").html(s).appendTo(this.labelContainer),u=e.outerWidth(),r=e.outerHeight(),c=t.x-u/2,f=t.y+1.5,h=c+u,p=f+r,this.descriptionBox={width:u,height:r,x:c,y:f,x2:h,y2:p},e.css({left:c,top:f})},e.prototype.createSourceLabel=function(){this.sourceLabel=this.createSourceDestinationLabel(this.from.model.sumOut)},e.prototype.createDestinationLabel=function(){this.destinationLabel=this.createSourceDestinationLabel(this.to.model.sumIn)},e.prototype.createSourceDestinationLabel=function(t){var e;return e=this.value<0?"":(100/t*this.value).toFixed(1)+" %",i("<div>").addClass("relation-percentage-label").text(e).appendTo(this.labelContainer)},e.prototype.positionSourceDestinationLabels=function(t){var e,n,i,r,o,s,a,l,u,c;l=this,r=l.from,c=l.to,s=l.path,a=s.getPointAtLength(f),u=this.labelBoundingBox(this.sourceLabel,a),a=s.getPointAtLength(t-f),n=this.labelBoundingBox(this.destinationLabel,a),o=d.isBBoxIntersect(u,this.valueBox)||d.isBBoxIntersect(u,this.descriptionBox)||d.isBBoxIntersect(n,this.valueBox)||d.isBBoxIntersect(n,this.descriptionBox),o&&(i=f,a=s.getPointAtLength(0),e=r.magnet.deg,u.x=a.x+y(e)*i-u.width/2,u.y=a.y+w(e)*i-u.height/2,a=s.getPointAtLength(t),e=c.magnet.deg,n.x=a.x+y(e)*i-n.width/2,n.y=a.y+w(e)*i-n.height/2),this.sourceLabel.css({left:u.x,top:u.y}),this.destinationLabel.css({left:n.x,top:n.y})},e.prototype.labelBoundingBox=function(t,e){var n;return n={width:t.outerWidth(),height:t.outerHeight()},n.x=e.x-n.width/2,n.y=e.y-n.height/2,n.x2=n.x+n.width,n.y2=n.y+n.height,n},e.prototype.removeLabels=function(){if(this.labelContainer)return this.labelContainer.remove(),this.removeChild(this.labelContainer),delete this.labelContainer},e.prototype.fadeOut=function(){var t,e,n,i;for(i=this.displayObjects,e=0,n=i.length;e<n;e++)t=i[e],t.stop&&t.animate&&t.stop().animate({opacity:0},this.animationDuration/2)},e.prototype.dispose=function(){if(!this.disposed)return this.from&&this.from.removeRelationOut(this),this.to&&this.to.removeRelationIn(this),this.animationDeferred&&this.animationDeferred.reject(),e.__super__.dispose.apply(this,arguments)},e}(s),t.exports=g},function(t,e,n){"use strict";var i,r,o=[].slice;r=n(9),i={subscribeEvent:function(t,e){if("string"!=typeof t)throw new TypeError("EventBroker#subscribeEvent: type argument must be a string");if("function"!=typeof e)throw new TypeError("EventBroker#subscribeEvent: handler argument must be a function");return r.unsubscribe(t,e,this),r.subscribe(t,e,this)},unsubscribeEvent:function(t,e){if("string"!=typeof t)throw new TypeError("EventBroker#unsubscribeEvent: type argument must be a string");if("function"!=typeof e)throw new TypeError("EventBroker#unsubscribeEvent: handler argument must be a function");return r.unsubscribe(t,e)},unsubscribeAllEvents:function(){return r.unsubscribe(null,null,this)},publishEvent:function(){var t,e;if(e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],"string"!=typeof e)throw new TypeError("EventBroker#publishEvent: type argument must be a string");return r.publish.apply(r,[e].concat(o.call(t)))}},"function"==typeof Object.freeze&&Object.freeze(i),t.exports=i},function(t,e){"use strict";var n,i;n=document,i={requestFullscreen:function(t){var e;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():(e="fullscreen=yes,menubar=no,location=no,toolbar=no,status=no",window.open(location.href,"_blank",e))},exitFullscreen:function(){n.exitFullscreen?n.exitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.webkitCancelFullScreen?n.webkitCancelFullScreen():n.msExitFullscreen&&n.msExitFullscreen()},isFullScreen:function(){return Boolean(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.webkitCurrentFullScreenElement||n.msFullscreenElement)},toggleFullscreen:function(t){this.isFullScreen()?this.exitFullscreen():this.requestFullscreen(t)}},t.exports=i},function(t,e,n){"use strict";var i,r,o,s=function(t,e){return function(){return t.apply(e,arguments)}},a=[].slice;o=n(1),r={interpolate:/%\{(.+?)\}/g},i=function(){function t(t){this.locale=t,this.template=s(this.template,this),this.t=s(this.t,this),this.compiledTemplates={}}return t.prototype.t=function(){var t,e,n,i,r,o,s,l;for(i=1<=arguments.length?a.call(arguments,0):[],s=this.locale,r=i.length-1,e=t=0,o=i.length;t<o;e=++t){if(n=i[e],s=s[n],l=typeof s,"undefined"===l)return console.error("Translation not found:",i),"";if(e===r)return s}},t.prototype.template=function(t,e){var n,i,s;return n=t.join("."),s=this.compiledTemplates[n],s||(i=this.t.apply(this,t),s=o.template(i,null,r),this.compiledTemplates[n]=s),s(e)},t.prototype.joinList=function(t){return t.length>1?o.initial(t).join(this.t("enum_separator"))+this.t("enum_separator_last")+o.last(t):t[0]},t}(),t.exports=i},function(t,e,n){"use strict";var i,r,o=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=n(2),i={_states:null,_currentState:null,_inTransition:!1,_singleGroup:!0,initStates:function(t){var e,n,i,r;if(this._singleGroup=t.states instanceof Array,this._states=t.states,this._singleGroup||(this._currentState={},this._inTransition={}),this._singleGroup)return this.transitionTo(t.initialState);n=t.initialState,i=[];for(e in n)r=n[e],i.push(this.transitionTo(e,r));return i},state:function(t){if(this._singleGroup)return this._currentState;if(!t)throw new Error("Group must be given");return this._currentState[t]},transitionTo:function(t,e){var n,i,s,a,l,u,c;if(!this.disposed){if(this._singleGroup){if(e=t,t="",o.call(this._states,e)<0)throw new Error("State "+e+" does not exist")}else{if(!t||!e)throw new Error("Group and new state must be given");if(o.call(this._states[t],e)<0)throw new Error("State "+e+" does not exist for group "+t)}if(!(this._singleGroup&&this._inTransition||!this._singleGroup&&this._inTransition[t])&&(l=this.state(t),e!==l))return n=r.upcase(t),l&&(u=r.upcase(l),c=this._singleGroup?l:t+u,this._singleGroup||(u=n+u)),s=r.upcase(e),a=this._singleGroup?e:t+s,this._singleGroup||(s=n+s),this._singleGroup?this._inTransition=!0:this._inTransition[t]=!0,l&&(this.trigger("leaveState",this,c,a),this.trigger("leave"+u+"State",this,e)),this._singleGroup?this._currentState=e:this._currentState[t]=e,"function"==typeof this[i="enter"+s+"State"]&&this[i](l),this._singleGroup?this._inTransition=!1:this._inTransition[t]=!1,this.trigger("stateChange",this,a,c),this}},disposeStates:function(){return delete this._states,delete this._currentState,delete this._inTransition,delete this._singleGroup}},"function"==typeof Object.freeze&&Object.freeze(i),t.exports=i},function(t,e){"use strict";var n;n={},n.mouseover=function(){var t;return t=navigator.userAgent,!(/(^|\s)AppleWebKit\/[^\s]+(\s|$)/.test(t)&&/(^|\s)Mobile\/[^\s]+(\s|$)/.test(t))}(),"function"==typeof Object.freeze&&Object.freeze(n),t.exports=n},function(t,e,n){"use strict";var i,r,o;o=n(1),r=n(28),i=function(){function t(t){this.id=t.id,this.title=t.title,this.dataType=t.dataType,this.date=t.date,this.sumIn=t.sumIn,this.sumOut=t.sumOut,this.incoming=t.incoming||{},this.outgoing=t.outgoing||{},this.missingRelations=t.missingRelations||{},this.noIncoming=t.noIncoming||[],this.noOutgoing=t.noOutgoing||[],this.sum=this.sumOut+this.sumIn,this.indicators=o.map(t.indicators,function(e,n){var i,s;return i=t.indicatorTypes[n],s=o.extend({},i,e),new r(s)})}return t}(),t.exports=i},function(t,e,n){"use strict";var i,r;r=n(1),i=function(){function t(t){this.type=t.type,this.unit=t.unit,this.representation=t.representation,this.value=t.value,this.tendency=t.tendency,this.tendencyPercent=t.tendencyPercent,this.missing=t.missing}return t.prototype.scale=1,t}(),t.exports=i},function(t,e,n){"use strict";var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;s=n(1),i=n(5),a=n(2),r=n(27),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.getDisplayTitle=function(){return this.get("title")||this.getSubtitle()},e.prototype.getSubtitle=function(){return this.template(["chart","keyframe_subtitle"],{dataType:this.t("dataType",this.get("dataType").type),date:this.get("date")})},e.prototype.t=function(){var t;return(t=this.get("configuration").i18n).t.apply(t,arguments)},e.prototype.template=function(){var t;return(t=this.get("configuration").i18n).template.apply(t,arguments)},e.prototype.parse=function(t){var e,n,i,o;return t=s.clone(t,!0),null==t.maxLabelsVisible&&(t.maxLabelsVisible=8),i=t.date,n=t.dataType,o=t.indicatorTypes,e=t.configuration,o=s.map(t.indicatorTypes,function(t){return function(t){return s.extend({},t,{representation:e.unit(t.unit).representation})}}(this)),t.indicatorTypes=o,t.elements=s.map(t.elements,function(t){var e;return e=s.extend({date:i,dataType:n,indicatorTypes:o},t),new r(e)}),this.scaleIndicators(t),this.addRelationPositions(t),t},e.prototype.scaleIndicators=function(t){s.chain(t.indicatorTypes).filter(function(t){return function(t){return"absolute"===t.representation}}(this)).map(function(t,e){return s.extend({},t,{index:e})}).forEach(function(e){var n,i,r,o,a,l,u;for(r=e.index,u=t.elements,i=0,a=u.length;i<a;i++)n=u[i],o=n.indicators[r],l=s.max(t.indicatorBounds[r],Math.abs),o.scale=Math.abs(o.value)/l}).value()},e.prototype.addRelationPositions=function(t){var e,n,i,r,o,l,u,c,h,f,p,d,g,m,v,y,x,b,w,_,T,k,C,S,A;for(i=t.elements,e={},r=0,f=i.length;r<f;r++)n=i[r],e[n.id]=s.mapValues(n.incoming,function(t){return{value:t}});for(u=0,p=i.length;u<p;u++){n=i[u],_=n.outgoing;for(S in _)A=_[S],null==e[S]&&(e[S]={}),e[S][n.id]={value:A}}for(S in e)for(o=e[S],l=s.map(o,function(t,e){return s.extend({id:e},t)}),l.sort(a.relationSorter),C=s.find(i,{id:S}).sumIn,k=0,c=0,d=l.length;c<d;c++)T=l[c],o[T.id].positionIn=k/C,k+=T.value;for(h=0,g=i.length;h<g;h++)n=i[h],n.incoming=s.mapValues(n.incoming,function(t,i){return e[n.id][i]});for(y=0,m=i.length;y<m;y++){for(n=i[y],b=s.map(n.outgoing,function(t,e){return{id:e,value:t}}),b.sort(a.relationSorter),k=0,x=0,v=b.length;x<v;x++)T=b[x],T.positionOut=k/n.sumOut,T.positionIn=e[T.id][n.id].positionIn,k+=T.value;w=function(t,e){return t[e.id]=s.omit(e,"id"),t},n.outgoing=s.reduce(b,w,{})}},e.prototype.getIndicatorMaxValue=function(t){var e,n,i,r;return i=this.get("indicatorTypes"),n=s.indexOf(i,t),i.length>n?(e=this.get("indicatorBounds")[n],r=s.max(e,Math.abs)):null},e}(i.Model),t.exports=o},function(t,e,n){"use strict";var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;s=n(1),i=n(5),r=n(29),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.model=r,e}(i.Collection),t.exports=o},function(t,e,n){"use strict";var i,r,o,s,a,l=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,h=[].slice;a=n(1),i=n(5),r=n(24),o=n(30),s=function(t){function e(){return this.color=l(this.color,this),this.unit=l(this.unit,this),e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.getKeyframes=function(){return this.get("keyframes")},e.prototype.loadKeyframes=function(t){t=this.parseKeyframes(t),this.set({keyframes:t}),this.triggerKeyframesLoaded()},e.prototype.triggerKeyframesLoaded=function(){this.trigger("keyframesLoaded",this.getKeyframes())},e.prototype.parse=function(t){var e;return t=a.clone(t),e=this.configuration(t),t.configuration=e,t.keyframes=this.parseKeyframes(t.keyframes,e),t},e.prototype.parseKeyframes=function(t,e){return null==e&&(e=this.get("configuration")),t=t.map(function(t){return a.extend({},t,{configuration:e})}),new o(t,{parse:!0})},e.prototype.configuration=function(t){var e;return{i18n:new r(t.locale),colors:t.colors,color:function(){var e,n,i,r,o;if(i=1<=arguments.length?h.call(arguments,0):[],0===i.length||!a.every(i))throw new TypeError("invalid color: "+i);for(o=t.colors,e=0,r=i.length;e<r;e++)n=i[e],o=o[n];return o||console.error("color not found",i),o},typeData:t.typeData,unit:function(e){var n;if(!e)throw new TypeError("invalid unit: "+e);return n=t.typeData.units[e],n||console.error("unit not found",n),n},decimals:null!=(e=t.decimals)?e:2}},e.prototype.unit=function(t){return this.get("configuration").unit(t)},e.prototype.color=function(){var t;return(t=this.get("configuration")).color.apply(t,arguments)},e}(i.Model),t.exports=s},function(t,e,n){"use strict";var i,r,o;r=n(31),i=n(35),o=function(t,e){var n,o;return n=new r(e,{parse:!0}),o=new i({model:n,container:t}),{model:n,view:o}},t.exports=o},function(t,e,n){"use strict";var i,r,o,s,a,l=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;o=n(1),r=n(10),a=n(2),s=n(7),i=function(t){function e(){return this.entityName=l(this.entityName,this),e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.className="contextbox",e.prototype.autoRender=!0,e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.subscribeEvent("contextbox:explainRelation",this.explainRelation),this.subscribeEvent("contextbox:explainMagnet",this.explainMagnet),this.subscribeEvent("contextbox:hide",this.handleHideEvent)},e.prototype.getTemplateFunction=function(){return null},e.prototype.explainRelation=function(t){var e,n,i,r,a,l,u,c,h,f,p,d,g,m,v;if(i=t.from,p=t.to,v=t.value,u=i.model.dataType,g=u.type,m=u.unit,e=this.model.get("configuration"),a=s(e,(100/i.model.sumOut*v).toFixed(1),null,null,!0)+"%",l=s(e,(100/p.model.sumIn*v).toFixed(1),null,null,!0)+"%",n=s(e,v,null,null,!0),h={from:this.t("entityNames",i.id),to:this.t("entityNames",p.id),dataType:this.t("dataType",g),percentFrom:a,percentTo:l,value:n,unit:this.t("units",m,"full"),date:i.model.date},f="<p>",f+=this.template(["contextbox","relation",g],h),v>=0&&(f+=this.template(["contextbox","relationPercentage",g],h)),f+="</p>",t.missingRelations){f+="<p>",f+=this.t("contextbox","relation","missing","intro"),f+="</p>",f+="<ul>",c=t.missingRelations;for(r in c)d=c[r],h={source:this.entityName(r),targets:this.joinList(o.map(d,this.entityName))},f+="<li>",f+=this.template(["contextbox","relation","missing","entry"],h),f+="</li>";f+="</ul>"}this.showBox(f)},e.prototype.explainMagnet=function(t){var e,n,i,r,a,l,u,c;r=t.dataType,u=r.type,c=r.unit,e=this.model.get("configuration"),a={name:this.t("entityNames",t.id),sumIn:s(e,t.sumIn,null,null,!0),sumOut:s(e,t.sumOut,null,null,!0),type:this.t("dataType",u),unit:this.t("units",c,"full"),date:t.date},t.noIncoming.length>0&&(a.sumIn=this.t("not_available")),t.noOutgoing.length>0&&(a.sumOut=this.t("not_available")),l="<p>",l+=this.template(["contextbox","magnet",u],a),l+="</p>",t.noIncoming.length>0&&(n=o.map(t.noIncoming,this.entityName),l+="<p>",l+=this.template(["contextbox","magnet_missing","incoming",u],{list:this.joinList(n)}),l+="</p>"),t.noOutgoing.length>0&&(i=o.map(t.noOutgoing,this.entityName),l+="<p>",l+=this.template(["contextbox","magnet_missing","outgoing",u],{list:this.joinList(i)}),l+="</p>"),this.showBox(l)},e.prototype.showBox=function(t){this.$el.html(t).addClass("visible")},e.prototype.handleHideEvent=function(){this.$el.removeClass("visible")},e.prototype.entityName=function(t){return this.t("entityNames",t)},e}(r),t.exports=i},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;a=n(1),l=n(7),s=n(10),u=n(37),o="legend--opened",i="legend--closed",r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.tagName="section",e.prototype.templateName="legend",e.prototype.className="legend",e.prototype.autoRender=!0,e.prototype.events={"click .legend__toggle":"toggleButtonClicked","click .legend__close":"closeButtonClicked"},e.prototype.initialize=function(t){e.__super__.initialize.apply(this,arguments),this.$el.addClass(t.overlay?"legend--overlay":"legend--sidebar")},e.prototype.getTemplateFunction=function(){return u},e.prototype.toggleButtonClicked=function(t){return t.preventDefault(),this.$el.hasClass(o)?this.close():this.open()},e.prototype.closeButtonClicked=function(t){t.preventDefault(),this.close()},e.prototype.close=function(){this.$(".legend__toggle").text(this.t("legend","toggle_open")),this.$el.addClass(i).removeClass(o)},e.prototype.open=function(){this.$(".legend__toggle").text(this.t("legend","toggle_close")),this.$el.addClass(o).removeClass(i)},e.prototype.toggle=function(){this.$el.hasClass(o)?this.close():this.open()},e.prototype.render=function(){return this.model&&e.__super__.render.apply(this,arguments),this.close(),this},e.prototype.getTemplateData=function(){var t,n,i,r,o,s,l,u;return n=e.__super__.getTemplateData.apply(this,arguments),i=n.dataType,o=i.type,l=i.unit,s=this.t("dataType",o),u=this.t("units",l,"full"),n.typeName=s,n.unitName=u,n.dataSource=this.getDataSource(),n.indicators=this.getIndicators(),n.groupedIndicators=a.groupBy(n.indicators,"representation"),t=this.model.get("configuration").color("magnets",o),n.magnetOutgoingColor=t.outgoing,n.magnetIncomingColor=t.incoming,r={date:n.date,type:s,unit:u},n.magnetDescription=this.template(["data",o,"magnet"],r),n.relationDescription=this.template(["data",o,"flow"],r),n},e.prototype.getDataSource=function(){var t;return t=this.model.get("dataType").type,this.t("sources","data",t)},e.prototype.getIndicators=function(){var t,e;return t=this.model.get("configuration"),e=a.map(this.model.get("indicatorTypes"),function(e){return function(n){var i,r,o,s,a,u;return a=n.type,u=n.unit,r=e.t("sources","indicator",a),o=r.name,s=r.url,i=e.model.getIndicatorMaxValue(n),i=e.template(["units",u,"value"],{number:l(t,i,null,null,!0)}),{type:e.t("indicators",a,"short"),typeFull:e.t("indicators",a,"full"),unit:e.t("units",u,"short"),unitFull:e.t("units",u,"full"),representation:n.representation,maxValue:i,sourceName:o,sourceURL:s}}}(this))},e}(s),t.exports=r},function(t,e,n){"use strict";var i,r,o,s,a,l,u,c,h,f,p,d,g,m,v,y,x,b=function(t,e){return function(){return t.apply(e,arguments)}},w=function(t,e){function n(){this.constructor=t}for(var i in e)_.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},_={}.hasOwnProperty;g=n(1),i=n(3),f=n(4),d=n(10),s=n(33),o=n(12),u=n(34),m=n(23),v=n(8),y=n(26),x=n(38),c="flow-viz-player",r="flow-viz-chart",l="enabled",a="disabled",p=".tooltip",h=function(t){function e(){return this.playNext=b(this.playNext,this),this.documentKeydown=b(this.documentKeydown,this),this.resize=b(this.resize,this),e.__super__.constructor.apply(this,arguments)}var n;return w(e,t),e.prototype.templateName="player",e.prototype.className=c,e.prototype.autoRender=!0,e.prototype.chart=null,e.prototype.dots=null,e.prototype.currentKeyframeIndex=0,e.prototype.events={"click .nav-left":"moveToPreviousKeyframe","click .nav-right":"moveToNextKeyframe","click .nav-play":"togglePlay","click .toggle-fullscreen":"toggleFullscreen","click .toggle-legend":"toggleLegend","mouseenter .nav-left.enabled, .nav-right.enabled, .toggle-legend, .toggle-fullscreen":"showTooltip","mouseleave .nav-left, .nav-right, .toggle-legend, .toggle-fullscreen":"hideTooltip"},e.prototype.initialize=function(t){e.__super__.initialize.apply(this,arguments),this.container=t.container,this.listenTo(this.model,"keyframesLoaded",this.keyframesLoadedHandler),i(window).resize(this.resize)},e.prototype.getTemplateFunction=function(){return x},e.prototype.getKeyframes=function(){return this.model.get("keyframes")},e.prototype.getCurrentKeyframe=function(){var t;return null!=(t=this.getKeyframes())?t.at(this.currentKeyframeIndex):void 0},e.prototype.getNextKeyframe=function(){var t;return null!=(t=this.getKeyframes())?t.at(this.currentKeyframeIndex+1):void 0},e.prototype.getPreviousKeyframe=function(){var t;return null!=(t=this.getKeyframes())?t.at(this.currentKeyframeIndex-1):void 0},e.prototype.getKeyframe=function(t){return this.getKeyframes().at(t)},e.prototype.getNumKeyframes=function(){return this.getKeyframes().length},e.prototype.atFirstKeyframe=function(){return this.currentKeyframeIndex<1},e.prototype.atLastKeyframe=function(){return this.currentKeyframeIndex>=this.getNumKeyframes()-1},e.prototype.shouldShowTitles=function(){return!/show_titles=0/.test(location.href)},e.prototype.shouldAnimate=function(){return/animate=1/.test(location.href)},e.prototype.keyframesLoadedHandler=function(){this.currentKeyframeIndex=0,this.getKeyframes().length>0&&this.initChart()},e.prototype.resize=function(){this.renderLegend()},e.prototype.resize=g.debounce(e.prototype.resize,300),e.prototype.documentKeydown=function(t){switch(t.keyCode){case 37:case 38:this.moveToPreviousKeyframe();break;case 39:case 40:case 32:this.moveToNextKeyframe();break;case 33:case 36:this.moveToFirstKeyframe();break;case 34:case 35:this.moveToLastKeyframe()}},e.prototype.moveToFirstKeyframe=function(t){null!=t&&t.preventDefault(),this.currentKeyframeIndex=0,this.update()},e.prototype.moveToLastKeyframe=function(t){null!=t&&t.preventDefault(),this.currentKeyframeIndex=this.getNumKeyframes()-1,this.update()},e.prototype.moveToNextKeyframe=function(t){t&&t.preventDefault(),this.atLastKeyframe()||(this.currentKeyframeIndex++,
this.update())},e.prototype.moveToPreviousKeyframe=function(t){t&&t.preventDefault(),this.atFirstKeyframe()||(this.currentKeyframeIndex--,this.update())},e.prototype.togglePlay=function(t){t&&t.preventDefault(),this.isPlaying()?this.stopPlay():this.startPlay()},e.prototype.startPlay=function(){this.atLastKeyframe()&&this.moveToFirstKeyframe(),this.playTimer=setInterval(this.playNext,5e3),this.$("> .footer .nav-play").addClass("stop")},e.prototype.playNext=function(){var t;t=this.atLastKeyframe(),t?this.stopPlay():this.moveToNextKeyframe()},e.prototype.stopPlay=function(){clearInterval(this.playTimer),delete this.playTimer,this.$("> .footer .nav-play").removeClass("stop")},e.prototype.isPlaying=function(){return null!=this.playTimer},e.prototype.toggleLegend=function(t){var e;t.preventDefault(),e=this.subview("legendAbout")||this.subview("legend"),e.toggle()},e.prototype.toggleFullscreen=function(t){t.preventDefault(),m.isFullScreen()?m.exitFullscreen(this.el):m.requestFullscreen(this.el)},e.prototype.render=function(){e.__super__.render.apply(this,arguments),this.$chart=this.$(".flow-viz-chart"),this.shouldShowTitles()||this.$("> .header .title").hide(),this.initAnimationControls(),this.renderContextboxView(),i(document).keydown(this.documentKeydown),this.attach(),this.createChart(),this.getKeyframes().length>0&&this.initChart()},e.prototype.getTemplateData=function(){var t;return t=e.__super__.getTemplateData.apply(this,arguments),t.chartClassName=r,t},e.prototype.initAnimationControls=function(){var t,e,n;t=this.$("> .footer"),e=t.find(".nav-play"),n=t.find(".nav-left, .nav-right"),this.shouldAnimate()?(e.show(),n.hide()):(e.hide(),n.show())},e.prototype.createChart=function(){var t;t=this.$chart.get(0),this.chart=new o({container:t}),this.subview("chart",this.chart)},e.prototype.renderLegend=function(){var t,e,n;this.removeSubview("legend"),t=this.getCurrentKeyframe(),t&&t.get("elements").length&&(e=i(window).width()<650,n=new u({model:this.getCurrentKeyframe(),container:this.el,overlay:e}),this.subview("legend",n))},e.prototype.renderContextboxView=function(){this.subview("contextbox",new s({model:this.model,container:this.el}))},e.prototype.initChart=function(){this.chart&&(this.initNumKeyframes(),this.initDots(),this.update(),this.shouldAnimate()&&this.startPlay())},e.prototype.update=function(){this.chart.update({keyframe:this.getCurrentKeyframe()}),this.renderLegend(),this.updateControls()},e.prototype.initNumKeyframes=function(){this.$(".num-keyframes").text(this.getNumKeyframes())},e.prototype.updateControls=function(){var t,e;e=this.getCurrentKeyframe(),t=e.get("date"),this.updateHeader(),this.$(".current-date").text(t),this.updateFooter()},e.prototype.updateHeader=function(){var t,e,n,i,r;e=this.$("> .header"),n=this.getCurrentKeyframe(),r=n.get("title"),i=n.getSubtitle(),t=n.get("date"),e.find(".title").text(r),e.find(".relation").text(i)},e.prototype.updateFooter=function(){var t,e;t=this.$("> .footer"),e=this.getCurrentKeyframe(),t.find(".current-index").text(this.currentKeyframeIndex+1),t.find(".title").text(e.getDisplayTitle()),this.updateNavButtons(),this.highlightSelectedDot()},e.prototype.updateNavButtons=function(){var t,e,n;t=this.$("> .footer"),e=t.find(".nav-left"),n=t.find(".nav-right"),this.atFirstKeyframe()?e.addClass(a).removeClass(l):(e.addClass(l).removeClass(a),this.updateTooltip(e.find(p),this.getPreviousKeyframe())),this.atLastKeyframe()?n.addClass(a).removeClass(l):(n.addClass(l).removeClass(a),this.updateTooltip(n.find(p),this.getNextKeyframe()))},e.prototype.updateTooltip=function(t,e){var n,i,r,o;n=" ",o=function(t){return t.replace(/\s+/g,n)},r=e.get("title")+" ",i=e.getSubtitle()+" ",t.find(".main-title").text(o(r)),t.find(".sub-title").text(o(i))},e.prototype.showTooltip=function(t){y.mouseover&&i(t.currentTarget).find(p).show()},e.prototype.hideTooltip=function(t){y.mouseover&&i(t.currentTarget).find(p).hide()},n={activeRadius:5.5,inactiveRadius:4,activeColor:"#86dcff",inactiveColor:"#fff",spacing:13},e.prototype.initDots=function(){var t,e,i,r,o,s;if(this.dots=[],f.type)for(t=this.$(".dots").get(0),o=this.getNumKeyframes(),this.dotPaper=f(t,n.spacing*o,20),e=function(t){return function(e){var i;i=t.dotPaper.circle(n.spacing/2+e*n.spacing,10,n.inactiveRadius).attr({fill:n.inactiveColor,"stroke-opacity":0}).data("index",e).hover(function(){return t.dotMouseIn(i)},function(){return t.dotMouseOut(i)}).click(function(){return t.dotClick(i)}),t.dots.push(i)}}(this),r=i=0,s=o;0<=s?i<s:i>s;r=0<=s?++i:--i)e(r)},e.prototype.highlightSelectedDot=function(){var t,e,i,r,o;for(o=this.dots,i=e=0,r=o.length;e<r;i=++e)t=o[i],i===this.currentKeyframeIndex?t.attr({r:n.activeRadius,fill:n.activeColor}):t.attr({r:n.inactiveRadius,fill:n.inactiveColor})},e.prototype.dotMouseIn=function(t){y.mouseover&&(t.attr({r:n.activeRadius}),this.showDotTooltip(t))},e.prototype.dotMouseOut=function(t){var e,i;y.mouseover&&(i=t.data("index"),e=i===this.currentKeyframeIndex,e?t.attr({r:n.activeRadius}):t.attr({r:n.inactiveRadius}),this.hideDotTooltip())},e.prototype.dotClick=function(t){var e;e=t.data("index"),this.currentKeyframeIndex=e,this.update()},e.prototype.showDotTooltip=function(t){var e,i,r,o,s,a;i=t.data("index"),o=this.getKeyframe(i),e=this.$(".dots "+p),this.updateTooltip(e,o),r=n.spacing/2+i*n.spacing,a=e.outerWidth(),s=r-a/2,e.css({display:"block",left:s+"px"})},e.prototype.hideDotTooltip=function(){this.$(".dots "+p).hide()},e.prototype.dispose=function(){if(!this.disposed)return this.stopPlay(),this.chart.dispose(),i(document).off("keydown",this.documentKeydown),i(window).off("resize",this.resize),e.__super__.dispose.apply(this,arguments)},e}(d),t.exports=h},function(t,e){function n(t,e,n){return"undefined"==typeof n||0===+n?Math[t](e):(e=+e,n=+n,isNaN(e)||"number"!=typeof n||n%1!==0?NaN:(e=e.toString().split("e"),e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-n:-n))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+n:n))))}t.exports=n},function(t,e){t.exports=function(){return function(t){return function(){var t,e,n,i,r,o,s,a,l,u,c;for(e=function(t,e){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/"/g,"&quot;")},t=function(t){switch(t){case null:case void 0:return"";case!0:case!1:return""+t;default:return t}},n=[],n.push("<a class='legend__close' href=''>\n  ×"),n.push("  "+t(this.t("legend","close"))),n.push("</a>\n<a class='closed legend__toggle' href=''>"+t(this.t("legend","toggle_open"))+"</a>"),a=this.dataType,u=a[0],c=a[1],i=function(e){var i,r,o;for(n.push("<ul class='legend__indicators'>"),i=0,o=e.length;i<o;i++)r=e[i],n.push("  <p>\n    <strong>"+t(r.type)+"</strong>\n    :"),n.push("    "+t(r.typeFull+", "+r.unitFull)),n.push("  </p>\n  <p>"),n.push("    "+t(this.t("legend","maximum_size"))),n.push("    "+t(r.maxValue)),n.push("  </p>");return n.push("</ul>"),""},n.push("<section class='legend__section legend__short legend__sources'>\n  <h3 class='legend__heading'>"+t(this.t("legend","sources"))+"</h3>\n  <div class='legend__sectionBody'>\n    <ul>\n      <li>"),n.push("        "+t(this.typeName+":")),n.push("        <a class='legend__source' href='"+e(t(this.dataSource.url))+"' target='_blank'>"),n.push("          "+t(this.dataSource.name)),n.push("        </a>\n      </li>"),l=this.indicators,r=0,s=l.length;r<s;r++)o=l[r],n.push("      <li>"),n.push("        "+t(o.type+":")),n.push("        <a class='legend__source' href='"+e(t(o.sourceURL))+"' target='_blank'>"),n.push("          "+t(o.sourceName)),n.push("        </a>\n      </li>");return n.push("    </ul>\n  </div>\n</section>\n<section class='legend__explanations legend__long legend__section'>\n  <h3 class='legend__heading'>"+t(this.t("legend","legend"))+"</h3>\n  <div class='legend__sectionBody'>\n    <table>\n      <tr class='legend__magnets'>\n        <td class='legend__icon'>\n          <div class='legend__magnet legend__magnetOutgoing' style='background-color: "+e(t(this.magnetOutgoingColor))+"'></div>\n          <div class='legend__magnet legend__magnetIncoming' style='background-color: "+e(t(this.magnetIncomingColor))+"'></div>\n        </td>\n        <td>"+t(this.magnetDescription)+"</td>\n      </tr>\n      <tr class='legend__relations'>\n        <td class='legend__icon'>\n          <span class='legend__relationArrow'></span>\n        </td>\n        <td>"+t(this.relationDescription)+"</td>\n      </tr>"),this.groupedIndicators.absolute&&(n.push("      <tr class='legend__absoluteIndicators'>\n        <td class='legend__icon'>\n          <img src='images/legend-indicator-absolute.png' width='20' height='20' alt=''>\n        </td>\n        <td>\n          <p>"+t(this.t("legend","indicatorIcon","absolute"))+"</p>"),n.push("          "+t(i.call(this,this.groupedIndicators.absolute))),n.push("        </td>\n      </tr>")),this.groupedIndicators.proportional&&(n.push("      <tr class='legend__proportionalIndicators'>\n        <td class='legend__icon'>\n          <img src='images/legend-indicator-percent.png' width='20' height='20' alt=''>\n        </td>\n        <td>\n          <p>"+t(this.t("legend","indicatorIcon","proportional"))+"</p>"),n.push("          "+t(i.call(this,this.groupedIndicators.proportional))),n.push("        </td>\n      </tr>")),this.indicatorTypes.length>0&&n.push("      <tr>\n        <td class='legend__icon'>\n          <img src='images/legend-indicator-tendency.png' width='10' height='10' alt=''>\n        </td>\n        <td>"+t(this.t("legend","tendency"))+"</td>\n      </tr>"),n.push("    </table>\n  </div>\n</section>\n<section class='legend__long legend__section'>\n  <h3 class='legend__heading'>"+t(this.t("legend","about_heading"))+"</h3>\n  <div class='legend__sectionBody'>"),n.push("    "+t(this.t("legend","about_body"))),n.push("  </div>\n</section>"),n.join("\n").replace(/\s([\w-]+)='true'/gm," $1").replace(/\s([\w-]+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"").replace(/[\s\n]*\u0091/gm,"").replace(/\u0092[\s\n]*/gm,"")}.call(t)}}.call(this)},function(t,e){t.exports=function(){return function(t){return function(){var t,e,n;return e=function(t,e){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/"/g,"&quot;")},t=function(t){switch(t){case null:case void 0:return"";case!0:case!1:return""+t;default:return t}},n=[],n.push("<div class='header'>\n  <h1>\n    <span class='title'></span>\n  </h1>\n  <p>\n    <span class='relation'></span>\n  </p>\n</div>\n<div class='current-date'></div>\n<div class='"+e(t(this.chartClassName))+"'></div>\n<div class='footer'>\n  <div class='footer-left'>\n    <a class='nav-play' href=''>"+t(this.t("player","play"))+"</a>\n    <a class='nav-left' href=''>\n      &#x02039;\n      <div class='tooltip'>\n        <div class='destination'>"+t(this.t("player","previous_keyframe"))+"</div>\n        <div class='keyframe-title'>\n          <span class='main-title'>Placeholder</span>\n          <span class='sub-title'>Placeholder</span>\n        </div>\n      </div>\n    </a>\n    <a class='nav-right' href=''>\n      &#x0203A;\n      <div class='tooltip'>\n        <div class='destination'>"+t(this.t("player","next_keyframe"))+"</div>\n        <div class='keyframe-title'>\n          <span class='main-title'>Placeholder</span>\n          <span class='sub-title'>Placeholder</span>\n        </div>\n      </div>\n    </a>\n    <div class='keyframe-number'>\n      <span class='current-index'></span>\n      /\n      <span class='num-keyframes'></span>\n    </div>\n    <div class='dots'>\n      <div class='tooltip'>\n        <div class='keyframe-title'>\n          <span class='main-title'>Placeholder</span>\n          <span class='sub-title'>Placeholder</span>\n        </div>\n      </div>\n    </div>\n    <div class='title'></div>\n  </div>\n  <div class='footer-right'>\n    <a class='toggle-fullscreen' href=''>\n      <div class='fallback'>"+t(this.t("player","fullscreen"))+"</div>\n      <div class='tooltip'>"+t(this.t("player","fullscreen"))+"</div>\n    </a>\n    <a class='toggle-legend' href=''>\n      <div class='fallback'>"+t(this.t("legend","legend"))+"</div>\n      <div class='tooltip'>"+t(this.t("legend","legend"))+"</div>\n    </a>\n  </div>\n</div>"),n.join("\n").replace(/\s([\w-]+)='true'/gm," $1").replace(/\s([\w-]+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(t)}}.call(this)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}]);
//# sourceMappingURL=flow_viz.js.map