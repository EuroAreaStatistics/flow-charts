!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i,r,o;i=n(5),r=n(3),i.$=r,o=n(33),window.FlowViz||(window.FlowViz={}),window.FlowViz.renderPlayer=o},function(t,e,n){var i;(function(t,r){(function(){function o(t,e){if(t!==e){var n=null===t,i=t===A,r=t===t,o=null===e,s=e===A,a=e===e;if(t>e&&!o||!r||n&&!s&&a||i&&a)return 1;if(t<e&&!n||!a||o&&!i&&r||s&&r)return-1}return 0}function s(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function a(t,e,n){if(e!==e)return y(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function u(t){return"function"==typeof t||!1}function l(t){return null==t?"":t+""}function c(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function f(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var i=-1,r=t.criteria,s=e.criteria,a=r.length,u=n.length;++i<a;){var l=o(r[i],s[i]);if(l){if(i>=u)return l;var c=n[i];return l*("asc"===c||c===!0?1:-1)}}return t.index-e.index}function d(t){return Vt[t]}function g(t){return Kt[t]}function v(t,e,n){return e?t=Gt[t]:n&&(t=Jt[t]),"\\"+t}function m(t){return"\\"+Jt[t]}function y(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function x(t){return!!t&&"object"==typeof t}function b(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function w(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=V,o[++r]=n);return o}function _(t,e){for(var n,i=-1,r=t.length,o=-1,s=[];++i<r;){var a=t[i],u=e?e(a,i,t):a;i&&n===u||(n=u,s[++o]=a)}return s}function T(t){for(var e=-1,n=t.length;++e<n&&b(t.charCodeAt(e)););return e}function k(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function C(t){return Xt[t]}function S(t){function e(t){if(x(t)&&!La(t)&&!(t instanceof r)){if(t instanceof i)return t;if(es.call(t,"__chain__")&&es.call(t,"__wrapped__"))return pi(t)}return new i(t)}function n(){}function i(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Es,this.__views__=[]}function b(){var t=new r(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Z(){if(this.__filtered__){var t=new r(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function it(){var t=this.__wrapped__.value(),e=this.__dir__,n=La(t),i=e<0,r=n?t.length:0,o=Vn(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,p=Ts(u,this.__takeCount__);if(!n||r<q||r==u&&p==u)return nn(i&&n?t.reverse():t,this.__actions__);var d=[];t:for(;u--&&f<p;){l+=e;for(var g=-1,v=t[l];++g<h;){var m=c[g],y=m.iteratee,x=m.type,b=y(v);if(x==W)v=b;else if(!b){if(x==$)continue t;break t}}d[f++]=v}return d}function ot(){this.__data__={}}function Vt(t){return this.has(t)&&delete this.__data__[t]}function Kt(t){return"__proto__"==t?A:this.__data__[t]}function Xt(t){return"__proto__"!=t&&es.call(this.__data__,t)}function Yt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Gt(t){var e=t?t.length:0;for(this.data={hash:ms(null),set:new hs};e--;)this.push(t[e])}function Jt(t,e){var n=t.data,i="string"==typeof e||Dr(e)?n.set.has(e):n.hash[e];return i?0:-1}function Qt(t){var e=this.data;"string"==typeof t||Dr(t)?e.set.add(t):e.hash[t]=!0}function Zt(t,e){for(var n=-1,i=t.length,r=-1,o=e.length,s=Ho(i+o);++n<i;)s[n]=t[n];for(;++r<o;)s[n++]=e[r];return s}function te(t,e){var n=-1,i=t.length;for(e||(e=Ho(i));++n<i;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function ne(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function se(t,e,n,i){for(var r=-1,o=t.length,s=i,a=s;++r<o;){var u=t[r],l=+e(u);n(l,s)&&(s=l,a=u)}return a}function ae(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function ue(t,e){for(var n=-1,i=t.length,r=Ho(i);++n<i;)r[n]=e(t[n],n,t);return r}function le(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ce(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function he(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function fe(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}function de(t,e){return t===A?e:t}function ge(t,e,n,i){return t!==A&&es.call(i,n)?t:e}function ve(t,e,n){for(var i=-1,r=za(e),o=r.length;++i<o;){var s=r[i],a=t[s],u=n(a,e[s],s,t,e);(u===u?u===a:a!==a)&&(a!==A||s in t)||(t[s]=u)}return t}function me(t,e){return null==e?t:xe(e,za(e),t)}function ye(t,e){for(var n=-1,i=null==t,r=!i&&Jn(t),o=r?t.length:0,s=e.length,a=Ho(s);++n<s;){var u=e[n];r?a[n]=Qn(u,o)?t[u]:A:a[n]=i?A:t[u]}return a}function xe(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function be(t,e,n){var i=typeof t;return"function"==i?e===A?t:sn(t,e,n):null==t?Eo:"object"==i?Fe(t):e===A?Do(t):ze(t,e)}function we(t,e,n,i,r,o,s){var a;if(n&&(a=r?n(t,i,r):n(t)),a!==A)return a;if(!Dr(t))return t;var u=La(t);if(u){if(a=Kn(t),!e)return te(t,a)}else{var l=is.call(t),c=l==Q;if(l!=et&&l!=K&&(!c||r))return Ut[l]?Yn(t,l,e):r?t:{};if(a=Xn(c?{}:t),!e)return me(a,t)}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==t)return s[h];return o.push(t),s.push(a),(u?ee:Ne)(t,function(i,r){a[r]=we(i,e,n,r,t,o,s)}),a}function _e(t,e,n){if("function"!=typeof t)throw new Go(U);return fs(function(){t.apply(A,n)},e)}function Te(t,e){var n=t?t.length:0,i=[];if(!n)return i;var r=-1,o=$n(),s=o==a,u=s&&e.length>=q?gn(e):null,l=e.length;u&&(o=Jt,s=!1,e=u);t:for(;++r<n;){var c=t[r];if(s&&c===c){for(var h=l;h--;)if(e[h]===c)continue t;i.push(c)}else o(e,c,0)<0&&i.push(c)}return i}function ke(t,e){var n=!0;return Rs(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Ce(t,e,n,i){var r=i,o=r;return Rs(t,function(t,s,a){var u=+e(t,s,a);(n(u,r)||u===i&&u===o)&&(r=u,o=t)}),o}function Se(t,e,n,i){var r=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>r?0:r+n),i=i===A||i>r?r:+i||0,i<0&&(i+=r),r=n>i?0:i>>>0,n>>>=0;n<r;)t[n++]=e;return t}function Ae(t,e){var n=[];return Rs(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Ee(t,e,n,i){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=i?n:t,!1}),r}function Le(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var s=t[r];x(s)&&Jn(s)&&(n||La(s)||Cr(s))?e?Le(s,e,n,i):le(i,s):n||(i[i.length]=s)}return i}function Ie(t,e){return js(t,e,to)}function Ne(t,e){return js(t,e,za)}function Oe(t,e){return Fs(t,e,za)}function Me(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];Mr(t[s])&&(o[++r]=s)}return o}function De(t,e,n){if(null!=t){n!==A&&n in hi(t)&&(e=[n]);for(var i=0,r=e.length;null!=t&&i<r;)t=t[e[i++]];return i&&i==r?t:A}}function Pe(t,e,n,i,r,o){return t===e||(null==t||null==e||!Dr(t)&&!x(e)?t!==t&&e!==e:Re(t,e,Pe,n,i,r,o))}function Re(t,e,n,i,r,o,s){var a=La(t),u=La(e),l=X,c=X;a||(l=is.call(t),l==K?l=et:l!=et&&(a=$r(t))),u||(c=is.call(e),c==K?c=et:c!=et&&(u=$r(e)));var h=l==et,f=c==et,p=l==c;if(p&&!a&&!h)return Fn(t,e,l);if(!r){var d=h&&es.call(t,"__wrapped__"),g=f&&es.call(e,"__wrapped__");if(d||g)return n(d?t.value():t,g?e.value():e,i,r,o,s)}if(!p)return!1;o||(o=[]),s||(s=[]);for(var v=o.length;v--;)if(o[v]==t)return s[v]==e;o.push(t),s.push(e);var m=(a?jn:zn)(t,e,n,i,r,o,s);return o.pop(),s.pop(),m}function Be(t,e,n){var i=e.length,r=i,o=!n;if(null==t)return!r;for(t=hi(t);i--;){var s=e[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){s=e[i];var a=s[0],u=t[a],l=s[1];if(o&&s[2]){if(u===A&&!(a in t))return!1}else{var c=n?n(u,l,a):A;if(!(c===A?Pe(l,u,n,!0):c))return!1}}return!0}function je(t,e){var n=-1,i=Jn(t)?Ho(t.length):[];return Rs(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Fe(t){var e=Wn(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null!=t&&(t[n]===i&&(i!==A||n in hi(t)))}}return function(t){return Be(t,e)}}function ze(t,e){var n=La(t),i=ti(t)&&ii(e),r=t+"";return t=fi(t),function(o){if(null==o)return!1;var s=r;if(o=hi(o),(n||!i)&&!(s in o)){if(o=1==t.length?o:De(o,Xe(t,0,-1)),null==o)return!1;s=Si(t),o=hi(o)}return o[s]===e?e!==A||s in o:Pe(e,o[s],A,!0)}}function He(t,e,n,i,r){if(!Dr(t))return t;var o=Jn(e)&&(La(e)||$r(e)),s=o?A:za(e);return ee(s||e,function(a,u){if(s&&(u=a,a=e[u]),x(a))i||(i=[]),r||(r=[]),qe(t,e,u,He,n,i,r);else{var l=t[u],c=n?n(l,a,u,t,e):A,h=c===A;h&&(c=a),c===A&&(!o||u in t)||!h&&(c===c?c===l:l!==l)||(t[u]=c)}}),t}function qe(t,e,n,i,r,o,s){for(var a=o.length,u=e[n];a--;)if(o[a]==u)return void(t[n]=s[a]);var l=t[n],c=r?r(l,u,n,t,e):A,h=c===A;h&&(c=u,Jn(u)&&(La(u)||$r(u))?c=La(l)?l:Jn(l)?te(l):[]:zr(u)||Cr(u)?c=Cr(l)?Xr(l):zr(l)?l:{}:h=!1),o.push(u),s.push(c),h?t[n]=i(c,u,r,o,s):(c===c?c!==l:l===l)&&(t[n]=c)}function $e(t){return function(e){return null==e?A:e[t]}}function We(t){var e=t+"";return t=fi(t),function(n){return De(n,t,e)}}function Ue(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&Qn(i)){var r=i;ps.call(t,i,1)}}return t}function Ve(t,e){return t+ys(Ss()*(e-t+1))}function Ke(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function Xe(t,e,n){var i=-1,r=t.length;e=null==e?0:+e||0,e<0&&(e=-e>r?0:r+e),n=n===A||n>r?r:+n||0,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Ho(r);++i<r;)o[i]=t[i+e];return o}function Ye(t,e){var n;return Rs(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Ge(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Je(t,e,n){var i=Hn(),r=-1;e=ue(e,function(t){return i(t)});var o=je(t,function(t){var n=ue(e,function(e){return e(t)});return{criteria:n,index:++r,value:t}});return Ge(o,function(t,e){return p(t,e,n)})}function Qe(t,e){var n=0;return Rs(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function Ze(t,e){var n=-1,i=$n(),r=t.length,o=i==a,s=o&&r>=q,u=s?gn():null,l=[];u?(i=Jt,o=!1):(s=!1,u=e?[]:l);t:for(;++n<r;){var c=t[n],h=e?e(c,n,t):c;if(o&&c===c){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),l.push(c)}else i(u,h,0)<0&&((e||s)&&u.push(h),l.push(c))}return l}function tn(t,e){for(var n=-1,i=e.length,r=Ho(i);++n<i;)r[n]=t[e[n]];return r}function en(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Xe(t,i?0:o,i?o+1:r):Xe(t,i?o+1:0,i?r:o)}function nn(t,e){var n=t;n instanceof r&&(n=n.value());for(var i=-1,o=e.length;++i<o;){var s=e[i];n=s.func.apply(s.thisArg,le([n],s.args))}return n}function rn(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&r<=Ns){for(;i<r;){var o=i+r>>>1,s=t[o];(n?s<=e:s<e)&&null!==s?i=o+1:r=o}return r}return on(t,e,Eo,n)}function on(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!==e,a=null===e,u=e===A;r<o;){var l=ys((r+o)/2),c=n(t[l]),h=c!==A,f=c===c;if(s)var p=f||i;else p=a?f&&h&&(i||null!=c):u?f&&(i||h):null!=c&&(i?c<=e:c<e);p?r=l+1:o=l}return Ts(o,Is)}function sn(t,e,n){if("function"!=typeof t)return Eo;if(e===A)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function an(t){var e=new ss(t.byteLength),n=new ds(e);return n.set(new ds(t)),e}function un(t,e,n){for(var i=n.length,r=-1,o=_s(t.length-i,0),s=-1,a=e.length,u=Ho(a+o);++s<a;)u[s]=e[s];for(;++r<i;)u[n[r]]=t[r];for(;o--;)u[s++]=t[r++];return u}function ln(t,e,n){for(var i=-1,r=n.length,o=-1,s=_s(t.length-r,0),a=-1,u=e.length,l=Ho(s+u);++o<s;)l[o]=t[o];for(var c=o;++a<u;)l[c+a]=e[a];for(;++i<r;)l[c+n[i]]=t[o++];return l}function cn(t,e){return function(n,i,r){var o=e?e():{};if(i=Hn(i,r,3),La(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];t(o,u,i(u,s,n),n)}else Rs(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function hn(t){return mr(function(e,n){var i=-1,r=null==e?0:n.length,o=r>2?n[r-2]:A,s=r>2?n[2]:A,a=r>1?n[r-1]:A;for("function"==typeof o?(o=sn(o,a,5),r-=2):(o="function"==typeof a?a:A,r-=o?1:0),s&&Zn(n[0],n[1],s)&&(o=r<3?A:o,r=1);++i<r;){var u=n[i];u&&t(e,u,o)}return e})}function fn(t,e){return function(n,i){var r=n?qs(n):0;if(!ni(r))return t(n,i);for(var o=e?r:-1,s=hi(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function pn(t){return function(e,n,i){for(var r=hi(e),o=i(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var u=o[a];if(n(r[u],u,r)===!1)break}return e}}function dn(t,e){function n(){var r=this&&this!==ie&&this instanceof n?i:t;return r.apply(e,arguments)}var i=mn(t);return n}function gn(t){return ms&&hs?new Gt(t):null}function vn(t){return function(e){for(var n=-1,i=Co(co(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function mn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ps(t.prototype),i=t.apply(n,e);return Dr(i)?i:n}}function yn(t){function e(n,i,r){r&&Zn(n,i,r)&&(i=A);var o=Bn(n,t,A,A,A,A,A,i);return o.placeholder=e.placeholder,o}return e}function xn(t,e){return mr(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(A,n))})}function bn(t,e){return function(n,i,r){if(r&&Zn(n,i,r)&&(i=A),i=Hn(i,r,3),1==i.length){n=La(n)?n:ci(n);var o=se(n,i,t,e);if(!n.length||o!==e)return o}return Ce(n,i,t,e)}}function wn(t,e){return function(n,i,r){if(i=Hn(i,r,3),La(n)){var o=s(n,i,e);return o>-1?n[o]:A}return Ee(n,i,t)}}function _n(t){return function(e,n,i){return e&&e.length?(n=Hn(n,i,3),s(e,n,t)):-1}}function Tn(t){return function(e,n,i){return n=Hn(n,i,3),Ee(e,n,t,!0)}}function kn(t){return function(){for(var e,n=arguments.length,r=t?n:-1,o=0,s=Ho(n);t?r--:++r<n;){var a=s[o++]=arguments[r];if("function"!=typeof a)throw new Go(U);!e&&i.prototype.thru&&"wrapper"==qn(a)&&(e=new i([],!0))}for(r=e?-1:n;++r<n;){a=s[r];var u=qn(a),l="wrapper"==u?Hs(a):A;e=l&&ei(l[0])&&l[1]==(R|O|D|B)&&!l[4].length&&1==l[9]?e[qn(l[0])].apply(e,l[3]):1==a.length&&ei(a)?e[u]():e.thru(a)}return function(){var t=arguments,i=t[0];if(e&&1==t.length&&La(i)&&i.length>=q)return e.plant(i).value();for(var r=0,o=n?s[r].apply(this,t):i;++r<n;)o=s[r].call(this,o);return o}}}function Cn(t,e){return function(n,i,r){return"function"==typeof i&&r===A&&La(n)?t(n,i):e(n,sn(i,r,3))}}function Sn(t){return function(e,n,i){return"function"==typeof n&&i===A||(n=sn(n,i,3)),t(e,n,to)}}function An(t){return function(e,n,i){return"function"==typeof n&&i===A||(n=sn(n,i,3)),t(e,n)}}function En(t){return function(e,n,i){var r={};return n=Hn(n,i,3),Ne(e,function(e,i,o){var s=n(e,i,o);i=t?s:i,e=t?e:s,r[i]=e}),r}}function Ln(t){return function(e,n,i){return e=l(e),(t?e:"")+Mn(e,n,i)+(t?"":e)}}function In(t){var e=mr(function(n,i){var r=w(i,e.placeholder);return Bn(n,t,A,i,r)});return e}function Nn(t,e){return function(n,i,r,o){var s=arguments.length<3;return"function"==typeof i&&o===A&&La(n)?t(n,i,r,s):Ke(n,Hn(i,o,4),r,s,e)}}function On(t,e,n,i,r,o,s,a,u,l){function c(){for(var y=arguments.length,x=y,b=Ho(y);x--;)b[x]=arguments[x];if(i&&(b=un(b,i,r)),o&&(b=ln(b,o,s)),d||v){var _=c.placeholder,T=w(b,_);if(y-=T.length,y<l){var k=a?te(a):A,C=_s(l-y,0),S=d?T:A,E=d?A:T,N=d?b:A,O=d?A:b;e|=d?D:P,e&=~(d?P:D),g||(e&=~(L|I));var M=[t,e,n,N,S,O,E,k,u,C],R=On.apply(A,M);return ei(t)&&$s(R,M),R.placeholder=_,R}}var B=f?n:this,j=p?B[t]:t;return a&&(b=ui(b,a)),h&&u<b.length&&(b.length=u),this&&this!==ie&&this instanceof c&&(j=m||mn(t)),j.apply(B,b)}var h=e&R,f=e&L,p=e&I,d=e&O,g=e&N,v=e&M,m=p?A:mn(t);return c}function Mn(t,e,n){var i=t.length;if(e=+e,i>=e||!bs(e))return"";var r=e-i;return n=null==n?" ":n+"",mo(n,vs(r/n.length)).slice(0,r)}function Dn(t,e,n,i){function r(){for(var e=-1,a=arguments.length,u=-1,l=i.length,c=Ho(l+a);++u<l;)c[u]=i[u];for(;a--;)c[u++]=arguments[++e];var h=this&&this!==ie&&this instanceof r?s:t;return h.apply(o?n:this,c)}var o=e&L,s=mn(t);return r}function Pn(t){var e=Uo[t];return function(t,n){return n=n===A?0:+n||0,n?(n=ls(10,n),e(t*n)/n):e(t)}}function Rn(t){return function(e,n,i,r){var o=Hn(i);return null==i&&o===be?rn(e,n,t):on(e,n,o(i,r,1),t)}}function Bn(t,e,n,i,r,o,s,a){var u=e&I;if(!u&&"function"!=typeof t)throw new Go(U);var l=i?i.length:0;if(l||(e&=~(D|P),i=r=A),l-=r?r.length:0,e&P){var c=i,h=r;i=r=A}var f=u?A:Hs(t),p=[t,e,n,i,r,c,h,o,s,a];if(f&&(ri(p,f),e=p[1],a=p[9]),p[9]=null==a?u?0:t.length:_s(a-l,0)||0,e==L)var d=dn(p[0],p[2]);else d=e!=D&&e!=(L|D)||p[4].length?On.apply(A,p):Dn.apply(A,p);var g=f?zs:$s;return g(d,p)}function jn(t,e,n,i,r,o,s){var a=-1,u=t.length,l=e.length;if(u!=l&&!(r&&l>u))return!1;for(;++a<u;){var c=t[a],h=e[a],f=i?i(r?h:c,r?c:h,a):A;if(f!==A){if(f)continue;return!1}if(r){if(!fe(e,function(t){return c===t||n(c,t,i,r,o,s)}))return!1}else if(c!==h&&!n(c,h,i,r,o,s))return!1}return!0}function Fn(t,e,n){switch(n){case Y:case G:return+t==+e;case J:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case nt:case rt:return t==e+""}return!1}function zn(t,e,n,i,r,o,s){var a=za(t),u=a.length,l=za(e),c=l.length;if(u!=c&&!r)return!1;for(var h=u;h--;){var f=a[h];if(!(r?f in e:es.call(e,f)))return!1}for(var p=r;++h<u;){f=a[h];var d=t[f],g=e[f],v=i?i(r?g:d,r?d:g,f):A;if(!(v===A?n(d,g,i,r,o,s):v))return!1;p||(p="constructor"==f)}if(!p){var m=t.constructor,y=e.constructor;if(m!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y))return!1}return!0}function Hn(t,n,i){var r=e.callback||So;return r=r===So?be:r,i?r(t,n,i):r}function qn(t){for(var e=t.name,n=Ds[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function $n(t,n,i){var r=e.indexOf||ki;return r=r===ki?a:r,t?r(t,n,i):r}function Wn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=ii(e[n][1]);return e}function Un(t,e){var n=null==t?A:t[e];return Br(n)?n:A}function Vn(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Ts(e,t+s);break;case"takeRight":t=_s(t,e-s)}}return{start:t,end:e}}function Kn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&es.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Xn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ko),new e}function Yn(t,e,n){var i=t.constructor;switch(e){case st:return an(t);case Y:case G:return new i(+t);case at:case ut:case lt:case ct:case ht:case ft:case pt:case dt:case gt:var r=t.buffer;return new i(n?an(r):r,t.byteOffset,t.length);case tt:case rt:return new i(t);case nt:var o=new i(t.source,Dt.exec(t));o.lastIndex=t.lastIndex}return o}function Gn(t,e,n){null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:De(t,Xe(e,0,-1)),e=Si(e));var i=null==t?t:t[e];return null==i?A:i.apply(t,n)}function Jn(t){return null!=t&&ni(qs(t))}function Qn(t,e){return t="number"==typeof t||Bt.test(t)?+t:-1,e=null==e?Os:e,t>-1&&t%1==0&&t<e}function Zn(t,e,n){if(!Dr(n))return!1;var i=typeof e;if("number"==i?Jn(n)&&Qn(e,n.length):"string"==i&&e in n){var r=n[e];return t===t?t===r:r!==r}return!1}function ti(t,e){var n=typeof t;if("string"==n&&At.test(t)||"number"==n)return!0;if(La(t))return!1;var i=!St.test(t);return i||null!=e&&t in hi(e)}function ei(t){var n=qn(t);if(!(n in r.prototype))return!1;var i=e[n];if(t===i)return!0;var o=Hs(i);return!!o&&t===o[0]}function ni(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Os}function ii(t){return t===t&&!Dr(t)}function ri(t,e){var n=t[1],i=e[1],r=n|i,o=r<R,s=i==R&&n==O||i==R&&n==B&&t[7].length<=e[8]||i==(R|B)&&n==O;if(!o&&!s)return t;i&L&&(t[2]=e[2],r|=n&L?0:N);var a=e[3];if(a){var u=t[3];t[3]=u?un(u,a,e[4]):te(a),t[4]=u?w(t[3],V):te(e[4])}return a=e[5],a&&(u=t[5],t[5]=u?ln(u,a,e[6]):te(a),t[6]=u?w(t[5],V):te(e[6])),a=e[7],a&&(t[7]=te(a)),i&R&&(t[8]=null==t[8]?e[8]:Ts(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function oi(t,e){return t===A?e:Ia(t,e,oi)}function si(t,e){t=hi(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function ai(t,e){var n={};return Ie(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function ui(t,e){for(var n=t.length,i=Ts(e.length,n),r=te(t);i--;){var o=e[i];t[i]=Qn(o,n)?r[o]:A}return t}function li(t){for(var e=to(t),n=e.length,i=n&&t.length,r=!!i&&ni(i)&&(La(t)||Cr(t)),o=-1,s=[];++o<n;){var a=e[o];(r&&Qn(a,i)||es.call(t,a))&&s.push(a)}return s}function ci(t){return null==t?[]:Jn(t)?Dr(t)?t:Ko(t):oo(t)}function hi(t){return Dr(t)?t:Ko(t)}function fi(t){if(La(t))return t;var e=[];return l(t).replace(Et,function(t,n,i,r){e.push(i?r.replace(Ot,"$1"):n||t)}),e}function pi(t){return t instanceof r?t.clone():new i(t.__wrapped__,t.__chain__,te(t.__actions__))}function di(t,e,n){e=(n?Zn(t,e,n):null==e)?1:_s(ys(e)||1,1);for(var i=0,r=t?t.length:0,o=-1,s=Ho(vs(r/e));i<r;)s[++o]=Xe(t,i,i+=e);return s}function gi(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r}function vi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),Xe(t,e<0?0:e)):[]}function mi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Xe(t,0,e<0?0:e)):[]}function yi(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!0,!0):[]}function xi(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!0):[]}function bi(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Zn(t,e,n)&&(n=0,i=r),Se(t,e,n,i)):[]}function wi(t){return t?t[0]:A}function _i(t,e,n){var i=t?t.length:0;return n&&Zn(t,e,n)&&(e=!1),i?Le(t,e):[]}function Ti(t){var e=t?t.length:0;return e?Le(t,!0):[]}function ki(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?_s(i+n,0):n;else if(n){var r=rn(t,e);return r<i&&(e===e?e===t[r]:t[r]!==t[r])?r:-1}return a(t,e,n||0)}function Ci(t){return mi(t,1)}function Si(t){var e=t?t.length:0;return e?t[e-1]:A}function Ai(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?_s(i+n,0):Ts(n||0,i-1))+1;else if(n){r=rn(t,e,!0)-1;var o=t[r];return(e===e?e===o:o!==o)?r:-1}if(e!==e)return y(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function Ei(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=$n(),r=t.length;++n<r;)for(var o=0,s=t[n];(o=i(e,s,o))>-1;)ps.call(e,o,1);return e}function Li(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],s=t.length;for(e=Hn(e,n,3);++r<s;){var a=t[r];e(a,r,t)&&(i.push(a),o.push(r))}return Ue(t,o),i}function Ii(t){return vi(t,1)}function Ni(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Zn(t,e,n)&&(e=0,n=i),Xe(t,e,n)):[]}function Oi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),Xe(t,0,e<0?0:e)):[]}function Mi(t,e,n){var i=t?t.length:0;return i?((n?Zn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Xe(t,e<0?0:e)):[]}function Di(t,e,n){return t&&t.length?en(t,Hn(e,n,3),!1,!0):[]}function Pi(t,e,n){return t&&t.length?en(t,Hn(e,n,3)):[]}function Ri(t,e,n,i){var r=t?t.length:0;if(!r)return[];null!=e&&"boolean"!=typeof e&&(i=n,n=Zn(t,e,i)?A:e,e=!1);var o=Hn();return null==n&&o===be||(n=o(n,i,3)),e&&$n()==a?_(t,n):Ze(t,n)}function Bi(t){if(!t||!t.length)return[];var e=-1,n=0;t=ae(t,function(t){if(Jn(t))return n=_s(t.length,n),!0});for(var i=Ho(n);++e<n;)i[e]=ue(t,$e(e));return i}function ji(t,e,n){var i=t?t.length:0;if(!i)return[];var r=Bi(t);return null==e?r:(e=sn(e,n,4),ue(r,function(t){return ce(t,e,A,!0)}))}function Fi(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Jn(n))var i=i?le(Te(i,n),Te(n,i)):n}return i?Ze(i):[]}function zi(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||La(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function Hi(t){var n=e(t);return n.__chain__=!0,n}function qi(t,e,n){return e.call(n,t),t}function $i(t,e,n){return e.call(n,t)}function Wi(){return Hi(this)}function Ui(){return new i(this.value(),this.__chain__)}function Vi(t){for(var e,i=this;i instanceof n;){var r=pi(i);e?o.__wrapped__=r:e=r;var o=r;i=i.__wrapped__}return o.__wrapped__=t,e}function Ki(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof r){var n=t;return this.__actions__.length&&(n=new r(this)),n=n.reverse(),n.__actions__.push({func:$i,args:[e],thisArg:A}),new i(n,this.__chain__)}return this.thru(e)}function Xi(){return this.value()+""}function Yi(){return nn(this.__wrapped__,this.__actions__)}function Gi(t,e,n){var i=La(t)?oe:ke;return n&&Zn(t,e,n)&&(e=A),"function"==typeof e&&n===A||(e=Hn(e,n,3)),i(t,e)}function Ji(t,e,n){var i=La(t)?ae:Ae;return e=Hn(e,n,3),i(t,e)}function Qi(t,e){return ra(t,Fe(e))}function Zi(t,e,n,i){var r=t?qs(t):0;return ni(r)||(t=oo(t),r=t.length),n="number"!=typeof n||i&&Zn(e,n,i)?0:n<0?_s(r+n,0):n||0,"string"==typeof t||!La(t)&&qr(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&$n(t,e,n)>-1}function tr(t,e,n){var i=La(t)?ue:je;return e=Hn(e,n,3),i(t,e)}function er(t,e){return tr(t,Do(e))}function nr(t,e,n){var i=La(t)?ae:Ae;return e=Hn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function ir(t,e,n){if(n?Zn(t,e,n):null==e){t=ci(t);var i=t.length;return i>0?t[Ve(0,i-1)]:A}var r=-1,o=Kr(t),i=o.length,s=i-1;for(e=Ts(e<0?0:+e||0,i);++r<e;){var a=Ve(r,s),u=o[a];o[a]=o[r],o[r]=u}return o.length=e,o}function rr(t){return ir(t,Es)}function or(t){var e=t?qs(t):0;return ni(e)?e:za(t).length}function sr(t,e,n){var i=La(t)?fe:Ye;return n&&Zn(t,e,n)&&(e=A),"function"==typeof e&&n===A||(e=Hn(e,n,3)),i(t,e)}function ar(t,e,n){if(null==t)return[];n&&Zn(t,e,n)&&(e=A);var i=-1;e=Hn(e,n,3);var r=je(t,function(t,n,r){return{criteria:e(t,n,r),index:++i,value:t}});return Ge(r,f)}function ur(t,e,n,i){return null==t?[]:(i&&Zn(e,n,i)&&(n=A),La(e)||(e=null==e?[]:[e]),La(n)||(n=null==n?[]:[n]),Je(t,e,n))}function lr(t,e){return Ji(t,Fe(e))}function cr(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Go(U);var n=t;t=e,e=n}return t=bs(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function hr(t,e,n){return n&&Zn(t,e,n)&&(e=A),e=t&&null==e?t.length:_s(+e||0,0),Bn(t,R,A,A,A,A,e)}function fr(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Go(U);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=A),n}}function pr(t,e,n){function i(){p&&as(p),l&&as(l),g=0,l=p=d=A}function r(e,n){n&&as(n),l=p=d=A,e&&(g=ga(),c=t.apply(f,u),p||l||(u=f=A))}function o(){var t=e-(ga()-h);t<=0||t>e?r(d,l):p=fs(o,t)}function s(){r(m,p)}function a(){if(u=arguments,h=ga(),f=this,d=m&&(p||!y),v===!1)var n=y&&!p;else{l||y||(g=h);var i=v-(h-g),r=i<=0||i>v;r?(l&&(l=as(l)),g=h,c=t.apply(f,u)):l||(l=fs(s,i))}return r&&p?p=as(p):p||e===v||(p=fs(o,e)),n&&(r=!0,c=t.apply(f,u)),!r||p||l||(u=f=A),c}var u,l,c,h,f,p,d,g=0,v=!1,m=!0;if("function"!=typeof t)throw new Go(U);if(e=e<0?0:+e||0,n===!0){var y=!0;m=!1}else Dr(n)&&(y=!!n.leading,v="maxWait"in n&&_s(+n.maxWait||0,e),m="trailing"in n?!!n.trailing:m);return a.cancel=i,a}function dr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Go(U);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new dr.Cache,n}function gr(t){if("function"!=typeof t)throw new Go(U);return function(){return!t.apply(this,arguments)}}function vr(t){return fr(2,t)}function mr(t,e){if("function"!=typeof t)throw new Go(U);return e=_s(e===A?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=_s(n.length-e,0),o=Ho(r);++i<r;)o[i]=n[e+i];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var s=Ho(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=o,t.apply(this,s)}}function yr(t){if("function"!=typeof t)throw new Go(U);return function(e){return t.apply(this,e)}}function xr(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Go(U);return n===!1?i=!1:Dr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),pr(t,e,{leading:i,maxWait:+e,trailing:r})}function br(t,e){return e=null==e?Eo:e,Bn(e,D,A,[t],[])}function wr(t,e,n,i){return e&&"boolean"!=typeof e&&Zn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?we(t,e,sn(n,i,1)):we(t,e)}function _r(t,e,n){return"function"==typeof e?we(t,!0,sn(e,n,1)):we(t,!0)}function Tr(t,e){return t>e}function kr(t,e){return t>=e}function Cr(t){return x(t)&&Jn(t)&&es.call(t,"callee")&&!cs.call(t,"callee")}function Sr(t){return t===!0||t===!1||x(t)&&is.call(t)==Y}function Ar(t){return x(t)&&is.call(t)==G}function Er(t){return!!t&&1===t.nodeType&&x(t)&&!zr(t)}function Lr(t){return null==t||(Jn(t)&&(La(t)||qr(t)||Cr(t)||x(t)&&Mr(t.splice))?!t.length:!za(t).length)}function Ir(t,e,n,i){n="function"==typeof n?sn(n,i,3):A;var r=n?n(t,e):A;return r===A?Pe(t,e,n):!!r}function Nr(t){return x(t)&&"string"==typeof t.message&&is.call(t)==J}function Or(t){return"number"==typeof t&&bs(t)}function Mr(t){return Dr(t)&&is.call(t)==Q}function Dr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Pr(t,e,n,i){return n="function"==typeof n?sn(n,i,3):A,Be(t,Wn(e),n)}function Rr(t){return Fr(t)&&t!=+t}function Br(t){return null!=t&&(Mr(t)?os.test(ts.call(t)):x(t)&&Rt.test(t))}function jr(t){return null===t}function Fr(t){return"number"==typeof t||x(t)&&is.call(t)==tt}function zr(t){var e;if(!x(t)||is.call(t)!=et||Cr(t)||!es.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Ie(t,function(t,e){n=e}),n===A||es.call(t,n)}function Hr(t){return Dr(t)&&is.call(t)==nt}function qr(t){return"string"==typeof t||x(t)&&is.call(t)==rt}function $r(t){return x(t)&&ni(t.length)&&!!Wt[is.call(t)]}function Wr(t){return t===A}function Ur(t,e){return t<e}function Vr(t,e){return t<=e}function Kr(t){var e=t?qs(t):0;return ni(e)?e?te(t):[]:oo(t)}function Xr(t){return xe(t,to(t))}function Yr(t,e,n){var i=Ps(t);return n&&Zn(t,e,n)&&(e=A),e?me(i,e):i}function Gr(t){return Me(t,to(t))}function Jr(t,e,n){var i=null==t?A:De(t,fi(e),e+"");return i===A?n:i}function Qr(t,e){if(null==t)return!1;var n=es.call(t,e);if(!n&&!ti(e)){if(e=fi(e),t=1==e.length?t:De(t,Xe(e,0,-1)),null==t)return!1;e=Si(e),n=es.call(t,e)}return n||ni(t.length)&&Qn(e,t.length)&&(La(t)||Cr(t))}function Zr(t,e,n){n&&Zn(t,e,n)&&(e=A);for(var i=-1,r=za(t),o=r.length,s={};++i<o;){var a=r[i],u=t[a];e?es.call(s,u)?s[u].push(a):s[u]=[a]:s[u]=a}return s}function to(t){if(null==t)return[];Dr(t)||(t=Ko(t));var e=t.length;e=e&&ni(e)&&(La(t)||Cr(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=Ho(e),s=e>0;++i<e;)o[i]=i+"";for(var a in t)s&&Qn(a,e)||"constructor"==a&&(r||!es.call(t,a))||o.push(a);return o}function eo(t){t=hi(t);for(var e=-1,n=za(t),i=n.length,r=Ho(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function no(t,e,n){var i=null==t?A:t[e];return i===A&&(null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:De(t,Xe(e,0,-1)),i=null==t?A:t[Si(e)]),i=i===A?n:i),Mr(i)?i.call(t):i}function io(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||ti(e,t)?[i]:fi(e);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var u=e[r];Dr(a)&&(r==s?a[u]=n:null==a[u]&&(a[u]=Qn(e[r+1])?[]:{})),a=a[u]}return t}function ro(t,e,n,i){var r=La(t)||$r(t);if(e=Hn(e,i,4),null==n)if(r||Dr(t)){var o=t.constructor;n=r?La(t)?new o:[]:Ps(Mr(o)?o.prototype:A)}else n={};return(r?ee:Ne)(t,function(t,i,r){return e(n,t,i,r)}),n}function oo(t){return tn(t,za(t))}function so(t){return tn(t,to(t))}function ao(t,e,n){return e=+e||0,n===A?(n=e,e=0):n=+n||0,t>=Ts(e,n)&&t<_s(e,n)}function uo(t,e,n){
n&&Zn(t,e,n)&&(e=n=A);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Ss();return Ts(t+o*(e-t+us("1e-"+((o+"").length-1))),e)}return Ve(t,e)}function lo(t){return t=l(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function co(t){return t=l(t),t&&t.replace(jt,d).replace(Nt,"")}function ho(t,e,n){t=l(t),e+="";var i=t.length;return n=n===A?i:Ts(n<0?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function fo(t){return t=l(t),t&&_t.test(t)?t.replace(bt,g):t}function po(t){return t=l(t),t&&It.test(t)?t.replace(Lt,v):t||"(?:)"}function go(t,e,n){t=l(t),e=+e;var i=t.length;if(i>=e||!bs(e))return t;var r=(e-i)/2,o=ys(r),s=vs(r);return n=Mn("",s,n),n.slice(0,o)+t+n}function vo(t,e,n){return(n?Zn(t,e,n):null==e)?e=0:e&&(e=+e),t=bo(t),Cs(t,e||(Pt.test(t)?16:10))}function mo(t,e){var n="";if(t=l(t),e=+e,e<1||!t||!bs(e))return n;do e%2&&(n+=t),e=ys(e/2),t+=t;while(e);return n}function yo(t,e,n){return t=l(t),n=null==n?0:Ts(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function xo(t,n,i){var r=e.templateSettings;i&&Zn(t,n,i)&&(n=i=A),t=l(t),n=ve(me({},i||n),r,ge);var o,s,a=ve(me({},n.imports),r.imports,ge),u=za(a),c=tn(a,u),h=0,f=n.interpolate||Ft,p="__p += '",d=Xo((n.escape||Ft).source+"|"+f.source+"|"+(f===Ct?Mt:Ft).source+"|"+(n.evaluate||Ft).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++$t+"]")+"\n";t.replace(d,function(e,n,i,r,a,u){return i||(i=r),p+=t.slice(h,u).replace(zt,m),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=u+e.length,e}),p+="';\n";var v=n.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(vt,""):p).replace(mt,"$1").replace(yt,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Ja(function(){return Wo(u,g+"return "+p).apply(A,c)});if(y.source=p,Nr(y))throw y;return y}function bo(t,e,n){var i=t;return(t=l(t))?(n?Zn(i,e,n):null==e)?t.slice(T(t),k(t)+1):(e+="",t.slice(c(t,e),h(t,e)+1)):t}function wo(t,e,n){var i=t;return t=l(t),t?(n?Zn(i,e,n):null==e)?t.slice(T(t)):t.slice(c(t,e+"")):t}function _o(t,e,n){var i=t;return t=l(t),t?(n?Zn(i,e,n):null==e)?t.slice(0,k(t)+1):t.slice(0,h(t,e+"")+1):t}function To(t,e,n){n&&Zn(t,e,n)&&(e=A);var i=j,r=F;if(null!=e)if(Dr(e)){var o="separator"in e?e.separator:o;i="length"in e?+e.length||0:i,r="omission"in e?l(e.omission):r}else i=+e||0;if(t=l(t),i>=t.length)return t;var s=i-r.length;if(s<1)return r;var a=t.slice(0,s);if(null==o)return a+r;if(Hr(o)){if(t.slice(s).search(o)){var u,c,h=t.slice(0,s);for(o.global||(o=Xo(o.source,(Dt.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)c=u.index;a=a.slice(0,null==c?s:c)}}else if(t.indexOf(o,s)!=s){var f=a.lastIndexOf(o);f>-1&&(a=a.slice(0,f))}return a+r}function ko(t){return t=l(t),t&&wt.test(t)?t.replace(xt,C):t}function Co(t,e,n){return n&&Zn(t,e,n)&&(e=A),t=l(t),t.match(e||Ht)||[]}function So(t,e,n){return n&&Zn(t,e,n)&&(e=A),x(t)?Lo(t):be(t,e)}function Ao(t){return function(){return t}}function Eo(t){return t}function Lo(t){return Fe(we(t,!0))}function Io(t,e){return ze(t,we(e,!0))}function No(t,e,n){if(null==n){var i=Dr(e),r=i?za(e):A,o=r&&r.length?Me(e,r):A;(o?o.length:i)||(o=!1,n=e,e=t,t=this)}o||(o=Me(e,za(e)));var s=!0,a=-1,u=Mr(t),l=o.length;n===!1?s=!1:Dr(n)&&"chain"in n&&(s=n.chain);for(;++a<l;){var c=o[a],h=e[c];t[c]=h,u&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(s||n){var i=t(this.__wrapped__),r=i.__actions__=te(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,le([this.value()],arguments))}}(h))}return t}function Oo(){return ie._=rs,this}function Mo(){}function Do(t){return ti(t)?$e(t):We(t)}function Po(t){return function(e){return De(t,fi(e),e+"")}}function Ro(t,e,n){n&&Zn(t,e,n)&&(e=n=A),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,r=_s(vs((e-t)/(n||1)),0),o=Ho(r);++i<r;)o[i]=t,t+=n;return o}function Bo(t,e,n){if(t=ys(t),t<1||!bs(t))return[];var i=-1,r=Ho(Ts(t,Ls));for(e=sn(e,n,1);++i<t;)i<Ls?r[i]=e(i):e(i);return r}function jo(t){var e=++ns;return l(t)+e}function Fo(t,e){return(+t||0)+(+e||0)}function zo(t,e,n){return n&&Zn(t,e,n)&&(e=A),e=Hn(e,n,3),1==e.length?pe(La(t)?t:ci(t),e):Qe(t,e)}t=t?re.defaults(ie.Object(),t,re.pick(ie,qt)):ie;var Ho=t.Array,qo=t.Date,$o=t.Error,Wo=t.Function,Uo=t.Math,Vo=t.Number,Ko=t.Object,Xo=t.RegExp,Yo=t.String,Go=t.TypeError,Jo=Ho.prototype,Qo=Ko.prototype,Zo=Yo.prototype,ts=Wo.prototype.toString,es=Qo.hasOwnProperty,ns=0,is=Qo.toString,rs=ie._,os=Xo("^"+ts.call(es).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=t.ArrayBuffer,as=t.clearTimeout,us=t.parseFloat,ls=Uo.pow,cs=Qo.propertyIsEnumerable,hs=Un(t,"Set"),fs=t.setTimeout,ps=Jo.splice,ds=t.Uint8Array,gs=Un(t,"WeakMap"),vs=Uo.ceil,ms=Un(Ko,"create"),ys=Uo.floor,xs=Un(Ho,"isArray"),bs=t.isFinite,ws=Un(Ko,"keys"),_s=Uo.max,Ts=Uo.min,ks=Un(qo,"now"),Cs=t.parseInt,Ss=Uo.random,As=Vo.NEGATIVE_INFINITY,Es=Vo.POSITIVE_INFINITY,Ls=4294967295,Is=Ls-1,Ns=Ls>>>1,Os=9007199254740991,Ms=gs&&new gs,Ds={};e.support={};e.templateSettings={escape:Tt,evaluate:kt,interpolate:Ct,variable:"",imports:{_:e}};var Ps=function(){function t(){}return function(e){if(Dr(e)){t.prototype=e;var n=new t;t.prototype=A}return n||{}}}(),Rs=fn(Ne),Bs=fn(Oe,!0),js=pn(),Fs=pn(!0),zs=Ms?function(t,e){return Ms.set(t,e),t}:Eo,Hs=Ms?function(t){return Ms.get(t)}:Mo,qs=$e("length"),$s=function(){var t=0,e=0;return function(n,i){var r=ga(),o=H-(r-e);if(e=r,o>0){if(++t>=z)return n}else t=0;return zs(n,i)}}(),Ws=mr(function(t,e){return x(t)&&Jn(t)?Te(t,Le(e,!1,!0)):[]}),Us=_n(),Vs=_n(!0),Ks=mr(function(t){for(var e=t.length,n=e,i=Ho(h),r=$n(),o=r==a,s=[];n--;){var u=t[n]=Jn(u=t[n])?u:[];i[n]=o&&u.length>=120?gn(n&&u):null}var l=t[0],c=-1,h=l?l.length:0,f=i[0];t:for(;++c<h;)if(u=l[c],(f?Jt(f,u):r(s,u,0))<0){for(var n=e;--n;){var p=i[n];if((p?Jt(p,u):r(t[n],u,0))<0)continue t}f&&f.push(u),s.push(u)}return s}),Xs=mr(function(t,e){e=Le(e);var n=ye(t,e);return Ue(t,e.sort(o)),n}),Ys=Rn(),Gs=Rn(!0),Js=mr(function(t){return Ze(Le(t,!1,!0))}),Qs=mr(function(t,e){return Jn(t)?Te(t,e):[]}),Zs=mr(Bi),ta=mr(function(t){var e=t.length,n=e>2?t[e-2]:A,i=e>1?t[e-1]:A;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):A,i=A),t.length=e,ji(t,n,i)}),ea=mr(function(t){return t=Le(t),this.thru(function(e){return Zt(La(e)?e:[hi(e)],t)})}),na=mr(function(t,e){return ye(t,Le(e))}),ia=cn(function(t,e,n){es.call(t,n)?++t[n]:t[n]=1}),ra=wn(Rs),oa=wn(Bs,!0),sa=Cn(ee,Rs),aa=Cn(ne,Bs),ua=cn(function(t,e,n){es.call(t,n)?t[n].push(e):t[n]=[e]}),la=cn(function(t,e,n){t[n]=e}),ca=mr(function(t,e,n){var i=-1,r="function"==typeof e,o=ti(e),s=Jn(t)?Ho(t.length):[];return Rs(t,function(t){var a=r?e:o&&null!=t?t[e]:A;s[++i]=a?a.apply(t,n):Gn(t,e,n)}),s}),ha=cn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fa=Nn(ce,Rs),pa=Nn(he,Bs),da=mr(function(t,e){if(null==t)return[];var n=e[2];return n&&Zn(e[0],e[1],n)&&(e.length=1),Je(t,Le(e),[])}),ga=ks||function(){return(new qo).getTime()},va=mr(function(t,e,n){var i=L;if(n.length){var r=w(n,va.placeholder);i|=D}return Bn(t,i,e,n,r)}),ma=mr(function(t,e){e=e.length?Le(e):Gr(t);for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=Bn(t[r],L,t)}return t}),ya=mr(function(t,e,n){var i=L|I;if(n.length){var r=w(n,ya.placeholder);i|=D}return Bn(e,i,t,n,r)}),xa=yn(O),ba=yn(M),wa=mr(function(t,e){return _e(t,1,e)}),_a=mr(function(t,e,n){return _e(t,e,n)}),Ta=kn(),ka=kn(!0),Ca=mr(function(t,e){if(e=Le(e),"function"!=typeof t||!oe(e,u))throw new Go(U);var n=e.length;return mr(function(i){for(var r=Ts(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)})}),Sa=In(D),Aa=In(P),Ea=mr(function(t,e){return Bn(t,B,A,A,A,Le(e))}),La=xs||function(t){return x(t)&&ni(t.length)&&is.call(t)==X},Ia=hn(He),Na=hn(function(t,e,n){return n?ve(t,e,n):me(t,e)}),Oa=xn(Na,de),Ma=xn(Ia,oi),Da=Tn(Ne),Pa=Tn(Oe),Ra=Sn(js),Ba=Sn(Fs),ja=An(Ne),Fa=An(Oe),za=ws?function(t){var e=null==t?A:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Jn(t)?li(t):Dr(t)?ws(t):[]}:li,Ha=En(!0),qa=En(),$a=mr(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ue(Le(e),Yo);return si(t,Te(to(t),e))}var n=sn(e[0],e[1],3);return ai(t,function(t,e,i){return!n(t,e,i)})}),Wa=mr(function(t,e){return null==t?{}:"function"==typeof e[0]?ai(t,sn(e[0],e[1],3)):si(t,Le(e))}),Ua=vn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Va=vn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ka=Ln(),Xa=Ln(!0),Ya=vn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ga=vn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ja=mr(function(t,e){try{return t.apply(A,e)}catch(t){return Nr(t)?t:new $o(t)}}),Qa=mr(function(t,e){return function(n){return Gn(n,t,e)}}),Za=mr(function(t,e){return function(n){return Gn(t,n,e)}}),tu=Pn("ceil"),eu=Pn("floor"),nu=bn(Tr,As),iu=bn(Ur,Es),ru=Pn("round");return e.prototype=n.prototype,i.prototype=Ps(n.prototype),i.prototype.constructor=i,r.prototype=Ps(n.prototype),r.prototype.constructor=r,ot.prototype.delete=Vt,ot.prototype.get=Kt,ot.prototype.has=Xt,ot.prototype.set=Yt,Gt.prototype.push=Qt,dr.Cache=ot,e.after=cr,e.ary=hr,e.assign=Na,e.at=na,e.before=fr,e.bind=va,e.bindAll=ma,e.bindKey=ya,e.callback=So,e.chain=Hi,e.chunk=di,e.compact=gi,e.constant=Ao,e.countBy=ia,e.create=Yr,e.curry=xa,e.curryRight=ba,e.debounce=pr,e.defaults=Oa,e.defaultsDeep=Ma,e.defer=wa,e.delay=_a,e.difference=Ws,e.drop=vi,e.dropRight=mi,e.dropRightWhile=yi,e.dropWhile=xi,e.fill=bi,e.filter=Ji,e.flatten=_i,e.flattenDeep=Ti,e.flow=Ta,e.flowRight=ka,e.forEach=sa,e.forEachRight=aa,e.forIn=Ra,e.forInRight=Ba,e.forOwn=ja,e.forOwnRight=Fa,e.functions=Gr,e.groupBy=ua,e.indexBy=la,e.initial=Ci,e.intersection=Ks,e.invert=Zr,e.invoke=ca,e.keys=za,e.keysIn=to,e.map=tr,e.mapKeys=Ha,e.mapValues=qa,e.matches=Lo,e.matchesProperty=Io,e.memoize=dr,e.merge=Ia,e.method=Qa,e.methodOf=Za,e.mixin=No,e.modArgs=Ca,e.negate=gr,e.omit=$a,e.once=vr,e.pairs=eo,e.partial=Sa,e.partialRight=Aa,e.partition=ha,e.pick=Wa,e.pluck=er,e.property=Do,e.propertyOf=Po,e.pull=Ei,e.pullAt=Xs,e.range=Ro,e.rearg=Ea,e.reject=nr,e.remove=Li,e.rest=Ii,e.restParam=mr,e.set=io,e.shuffle=rr,e.slice=Ni,e.sortBy=ar,e.sortByAll=da,e.sortByOrder=ur,e.spread=yr,e.take=Oi,e.takeRight=Mi,e.takeRightWhile=Di,e.takeWhile=Pi,e.tap=qi,e.throttle=xr,e.thru=$i,e.times=Bo,e.toArray=Kr,e.toPlainObject=Xr,e.transform=ro,e.union=Js,e.uniq=Ri,e.unzip=Bi,e.unzipWith=ji,e.values=oo,e.valuesIn=so,e.where=lr,e.without=Qs,e.wrap=br,e.xor=Fi,e.zip=Zs,e.zipObject=zi,e.zipWith=ta,e.backflow=ka,e.collect=tr,e.compose=ka,e.each=sa,e.eachRight=aa,e.extend=Na,e.iteratee=So,e.methods=Gr,e.object=zi,e.select=Ji,e.tail=Ii,e.unique=Ri,No(e,e),e.add=Fo,e.attempt=Ja,e.camelCase=Ua,e.capitalize=lo,e.ceil=tu,e.clone=wr,e.cloneDeep=_r,e.deburr=co,e.endsWith=ho,e.escape=fo,e.escapeRegExp=po,e.every=Gi,e.find=ra,e.findIndex=Us,e.findKey=Da,e.findLast=oa,e.findLastIndex=Vs,e.findLastKey=Pa,e.findWhere=Qi,e.first=wi,e.floor=eu,e.get=Jr,e.gt=Tr,e.gte=kr,e.has=Qr,e.identity=Eo,e.includes=Zi,e.indexOf=ki,e.inRange=ao,e.isArguments=Cr,e.isArray=La,e.isBoolean=Sr,e.isDate=Ar,e.isElement=Er,e.isEmpty=Lr,e.isEqual=Ir,e.isError=Nr,e.isFinite=Or,e.isFunction=Mr,e.isMatch=Pr,e.isNaN=Rr,e.isNative=Br,e.isNull=jr,e.isNumber=Fr,e.isObject=Dr,e.isPlainObject=zr,e.isRegExp=Hr,e.isString=qr,e.isTypedArray=$r,e.isUndefined=Wr,e.kebabCase=Va,e.last=Si,e.lastIndexOf=Ai,e.lt=Ur,e.lte=Vr,e.max=nu,e.min=iu,e.noConflict=Oo,e.noop=Mo,e.now=ga,e.pad=go,e.padLeft=Ka,e.padRight=Xa,e.parseInt=vo,e.random=uo,e.reduce=fa,e.reduceRight=pa,e.repeat=mo,e.result=no,e.round=ru,e.runInContext=S,e.size=or,e.snakeCase=Ya,e.some=sr,e.sortedIndex=Ys,e.sortedLastIndex=Gs,e.startCase=Ga,e.startsWith=yo,e.sum=zo,e.template=xo,e.trim=bo,e.trimLeft=wo,e.trimRight=_o,e.trunc=To,e.unescape=ko,e.uniqueId=jo,e.words=Co,e.all=Gi,e.any=sr,e.contains=Zi,e.eq=Ir,e.detect=ra,e.foldl=fa,e.foldr=pa,e.head=wi,e.include=Zi,e.inject=fa,No(e,function(){var t={};return Ne(e,function(n,i){e.prototype[i]||(t[i]=n)}),t}(),!1),e.sample=ir,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ir(e,t)}):ir(this.value())},e.VERSION=E,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){r.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new r(this);n=null==n?1:_s(ys(n)||0,0);var o=this.clone();return i?o.__takeCount__=Ts(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},r.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=W;r.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:Hn(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");r.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");r.prototype[t]=function(){return this.__filtered__?new r(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?Fe:Do;r.prototype[t]=function(t){return this[n](i(t))}}),r.prototype.compact=function(){return this.filter(Eo)},r.prototype.reject=function(t,e){return t=Hn(t,e,1),this.filter(function(e){return!t(e)})},r.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new r(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==A&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},r.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},r.prototype.toArray=function(){return this.take(Es)},Ne(r.prototype,function(t,n){var o=/^(?:filter|map|reject)|While$/.test(n),s=/^(?:first|last)$/.test(n),a=e[s?"take"+("last"==n?"Right":""):n];a&&(e.prototype[n]=function(){var e=s?[1]:arguments,n=this.__chain__,u=this.__wrapped__,l=!!this.__actions__.length,c=u instanceof r,h=e[0],f=c||La(u);f&&o&&"function"==typeof h&&1!=h.length&&(c=f=!1);var p=function(t){return s&&n?a(t,1)[0]:a.apply(A,le([t],e))},d={func:$i,args:[p],thisArg:A},g=c&&!l;if(s&&!n)return g?(u=u.clone(),u.__actions__.push(d),t.call(u)):a.call(A,this.value())[0];if(!s&&f){u=g?u:new r(this);var v=t.apply(u,e);return v.__actions__.push(d),new i(v,n)}return this.thru(p)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Zo:Jo)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?n.apply(this.value(),t):this[i](function(e){return n.apply(e,t)})}}),Ne(r.prototype,function(t,n){var i=e[n];if(i){var r=i.name,o=Ds[r]||(Ds[r]=[]);o.push({name:n,func:i})}}),Ds[On(A,I).name]=[{name:"wrapper",func:A}],r.prototype.clone=b,r.prototype.reverse=Z,r.prototype.value=it,e.prototype.chain=Wi,e.prototype.commit=Ui,e.prototype.concat=ea,e.prototype.plant=Vi,e.prototype.reverse=Ki,e.prototype.toString=Xi,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Yi,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var A,E="3.10.1",L=1,I=2,N=4,O=8,M=16,D=32,P=64,R=128,B=256,j=30,F="...",z=150,H=16,q=200,$=1,W=2,U="Expected a function",V="__lodash_placeholder__",K="[object Arguments]",X="[object Array]",Y="[object Boolean]",G="[object Date]",J="[object Error]",Q="[object Function]",Z="[object Map]",tt="[object Number]",et="[object Object]",nt="[object RegExp]",it="[object Set]",rt="[object String]",ot="[object WeakMap]",st="[object ArrayBuffer]",at="[object Float32Array]",ut="[object Float64Array]",lt="[object Int8Array]",ct="[object Int16Array]",ht="[object Int32Array]",ft="[object Uint8Array]",pt="[object Uint8ClampedArray]",dt="[object Uint16Array]",gt="[object Uint32Array]",vt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,wt=RegExp(xt.source),_t=RegExp(bt.source),Tt=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,St=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,At=/^\w*$/,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Lt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,It=RegExp(Lt.source),Nt=/[\u0300-\u036f\ufe20-\ufe23]/g,Ot=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,Pt=/^0[xX]/,Rt=/^\[object .+?Constructor\]$/,Bt=/^\d+$/,jt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ft=/($^)/,zt=/['\n\r\u2028\u2029\\]/g,Ht=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),qt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],$t=-1,Wt={};Wt[at]=Wt[ut]=Wt[lt]=Wt[ct]=Wt[ht]=Wt[ft]=Wt[pt]=Wt[dt]=Wt[gt]=!0,Wt[K]=Wt[X]=Wt[st]=Wt[Y]=Wt[G]=Wt[J]=Wt[Q]=Wt[Z]=Wt[tt]=Wt[et]=Wt[nt]=Wt[it]=Wt[rt]=Wt[ot]=!1;var Ut={};Ut[K]=Ut[X]=Ut[st]=Ut[Y]=Ut[G]=Ut[at]=Ut[ut]=Ut[lt]=Ut[ct]=Ut[ht]=Ut[tt]=Ut[et]=Ut[nt]=Ut[rt]=Ut[ft]=Ut[pt]=Ut[dt]=Ut[gt]=!0,Ut[J]=Ut[Q]=Ut[Z]=Ut[it]=Ut[ot]=!1;var Vt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Xt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Yt={function:!0,object:!0},Gt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qt=Yt[typeof e]&&e&&!e.nodeType&&e,Zt=Yt[typeof t]&&t&&!t.nodeType&&t,te=Qt&&Zt&&"object"==typeof r&&r&&r.Object&&r,ee=Yt[typeof self]&&self&&self.Object&&self,ne=Yt[typeof window]&&window&&window.Object&&window,ie=(Zt&&Zt.exports===Qt&&Qt,te||ne!==(this&&this.window)&&ne||ee||this),re=S();ie._=re,i=function(){return re}.call(e,n,e,t),!(i!==A&&(t.exports=i))}).call(this)}).call(e,n(40)(t),function(){return this}())},function(t,e,n){"use strict";var i,r;i=n(1),r={upcase:function(t){return t.charAt(0).toUpperCase()+t.substring(1)},FORMAT_DEFAULT:"default",FORMAT_THUMBNAIL:"thumbnail",after:function(t,e){return setTimeout(e,t)},elementsSorter:function(t,e){return e.model.sum-t.model.sum},relationSorter:function(t,e){return e.value-t.value}},"function"==typeof Object.freeze&&Object.freeze(r),t.exports=r},function(t,e,n){var i,r;/*!
	 * jQuery JavaScript Library v1.12.4
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-05-20T17:17Z
	 */
!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){function s(t){var e=!!t&&"length"in t&&t.length,n=mt.type(t);return"function"!==n&&!mt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function a(t,e,n){if(mt.isFunction(e))return mt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return mt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(At.test(e))return mt.filter(e,t,n);e=mt.filter(e,t)}return mt.grep(t,function(t){return mt.inArray(t,e)>-1!==n})}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function l(t){var e={};return mt.each(t.match(Mt)||[],function(t,n){e[n]=!0}),e}function c(){at.addEventListener?(at.removeEventListener("DOMContentLoaded",h),n.removeEventListener("load",h)):(at.detachEvent("onreadystatechange",h),n.detachEvent("onload",h))}function h(){(at.addEventListener||"load"===n.event.type||"complete"===at.readyState)&&(c(),mt.ready())}function f(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(jt,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Bt.test(n)?mt.parseJSON(n):n)}catch(t){}mt.data(t,e,n)}else n=void 0}return n}function p(t){var e;for(e in t)if(("data"!==e||!mt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function d(t,e,n,i){if(Rt(t)){var r,o,s=mt.expando,a=t.nodeType,u=a?mt.cache:t,l=a?t[s]:t[s]&&s;if(l&&u[l]&&(i||u[l].data)||void 0!==n||"string"!=typeof e)return l||(l=a?t[s]=st.pop()||mt.guid++:s),u[l]||(u[l]=a?{}:{toJSON:mt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?u[l]=mt.extend(u[l],e):u[l].data=mt.extend(u[l].data,e)),o=u[l],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[mt.camelCase(e)]=n),"string"==typeof e?(r=o[e],null==r&&(r=o[mt.camelCase(e)])):r=o,r}}function g(t,e,n){if(Rt(t)){var i,r,o=t.nodeType,s=o?mt.cache:t,a=o?t[mt.expando]:mt.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){mt.isArray(e)?e=e.concat(mt.map(e,mt.camelCase)):e in i?e=[e]:(e=mt.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!p(i):!mt.isEmptyObject(i))return}(n||(delete s[a].data,p(s[a])))&&(o?mt.cleanData([t],!0):gt.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function v(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return mt.css(t,e,"")},u=a(),l=n&&n[3]||(mt.cssNumber[e]?"":"px"),c=(mt.cssNumber[e]||"px"!==l&&+u)&&zt.exec(mt.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,mt.style(t,e,c+l);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function m(t){var e=Xt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function y(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||mt.nodeName(i,e)?o.push(i):mt.merge(o,y(i,e));return void 0===e||e&&mt.nodeName(t,e)?mt.merge([t],o):o}function x(t,e){for(var n,i=0;null!=(n=t[i]);i++)mt._data(n,"globalEval",!e||mt._data(e[i],"globalEval"))}function b(t){Wt.test(t.type)&&(t.defaultChecked=t.checked)}function w(t,e,n,i,r){for(var o,s,a,u,l,c,h,f=t.length,p=m(e),d=[],g=0;g<f;g++)if(s=t[g],s||0===s)if("object"===mt.type(s))mt.merge(d,s.nodeType?[s]:s);else if(Gt.test(s)){for(u=u||p.appendChild(e.createElement("div")),l=(Ut.exec(s)||["",""])[1].toLowerCase(),h=Yt[l]||Yt._default,u.innerHTML=h[1]+mt.htmlPrefilter(s)+h[2],o=h[0];o--;)u=u.lastChild;if(!gt.leadingWhitespace&&Kt.test(s)&&d.push(e.createTextNode(Kt.exec(s)[0])),!gt.tbody)for(s="table"!==l||Jt.test(s)?"<table>"!==h[1]||Jt.test(s)?0:u:u.firstChild,o=s&&s.childNodes.length;o--;)mt.nodeName(c=s.childNodes[o],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(mt.merge(d,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=p.lastChild}else d.push(e.createTextNode(s));for(u&&p.removeChild(u),gt.appendChecked||mt.grep(y(d,"input"),b),g=0;s=d[g++];)if(i&&mt.inArray(s,i)>-1)r&&r.push(s);else if(a=mt.contains(s.ownerDocument,s),u=y(p.appendChild(s),"script"),a&&x(u),n)for(o=0;s=u[o++];)Vt.test(s.type||"")&&n.push(s);return u=null,p}function _(){return!0}function T(){return!1}function k(){try{return at.activeElement}catch(t){}}function C(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)C(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=T;else if(!r)return t;return 1===o&&(s=r,r=function(t){return mt().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=mt.guid++)),t.each(function(){mt.event.add(this,e,r,i,n)})}function S(t,e){return mt.nodeName(t,"table")&&mt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function A(t){return t.type=(null!==mt.find.attr(t,"type"))+"/"+t.type,t}function E(t){var e=ue.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function L(t,e){if(1===e.nodeType&&mt.hasData(t)){var n,i,r,o=mt._data(t),s=mt._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;i<r;i++)mt.event.add(e,n,a[n][i])}s.data&&(s.data=mt.extend({},s.data))}}function I(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!gt.noCloneEvent&&e[mt.expando]){r=mt._data(e);for(i in r.events)mt.removeEvent(e,i,r.handle);e.removeAttribute(mt.expando)}"script"===n&&e.text!==t.text?(A(e).text=t.text,E(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),gt.html5Clone&&t.innerHTML&&!mt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Wt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function N(t,e,n,i){e=lt.apply([],e);var r,o,s,a,u,l,c=0,h=t.length,f=h-1,p=e[0],d=mt.isFunction(p);if(d||h>1&&"string"==typeof p&&!gt.checkClone&&ae.test(p))return t.each(function(r){var o=t.eq(r);d&&(e[0]=p.call(this,r,o.html())),N(o,e,n,i)});if(h&&(l=w(e,t[0].ownerDocument,!1,t,i),r=l.firstChild,1===l.childNodes.length&&(l=r),r||i)){for(a=mt.map(y(l,"script"),A),s=a.length;c<h;c++)o=l,c!==f&&(o=mt.clone(o,!0,!0),s&&mt.merge(a,y(o,"script"))),n.call(t[c],o,c);if(s)for(u=a[a.length-1].ownerDocument,mt.map(a,E),c=0;c<s;c++)o=a[c],Vt.test(o.type||"")&&!mt._data(o,"globalEval")&&mt.contains(u,o)&&(o.src?mt._evalUrl&&mt._evalUrl(o.src):mt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(le,"")));l=r=null}return t}function O(t,e,n){for(var i,r=e?mt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||mt.cleanData(y(i)),i.parentNode&&(n&&mt.contains(i.ownerDocument,i)&&x(y(i,"script")),i.parentNode.removeChild(i));return t}function M(t,e){var n=mt(e.createElement(t)).appendTo(e.body),i=mt.css(n[0],"display");return n.detach(),i}function D(t){var e=at,n=pe[t];return n||(n=M(t,e),"none"!==n&&n||(fe=(fe||mt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(fe[0].contentWindow||fe[0].contentDocument).document,e.write(),e.close(),n=M(t,e),fe.detach()),pe[t]=n),n}function P(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function R(t){if(t in Ee)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Ae.length;n--;)if(t=Ae[n]+e,t in Ee)return t}function B(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)i=t[s],i.style&&(o[s]=mt._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&qt(i)&&(o[s]=mt._data(i,"olddisplay",D(i.nodeName)))):(r=qt(i),(n&&"none"!==n||!r)&&mt._data(i,"olddisplay",r?n:mt.css(i,"display"))));for(s=0;s<a;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function j(t,e,n){var i=ke.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function F(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=mt.css(t,n+Ht[o],!0,r)),i?("content"===n&&(s-=mt.css(t,"padding"+Ht[o],!0,r)),"margin"!==n&&(s-=mt.css(t,"border"+Ht[o]+"Width",!0,r))):(s+=mt.css(t,"padding"+Ht[o],!0,r),"padding"!==n&&(s+=mt.css(t,"border"+Ht[o]+"Width",!0,r)));return s}function z(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ye(t),s=gt.boxSizing&&"border-box"===mt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(r=xe(t,e,o),(r<0||null==r)&&(r=t.style[e]),ge.test(r))return r;i=s&&(gt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+F(t,e,n||(s?"border":"content"),i,o)+"px"}function H(t,e,n,i,r){return new H.prototype.init(t,e,n,i,r)}function q(){return n.setTimeout(function(){Le=void 0}),Le=mt.now()}function $(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)n=Ht[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function W(t,e,n){for(var i,r=(K.tweeners[e]||[]).concat(K.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function U(t,e,n){var i,r,o,s,a,u,l,c,h=this,f={},p=t.style,d=t.nodeType&&qt(t),g=mt._data(t,"fxshow");n.queue||(a=mt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,mt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=mt.css(t,"display"),c="none"===l?mt._data(t,"olddisplay")||D(t.nodeName):l,"inline"===c&&"none"===mt.css(t,"float")&&(gt.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",gt.shrinkWrapBlocks()||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Ne.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;d=!0}f[i]=g&&g[i]||mt.style(t,i)}else l=void 0;if(mt.isEmptyObject(f))"inline"===("none"===l?D(t.nodeName):l)&&(p.display=l);else{g?"hidden"in g&&(d=g.hidden):g=mt._data(t,"fxshow",{}),o&&(g.hidden=!d),d?mt(t).show():h.done(function(){mt(t).hide()}),h.done(function(){var e;mt._removeData(t,"fxshow");for(e in f)mt.style(t,e,f[e])});for(i in f)s=W(d?g[i]:0,i,h),i in g||(g[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function V(t,e){var n,i,r,o,s;for(n in t)if(i=mt.camelCase(n),r=e[i],o=t[n],mt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=mt.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function K(t,e,n){var i,r,o=0,s=K.prefilters.length,a=mt.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=Le||q(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),o<1&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:mt.extend({},e),opts:mt.extend(!0,{specialEasing:{},easing:mt.easing._default},n),originalProperties:e,originalOptions:n,startTime:Le||q(),duration:n.duration,tweens:[],createTween:function(e,n){var i=mt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(V(c,l.opts.specialEasing);o<s;o++)if(i=K.prefilters[o].call(l,t,c,l.opts))return mt.isFunction(i.stop)&&(mt._queueHooks(l.elem,l.opts.queue).stop=mt.proxy(i.stop,i)),i;return mt.map(c,W,l),mt.isFunction(l.opts.start)&&l.opts.start.call(t,l),mt.fx.timer(mt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function X(t){return mt.attr(t,"class")||""}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Mt)||[];if(mt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function G(t,e,n,i){function r(a){var u;return o[a]=!0,mt.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},s=t===nn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function J(t,e){var n,i,r=mt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&mt.extend(!0,t,n),t}function Q(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){u.unshift(s);break}if(u[0]in n)o=u[0];else{for(s in n){if(!u[0]||t.converters[s+" "+u[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Z(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function tt(t){return t.style&&t.style.display||mt.css(t,"display")}function et(t){if(!mt.contains(t.ownerDocument||at,t))return!0;for(;t&&1===t.nodeType;){if("none"===tt(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function nt(t,e,n,i){var r;if(mt.isArray(e))mt.each(e,function(e,r){n||un.test(t)?i(t,r):nt(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==mt.type(e))i(t,e);else for(r in e)nt(t+"["+r+"]",e[r],n,i)}function it(){try{return new n.XMLHttpRequest}catch(t){}}function rt(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function ot(t){return mt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var st=[],at=n.document,ut=st.slice,lt=st.concat,ct=st.push,ht=st.indexOf,ft={},pt=ft.toString,dt=ft.hasOwnProperty,gt={},vt="1.12.4",mt=function(t,e){return new mt.fn.init(t,e)},yt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,xt=/^-ms-/,bt=/-([\da-z])/gi,wt=function(t,e){return e.toUpperCase()};mt.fn=mt.prototype={jquery:vt,constructor:mt,selector:"",length:0,toArray:function(){return ut.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ut.call(this)},pushStack:function(t){var e=mt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return mt.each(this,t)},map:function(t){return this.pushStack(mt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:st.sort,splice:st.splice},mt.extend=mt.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||mt.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],n=r[i],s!==n&&(l&&n&&(mt.isPlainObject(n)||(e=mt.isArray(n)))?(e?(e=!1,o=t&&mt.isArray(t)?t:[]):o=t&&mt.isPlainObject(t)?t:{},s[i]=mt.extend(l,o,n)):void 0!==n&&(s[i]=n));return s},mt.extend({expando:"jQuery"+(vt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===mt.type(t)},isArray:Array.isArray||function(t){return"array"===mt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!mt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==mt.type(t)||t.nodeType||mt.isWindow(t))return!1;try{if(t.constructor&&!dt.call(t,"constructor")&&!dt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!gt.ownFirst)for(e in t)return dt.call(t,e);for(e in t);return void 0===e||dt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[pt.call(t)]||"object":typeof t},globalEval:function(t){t&&mt.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(t){return t.replace(xt,"ms-").replace(bt,wt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(yt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?mt.merge(n,"string"==typeof t?[t]:t):ct.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(ht)return ht.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;o<s;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,n){var i,r,o=0,a=[];if(s(t))for(i=t.length;o<i;o++)r=e(t[o],o,n),null!=r&&a.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&a.push(r);return lt.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(r=t[e],e=t,t=r),mt.isFunction(t))return n=ut.call(arguments,2),i=function(){return t.apply(e||this,n.concat(ut.call(arguments)))},i.guid=t.guid=t.guid||mt.guid++,i},now:function(){return+new Date},support:gt}),"function"==typeof Symbol&&(mt.fn[Symbol.iterator]=st[Symbol.iterator]),mt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var _t=/*!
	 * Sizzle CSS Selector Engine v2.2.1
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2015-10-17
	 */
function(t){function e(t,e,n,i){var r,o,s,a,u,l,h,p,d=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:z)!==O&&N(e),e=e||O,D)){if(11!==g&&(l=mt.exec(t)))if(r=l[1]){if(9===g){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(d&&(s=d.getElementById(r))&&j(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!U[t+" "]&&(!P||!P.test(t))){if(1!==g)d=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(xt,"\\$&"):e.setAttribute("id",a=F),h=C(t),o=h.length,u=ft.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=u+" "+f(h[o]);p=h.join(","),d=yt.test(t)&&c(e.parentNode)||e}if(p)try{return Q.apply(n,d.querySelectorAll(p)),n}catch(t){}finally{a===F&&e.removeAttribute("id")}}}return A(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=O.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=q++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,u,l,c=[H,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[F]||(e[F]={}),u=l[e.uniqueID]||(l[e.uniqueID]={}),(a=u[i])&&a[0]===H&&a[1]===o)return c[2]=a[2];if(u[i]=c,c[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function m(t,e,n,r,o,s){return r&&!r[F]&&(r=m(r)),o&&!o[F]&&(o=m(o,s)),i(function(i,s,a,u){var l,c,h,f=[],p=[],d=s.length,m=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?m:v(m,f,t,a,u),x=n?o||(i?t:d||r)?[]:s:y;if(n&&n(y,x,a,u),r)for(l=v(x,p),r(l,[],a,u),c=l.length;c--;)(h=l[c])&&(x[p[c]]=!(y[p[c]]=h));if(i){if(o||t){if(o){for(l=[],c=x.length;c--;)(h=x[c])&&l.push(y[c]=h);o(null,x=[],l,u)}for(c=x.length;c--;)(h=x[c])&&(l=o?tt(i,h):f[c])>-1&&(i[l]=!(s[l]=h))}}else x=v(x===s?x.splice(d,x.length):x),o?o(null,s,x,u):Q.apply(s,x)})}function y(t){for(var e,n,i,r=t.length,o=_.relative[t[0].type],s=o||_.relative[" "],a=o?1:0,u=p(function(t){return t===e},s,!0),l=p(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==E)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];a<r;a++)if(n=_.relative[t[a].type])c=[p(d(c),n)];else{if(n=_.filter[t[a].type].apply(null,t[a].matches),n[F]){for(i=++a;i<r&&!_.relative[t[i].type];i++);return m(a>1&&d(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&y(t.slice(a,i)),i<r&&y(t=t.slice(i)),i<r&&f(t))}c.push(n)}return d(c)}function x(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,u,l){var c,h,f,p=0,d="0",g=i&&[],m=[],y=E,x=i||o&&_.find.TAG("*",l),b=H+=null==y?1:Math.random()||.1,w=x.length;for(l&&(E=s===O||s||l);d!==w&&null!=(c=x[d]);d++){if(o&&c){for(h=0,s||c.ownerDocument===O||(N(c),a=!D);f=t[h++];)if(f(c,s||O,a)){u.push(c);break}l&&(H=b)}r&&((c=!f&&c)&&p--,i&&g.push(c))}if(p+=d,r&&d!==p){for(h=0;f=n[h++];)f(g,m,s,a);if(i){if(p>0)for(;d--;)g[d]||m[d]||(m[d]=G.call(u));m=v(m)}Q.apply(u,m),l&&!i&&m.length>0&&p+n.length>1&&e.uniqueSort(u)}return l&&(H=b,E=y),g};return r?i(s):s}var b,w,_,T,k,C,S,A,E,L,I,N,O,M,D,P,R,B,j,F="sizzle"+1*new Date,z=t.document,H=0,q=0,$=n(),W=n(),U=n(),V=function(t,e){return t===e&&(I=!0),0},K=1<<31,X={}.hasOwnProperty,Y=[],G=Y.pop,J=Y.push,Q=Y.push,Z=Y.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,xt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_t=function(){N()};try{Q.apply(Y=Z.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(t){Q={apply:Y.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},N=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,M=O.documentElement,D=!k(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(O.getElementsByClassName),w.getById=r(function(t){return M.appendChild(t).id=F,!O.getElementsByName||!O.getElementsByName(F).length}),w.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n=e.getElementById(t);return n?[n]:[]}},_.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&D)return e.getElementsByClassName(t)},R=[],P=[],(w.qsa=vt.test(O.querySelectorAll))&&(r(function(t){M.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||P.push(".#.+[+~]")}),r(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=vt.test(B=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(t){w.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),R.push("!=",ot)}),P=P.length&&new RegExp(P.join("|")),R=R.length&&new RegExp(R.join("|")),e=vt.test(M.compareDocumentPosition),j=e||vt.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return I=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===z&&j(z,t)?-1:e===O||e.ownerDocument===z&&j(z,e)?1:L?tt(L,t)-tt(L,e):0:4&n?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!r||!o)return t===O?-1:e===O?1:r?-1:o?1:L?tt(L,t)-tt(L,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===z?-1:u[i]===z?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&N(t),n=n.replace(ct,"='$1']"),w.matchesSelector&&D&&!U[n+" "]&&(!R||!R.test(n))&&(!P||!P.test(n)))try{var i=B.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&N(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&N(t);var n=_.attrHandle[e.toLowerCase()],i=n&&X.call(_.attrHandle,e.toLowerCase())?n(t,e,!D):void 0;return void 0!==i?i:w.attributes||!D?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(I=!w.detectDuplicates,L=!w.sortStable&&t.slice(0),t.sort(V),I){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return L=null,t},T=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=T(e);return n},_=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a,x=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(f=v,h=f[F]||(f[F]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],p=l[0]===H&&l[1],x=p&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(x=p=0)||d.pop();)if(1===f.nodeType&&++x&&f===e){c[t]=[H,p,x];break}}else if(y&&(f=e,h=f[F]||(f[F]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],p=l[0]===H&&l[1],x=p),x===!1)for(;(f=++p&&f&&f[g]||(x=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++x||(y&&(h=f[F]||(f[F]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[H,x]),f!==e)););return x-=r,x===i||x%i===0&&x/i>=0}}},PSEUDO:function(t,n){var r,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(at,"$1"));return r[F]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=u(b);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,C=e.tokenize=function(t,n){var i,r,o,s,a,u,l,c=W[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=_.preFilter;a;){i&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in _.filter)!(r=pt[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):W(t,u).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=y(e[n]),o[F]?i.push(o):r.push(o);o=U(t,x(r,i)),o.selector=t}return o},A=e.select=function(t,e,n,i){var r,o,s,a,u,l="function"==typeof t&&t,h=!i&&C(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&D&&_.relative[o[1].type]){if(e=(_.find.ID(s.matches[0].replace(bt,wt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!_.relative[a=s.type]);)if((u=_.find[a])&&(i=u(s.matches[0].replace(bt,wt),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&f(o),!t)return Q.apply(n,i),n;break}}return(l||S(t,h))(i,e,!D,n,!e||yt.test(t)&&c(e.parentNode)||e),n},w.sortStable=F.split("").sort(V).join("")===F,w.detectDuplicates=!!I,N(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);mt.find=_t,mt.expr=_t.selectors,mt.expr[":"]=mt.expr.pseudos,mt.uniqueSort=mt.unique=_t.uniqueSort,mt.text=_t.getText,mt.isXMLDoc=_t.isXML,mt.contains=_t.contains;var Tt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&mt(t).is(n))break;i.push(t)}return i},kt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Ct=mt.expr.match.needsContext,St=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,At=/^.[^:#\[\.,]*$/;mt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?mt.find.matchesSelector(i,t)?[i]:[]:mt.find.matches(t,mt.grep(e,function(t){return 1===t.nodeType}))},mt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(mt(t).filter(function(){for(e=0;e<r;e++)if(mt.contains(i[e],this))return!0}));for(e=0;e<r;e++)mt.find(t,i[e],n);return n=this.pushStack(r>1?mt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&Ct.test(t)?mt(t):t||[],!1).length}});var Et,Lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,It=mt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Et,"string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Lt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof mt?e[0]:e,mt.merge(this,mt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),St.test(i[1])&&mt.isPlainObject(e))for(i in e)mt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(r=at.getElementById(i[2]),r&&r.parentNode){if(r.id!==i[2])return Et.find(t);this.length=1,this[0]=r}return this.context=at,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):mt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(mt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),mt.makeArray(t,this))};It.prototype=mt.fn,Et=mt(at);var Nt=/^(?:parents|prev(?:Until|All))/,Ot={children:!0,contents:!0,next:!0,prev:!0};mt.fn.extend({has:function(t){var e,n=mt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(mt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=Ct.test(t)||"string"!=typeof t?mt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&mt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?mt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?mt.inArray(this[0],mt(t)):mt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(mt.uniqueSort(mt.merge(this.get(),mt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),mt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,n){return Tt(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,n){return Tt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Tt(t,"previousSibling",n)},siblings:function(t){return kt((t.parentNode||{}).firstChild,t)},children:function(t){return kt(t.firstChild)},contents:function(t){return mt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:mt.merge([],t.childNodes)}},function(t,e){mt.fn[t]=function(n,i){var r=mt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=mt.filter(i,r)),this.length>1&&(Ot[t]||(r=mt.uniqueSort(r)),Nt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var Mt=/\S+/g;mt.Callbacks=function(t){t="string"==typeof t?l(t):mt.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)o[a].apply(n[0],n[1])===!1&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){mt.each(n,function(n,i){mt.isFunction(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==mt.type(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return mt.each(arguments,function(t,e){for(var n;(n=mt.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?mt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=!0,n||c.disable(),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},mt.extend({Deferred:function(t){var e=[["resolve","done",mt.Callbacks("once memory"),"resolved"],["reject","fail",mt.Callbacks("once memory"),"rejected"],["notify","progress",mt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return mt.Deferred(function(n){mt.each(e,function(e,o){var s=mt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&mt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?mt.extend(t,i):i}},r={};return i.pipe=i.then,mt.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=ut.call(arguments),s=o.length,a=1!==s||t&&mt.isFunction(t.promise)?s:0,u=1===a?t:mt.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?ut.call(arguments):r,i===e?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&mt.isFunction(o[r].promise)?o[r].promise().progress(l(r,n,e)).done(l(r,i,o)).fail(u.reject):--a;return a||u.resolveWith(i,o),u.promise()}});var Dt;mt.fn.ready=function(t){return mt.ready.promise().done(t),this},mt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?mt.readyWait++:mt.ready(!0)},ready:function(t){(t===!0?--mt.readyWait:mt.isReady)||(mt.isReady=!0,t!==!0&&--mt.readyWait>0||(Dt.resolveWith(at,[mt]),mt.fn.triggerHandler&&(mt(at).triggerHandler("ready"),mt(at).off("ready"))))}}),mt.ready.promise=function(t){if(!Dt)if(Dt=mt.Deferred(),"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll)n.setTimeout(mt.ready);else if(at.addEventListener)at.addEventListener("DOMContentLoaded",h),n.addEventListener("load",h);else{at.attachEvent("onreadystatechange",h),n.attachEvent("onload",h);var e=!1;try{e=null==n.frameElement&&at.documentElement}catch(t){}e&&e.doScroll&&!function t(){if(!mt.isReady){try{e.doScroll("left")}catch(e){return n.setTimeout(t,50)}c(),mt.ready()}}()}return Dt.promise(t)},mt.ready.promise();var Pt;for(Pt in mt(gt))break;gt.ownFirst="0"===Pt,gt.inlineBlockNeedsLayout=!1,mt(function(){var t,e,n,i;n=at.getElementsByTagName("body")[0],n&&n.style&&(e=at.createElement("div"),i=at.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",gt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=at.createElement("div");gt.deleteExpando=!0;try{delete t.test}catch(t){gt.deleteExpando=!1}t=null}();var Rt=function(t){var e=mt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||e!==!0&&t.getAttribute("classid")===e)},Bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,jt=/([A-Z])/g;mt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?mt.cache[t[mt.expando]]:t[mt.expando],!!t&&!p(t)},data:function(t,e,n){return d(t,e,n)},removeData:function(t,e){return g(t,e)},_data:function(t,e,n){return d(t,e,n,!0)},_removeData:function(t,e){return g(t,e,!0)}}),mt.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=mt.data(o),1===o.nodeType&&!mt._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=mt.camelCase(i.slice(5)),f(o,i,r[i])));mt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){mt.data(this,t)}):arguments.length>1?this.each(function(){mt.data(this,t,e)}):o?f(o,t,mt.data(o,t)):void 0},removeData:function(t){return this.each(function(){mt.removeData(this,t)})}}),mt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=mt._data(t,e),n&&(!i||mt.isArray(n)?i=mt._data(t,e,mt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=mt.queue(t,e),i=n.length,r=n.shift(),o=mt._queueHooks(t,e),s=function(){mt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return mt._data(t,n)||mt._data(t,n,{empty:mt.Callbacks("once memory").add(function(){mt._removeData(t,e+"queue"),mt._removeData(t,n)})})}}),mt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?mt.queue(this[0],t):void 0===e?this:this.each(function(){var n=mt.queue(this,t,e);mt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&mt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){mt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=mt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=mt._data(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}}),function(){var t;gt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=at.getElementsByTagName("body")[0],n&&n.style?(e=at.createElement("div"),i=at.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(at.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var Ft=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,zt=new RegExp("^(?:([+-])=|)("+Ft+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],qt=function(t,e){return t=e||t,"none"===mt.css(t,"display")||!mt.contains(t.ownerDocument,t)},$t=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===mt.type(n)){r=!0;for(a in n)$t(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,mt.isFunction(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(mt(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},Wt=/^(?:checkbox|radio)$/i,Ut=/<([\w:-]+)/,Vt=/^$|\/(?:java|ecma)script/i,Kt=/^\s+/,Xt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=at.createElement("div"),e=at.createDocumentFragment(),n=at.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",gt.leadingWhitespace=3===t.firstChild.nodeType,gt.tbody=!t.getElementsByTagName("tbody").length,gt.htmlSerialize=!!t.getElementsByTagName("link").length,gt.html5Clone="<:nav></:nav>"!==at.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),gt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",gt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),n=at.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),gt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,gt.noCloneEvent=!!t.addEventListener,t[mt.expando]=1,gt.attributes=!t.getAttribute(mt.expando)}();var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:gt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Gt=/<|&#?\w+;/,Jt=/<tbody/i;!function(){var t,e,i=at.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(gt[t]=e in n)||(i.setAttribute(e,"t"),gt[t]=i.attributes[e].expando===!1);i=null}();var Qt=/^(?:input|select|textarea)$/i,Zt=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^(?:focusinfocus|focusoutblur)$/,ne=/^([^.]*)(?:\.(.+)|)/;
mt.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,p,d,g,v=mt._data(t);if(v){for(n.handler&&(u=n,n=u.handler,r=u.selector),n.guid||(n.guid=mt.guid++),(s=v.events)||(s=v.events={}),(c=v.handle)||(c=v.handle=function(t){return"undefined"==typeof mt||t&&mt.event.triggered===t.type?void 0:mt.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(Mt)||[""],a=e.length;a--;)o=ne.exec(e[a])||[],p=g=o[1],d=(o[2]||"").split(".").sort(),p&&(l=mt.event.special[p]||{},p=(r?l.delegateType:l.bindType)||p,l=mt.event.special[p]||{},h=mt.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&mt.expr.match.needsContext.test(r),namespace:d.join(".")},u),(f=s[p])||(f=s[p]=[],f.delegateCount=0,l.setup&&l.setup.call(t,i,d,c)!==!1||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),l.add&&(l.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),mt.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,p,d,g,v=mt.hasData(t)&&mt._data(t);if(v&&(c=v.events)){for(e=(e||"").match(Mt)||[""],l=e.length;l--;)if(a=ne.exec(e[l])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p){for(h=mt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,f=c[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)s=f[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(f.splice(o,1),s.selector&&f.delegateCount--,h.remove&&h.remove.call(t,s));u&&!f.length&&(h.teardown&&h.teardown.call(t,d,v.handle)!==!1||mt.removeEvent(t,p,v.handle),delete c[p])}else for(p in c)mt.event.remove(t,p+e[l],n,i,!0);mt.isEmptyObject(c)&&(delete v.handle,mt._removeData(t,"events"))}},trigger:function(t,e,i,r){var o,s,a,u,l,c,h,f=[i||at],p=dt.call(t,"type")?t.type:t,d=dt.call(t,"namespace")?t.namespace.split("."):[];if(a=c=i=i||at,3!==i.nodeType&&8!==i.nodeType&&!ee.test(p+mt.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[mt.expando]?t:new mt.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:mt.makeArray(e,[t]),l=mt.event.special[p]||{},r||!l.trigger||l.trigger.apply(i,e)!==!1)){if(!r&&!l.noBubble&&!mt.isWindow(i)){for(u=l.delegateType||p,ee.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),c=a;c===(i.ownerDocument||at)&&f.push(c.defaultView||c.parentWindow||n)}for(h=0;(a=f[h++])&&!t.isPropagationStopped();)t.type=h>1?u:l.bindType||p,o=(mt._data(a,"events")||{})[t.type]&&mt._data(a,"handle"),o&&o.apply(a,e),o=s&&a[s],o&&o.apply&&Rt(a)&&(t.result=o.apply(a,e),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),e)===!1)&&Rt(i)&&s&&i[p]&&!mt.isWindow(i)){c=i[s],c&&(i[s]=null),mt.event.triggered=p;try{i[p]()}catch(t){}mt.event.triggered=void 0,c&&(i[s]=c)}return t.result}},dispatch:function(t){t=mt.event.fix(t);var e,n,i,r,o,s=[],a=ut.call(arguments),u=(mt._data(this,"events")||{})[t.type]||[],l=mt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=mt.event.handlers.call(this,t,u),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((mt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(i=[],n=0;n<a;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?mt(r,this).index(u)>-1:mt.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[mt.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=te.test(r)?this.mouseHooks:Zt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new mt.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||at),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||at,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(mt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return mt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=mt.extend(new mt.Event,n,{type:t,isSimulated:!0});mt.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},mt.removeEvent=at.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},mt.Event=function(t,e){return this instanceof mt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?_:T):this.type=t,e&&mt.extend(this,e),this.timeStamp=t&&t.timeStamp||mt.now(),void(this[mt.expando]=!0)):new mt.Event(t,e)},mt.Event.prototype={constructor:mt.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},mt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){mt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||mt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),gt.submit||(mt.event.special.submit={setup:function(){return!mt.nodeName(this,"form")&&void mt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=mt.nodeName(e,"input")||mt.nodeName(e,"button")?mt.prop(e,"form"):void 0;n&&!mt._data(n,"submit")&&(mt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),mt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&mt.event.simulate("submit",this.parentNode,t))},teardown:function(){return!mt.nodeName(this,"form")&&void mt.event.remove(this,"._submit")}}),gt.change||(mt.event.special.change={setup:function(){return Qt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(mt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),mt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),mt.event.simulate("change",this,t)})),!1):void mt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Qt.test(e.nodeName)&&!mt._data(e,"change")&&(mt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||mt.event.simulate("change",this.parentNode,t)}),mt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return mt.event.remove(this,"._change"),!Qt.test(this.nodeName)}}),gt.focusin||mt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){mt.event.simulate(e,t.target,mt.event.fix(t))};mt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=mt._data(i,e);r||i.addEventListener(t,n,!0),mt._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=mt._data(i,e)-1;r?mt._data(i,e,r):(i.removeEventListener(t,n,!0),mt._removeData(i,e))}}}),mt.fn.extend({on:function(t,e,n,i){return C(this,t,e,n,i)},one:function(t,e,n,i){return C(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,mt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=T),this.each(function(){mt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){mt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return mt.event.trigger(t,e,n,!0)}});var ie=/ jQuery\d+="(?:null|\d+)"/g,re=new RegExp("<(?:"+Xt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,se=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,ue=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=m(at),he=ce.appendChild(at.createElement("div"));mt.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,u=mt.contains(t.ownerDocument,t);if(gt.html5Clone||mt.isXMLDoc(t)||!re.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(he.innerHTML=t.outerHTML,he.removeChild(o=he.firstChild)),!(gt.noCloneEvent&&gt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||mt.isXMLDoc(t)))for(i=y(o),a=y(t),s=0;null!=(r=a[s]);++s)i[s]&&I(r,i[s]);if(e)if(n)for(a=a||y(t),i=i||y(o),s=0;null!=(r=a[s]);s++)L(r,i[s]);else L(t,o);return i=y(o,"script"),i.length>0&&x(i,!u&&y(t,"script")),i=a=r=null,o},cleanData:function(t,e){for(var n,i,r,o,s=0,a=mt.expando,u=mt.cache,l=gt.attributes,c=mt.event.special;null!=(n=t[s]);s++)if((e||Rt(n))&&(r=n[a],o=r&&u[r])){if(o.events)for(i in o.events)c[i]?mt.event.remove(n,i):mt.removeEvent(n,i,o.handle);u[r]&&(delete u[r],l||"undefined"==typeof n.removeAttribute?n[a]=void 0:n.removeAttribute(a),st.push(r))}}}),mt.fn.extend({domManip:N,detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return $t(this,function(t){return void 0===t?mt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||at).createTextNode(t))},null,t,arguments.length)},append:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=S(this,t);e.appendChild(t)}})},prepend:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=S(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&mt.cleanData(y(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&mt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return mt.clone(this,t,e)})},html:function(t){return $t(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(ie,""):void 0;if("string"==typeof t&&!se.test(t)&&(gt.htmlSerialize||!re.test(t))&&(gt.leadingWhitespace||!Kt.test(t))&&!Yt[(Ut.exec(t)||["",""])[1].toLowerCase()]){t=mt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(mt.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return N(this,arguments,function(e){var n=this.parentNode;mt.inArray(this,t)<0&&(mt.cleanData(y(this)),n&&n.replaceChild(e,this))},t)}}),mt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){mt.fn[t]=function(t){for(var n,i=0,r=[],o=mt(t),s=o.length-1;i<=s;i++)n=i===s?this:this.clone(!0),mt(o[i])[e](n),ct.apply(r,n.get());return this.pushStack(r)}});var fe,pe={HTML:"block",BODY:"block"},de=/^margin/,ge=new RegExp("^("+Ft+")(?!px)[a-z%]+$","i"),ve=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},me=at.documentElement;!function(){function t(){var t,c,h=at.documentElement;h.appendChild(u),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",e=r=a=!1,i=s=!0,n.getComputedStyle&&(c=n.getComputedStyle(l),e="1%"!==(c||{}).top,a="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"}).width,l.style.marginRight="50%",i="4px"===(c||{marginRight:"4px"}).marginRight,t=l.appendChild(at.createElement("div")),t.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",s=!parseFloat((n.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",o=0===l.getClientRects().length,o&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l.childNodes[0].style.borderCollapse="separate",t=l.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),h.removeChild(u)}var e,i,r,o,s,a,u=at.createElement("div"),l=at.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",gt.opacity="0.5"===l.style.opacity,gt.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",gt.clearCloneStyle="content-box"===l.style.backgroundClip,u=at.createElement("div"),u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",u.appendChild(l),gt.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,mt.extend(gt,{reliableHiddenOffsets:function(){return null==e&&t(),o},boxSizingReliable:function(){return null==e&&t(),r},pixelMarginRight:function(){return null==e&&t(),i},pixelPosition:function(){return null==e&&t(),e},reliableMarginRight:function(){return null==e&&t(),s},reliableMarginLeft:function(){return null==e&&t(),a}}))}();var ye,xe,be=/^(top|right|bottom|left)$/;n.getComputedStyle?(ye=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},xe=function(t,e,n){var i,r,o,s,a=t.style;return n=n||ye(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||mt.contains(t.ownerDocument,t)||(s=mt.style(t,e)),n&&!gt.pixelMarginRight()&&ge.test(s)&&de.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0===s?s:s+""}):me.currentStyle&&(ye=function(t){return t.currentStyle},xe=function(t,e,n){var i,r,o,s,a=t.style;return n=n||ye(t),s=n?n[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),ge.test(s)&&!be.test(e)&&(i=a.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"});var we=/alpha\([^)]*\)/i,_e=/opacity\s*=\s*([^)]*)/i,Te=/^(none|table(?!-c[ea]).+)/,ke=new RegExp("^("+Ft+")(.*)$","i"),Ce={position:"absolute",visibility:"hidden",display:"block"},Se={letterSpacing:"0",fontWeight:"400"},Ae=["Webkit","O","Moz","ms"],Ee=at.createElement("div").style;mt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=xe(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:gt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=mt.camelCase(e),u=t.style;if(e=mt.cssProps[a]||(mt.cssProps[a]=R(a)||a),s=mt.cssHooks[e]||mt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];if(o=typeof n,"string"===o&&(r=zt.exec(n))&&r[1]&&(n=v(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(mt.cssNumber[a]?"":"px")),gt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{u[e]=n}catch(t){}}},css:function(t,e,n,i){var r,o,s,a=mt.camelCase(e);return e=mt.cssProps[a]||(mt.cssProps[a]=R(a)||a),s=mt.cssHooks[e]||mt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=xe(t,e,i)),"normal"===o&&e in Se&&(o=Se[e]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o}}),mt.each(["height","width"],function(t,e){mt.cssHooks[e]={get:function(t,n,i){if(n)return Te.test(mt.css(t,"display"))&&0===t.offsetWidth?ve(t,Ce,function(){return z(t,e,i)}):z(t,e,i)},set:function(t,n,i){var r=i&&ye(t);return j(t,n,i?F(t,e,i,gt.boxSizing&&"border-box"===mt.css(t,"boxSizing",!1,r),r):0)}}}),gt.opacity||(mt.cssHooks.opacity={get:function(t,e){return _e.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=mt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===mt.trim(o.replace(we,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=we.test(o)?o.replace(we,r):o+" "+r)}}),mt.cssHooks.marginRight=P(gt.reliableMarginRight,function(t,e){if(e)return ve(t,{display:"inline-block"},xe,[t,"marginRight"])}),mt.cssHooks.marginLeft=P(gt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(xe(t,"marginLeft"))||(mt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-ve(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),mt.each({margin:"",padding:"",border:"Width"},function(t,e){mt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Ht[i]+e]=o[i]||o[i-2]||o[0];return r}},de.test(t)||(mt.cssHooks[t+e].set=j)}),mt.fn.extend({css:function(t,e){return $t(this,function(t,e,n){var i,r,o={},s=0;if(mt.isArray(e)){for(i=ye(t),r=e.length;s<r;s++)o[e[s]]=mt.css(t,e[s],!1,i);return o}return void 0!==n?mt.style(t,e,n):mt.css(t,e)},t,e,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){qt(this)?mt(this).show():mt(this).hide()})}}),mt.Tween=H,H.prototype={constructor:H,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||mt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(mt.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.options.duration?this.pos=e=mt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=mt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){mt.fx.step[t.prop]?mt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[mt.cssProps[t.prop]]&&!mt.cssHooks[t.prop]?t.elem[t.prop]=t.now:mt.style(t.elem,t.prop,t.now+t.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},mt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},mt.fx=H.prototype.init,mt.fx.step={};var Le,Ie,Ne=/^(?:toggle|show|hide)$/,Oe=/queueHooks$/;mt.Animation=mt.extend(K,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return v(n.elem,t,zt.exec(e),n),n}]},tweener:function(t,e){mt.isFunction(t)?(e=t,t=["*"]):t=t.match(Mt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(e)},prefilters:[U],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),mt.speed=function(t,e,n){var i=t&&"object"==typeof t?mt.extend({},t):{complete:n||!n&&e||mt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!mt.isFunction(e)&&e};return i.duration=mt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in mt.fx.speeds?mt.fx.speeds[i.duration]:mt.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){mt.isFunction(i.old)&&i.old.call(this),i.queue&&mt.dequeue(this,i.queue)},i},mt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(qt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=mt.isEmptyObject(t),o=mt.speed(e,n,i),s=function(){var e=K(this,mt.extend({},t),o);(r||mt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=mt.timers,s=mt._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Oe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||mt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=mt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=mt.timers,s=i?i.length:0;for(n.finish=!0,mt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),mt.each(["toggle","show","hide"],function(t,e){var n=mt.fn[e];mt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate($(e,!0),t,i,r)}}),mt.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){mt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),mt.timers=[],mt.fx.tick=function(){var t,e=mt.timers,n=0;for(Le=mt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||mt.fx.stop(),Le=void 0},mt.fx.timer=function(t){mt.timers.push(t),t()?mt.fx.start():mt.timers.pop()},mt.fx.interval=13,mt.fx.start=function(){Ie||(Ie=n.setInterval(mt.fx.tick,mt.fx.interval))},mt.fx.stop=function(){n.clearInterval(Ie),Ie=null},mt.fx.speeds={slow:600,fast:200,_default:400},mt.fn.delay=function(t,e){return t=mt.fx?mt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t,e=at.createElement("input"),n=at.createElement("div"),i=at.createElement("select"),r=i.appendChild(at.createElement("option"));n=at.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),t=n.getElementsByTagName("a")[0],t.style.cssText="top:1px",gt.getSetAttribute="t"!==n.className,gt.style=/top/.test(t.getAttribute("style")),gt.hrefNormalized="/a"===t.getAttribute("href"),gt.checkOn=!!e.value,gt.optSelected=r.selected,gt.enctype=!!at.createElement("form").enctype,i.disabled=!0,gt.optDisabled=!r.disabled,e=at.createElement("input"),e.setAttribute("value",""),gt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),gt.radioValue="t"===e.value}();var Me=/\r/g,De=/[\x20\t\r\n\f]+/g;mt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=mt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,mt(this).val()):t,null==r?r="":"number"==typeof r?r+="":mt.isArray(r)&&(r=mt.map(r,function(t){return null==t?"":t+""})),e=mt.valHooks[this.type]||mt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=mt.valHooks[r.type]||mt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Me,""):null==n?"":n)}}}),mt.extend({valHooks:{option:{get:function(t){var e=mt.find.attr(t,"value");return null!=e?e:mt.trim(mt.text(t)).replace(De," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,u=r<0?a:o?r:0;u<a;u++)if(n=i[u],(n.selected||u===r)&&(gt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!mt.nodeName(n.parentNode,"optgroup"))){if(e=mt(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=mt.makeArray(e),s=r.length;s--;)if(i=r[s],mt.inArray(mt.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),mt.each(["radio","checkbox"],function(){mt.valHooks[this]={set:function(t,e){if(mt.isArray(e))return t.checked=mt.inArray(mt(t).val(),e)>-1}},gt.checkOn||(mt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Pe,Re,Be=mt.expr.attrHandle,je=/^(?:checked|selected)$/i,Fe=gt.getSetAttribute,ze=gt.input;mt.fn.extend({attr:function(t,e){return $t(this,mt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){mt.removeAttr(this,t)})}}),mt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?mt.prop(t,e,n):(1===o&&mt.isXMLDoc(t)||(e=e.toLowerCase(),r=mt.attrHooks[e]||(mt.expr.match.bool.test(e)?Re:Pe)),void 0!==n?null===n?void mt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=mt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!gt.radioValue&&"radio"===e&&mt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(Mt);if(o&&1===t.nodeType)for(;n=o[r++];)i=mt.propFix[n]||n,mt.expr.match.bool.test(n)?ze&&Fe||!je.test(n)?t[i]=!1:t[mt.camelCase("default-"+n)]=t[i]=!1:mt.attr(t,n,""),t.removeAttribute(Fe?n:i)}}),Re={set:function(t,e,n){return e===!1?mt.removeAttr(t,n):ze&&Fe||!je.test(n)?t.setAttribute(!Fe&&mt.propFix[n]||n,n):t[mt.camelCase("default-"+n)]=t[n]=!0,n}},mt.each(mt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Be[e]||mt.find.attr;ze&&Fe||!je.test(e)?Be[e]=function(t,e,i){var r,o;return i||(o=Be[e],Be[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,Be[e]=o),r}:Be[e]=function(t,e,n){if(!n)return t[mt.camelCase("default-"+e)]?e.toLowerCase():null}}),ze&&Fe||(mt.attrHooks.value={set:function(t,e,n){return mt.nodeName(t,"input")?void(t.defaultValue=e):Pe&&Pe.set(t,e,n)}}),Fe||(Pe={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},Be.id=Be.name=Be.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},mt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Pe.set},mt.attrHooks.contenteditable={set:function(t,e,n){Pe.set(t,""!==e&&e,n)}},mt.each(["width","height"],function(t,e){mt.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),gt.style||(mt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var He=/^(?:input|select|textarea|button|object)$/i,qe=/^(?:a|area)$/i;mt.fn.extend({prop:function(t,e){return $t(this,mt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=mt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),mt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&mt.isXMLDoc(t)||(e=mt.propFix[e]||e,r=mt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=mt.find.attr(t,"tabindex");return e?parseInt(e,10):He.test(t.nodeName)||qe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),gt.hrefNormalized||mt.each(["href","src"],function(t,e){mt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),gt.optSelected||(mt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),mt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){mt.propFix[this.toLowerCase()]=this}),gt.enctype||(mt.propFix.enctype="encoding");var $e=/[\t\r\n\f]/g;mt.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(mt.isFunction(t))return this.each(function(e){mt(this).addClass(t.call(this,e,X(this)))});if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[u++];)if(r=X(n),i=1===n.nodeType&&(" "+r+" ").replace($e," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=mt.trim(i),r!==a&&mt.attr(n,"class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(mt.isFunction(t))return this.each(function(e){mt(this).removeClass(t.call(this,e,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[u++];)if(r=X(n),i=1===n.nodeType&&(" "+r+" ").replace($e," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=mt.trim(i),r!==a&&mt.attr(n,"class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):mt.isFunction(t)?this.each(function(n){mt(this).toggleClass(t.call(this,n,X(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=mt(this),o=t.match(Mt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=X(this),e&&mt._data(this,"__className__",e),mt.attr(this,"class",e||t===!1?"":mt._data(this,"__className__")||""));
})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+X(n)+" ").replace($e," ").indexOf(e)>-1)return!0;return!1}}),mt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){mt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),mt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var We=n.location,Ue=mt.now(),Ve=/\?/,Ke=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;mt.parseJSON=function(t){if(n.JSON&&n.JSON.parse)return n.JSON.parse(t+"");var e,i=null,r=mt.trim(t+"");return r&&!mt.trim(r.replace(Ke,function(t,n,r,o){return e&&n&&(i=0),0===i?t:(e=r||n,i+=!o-!r,"")}))?Function("return "+r)():mt.error("Invalid JSON: "+t)},mt.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{n.DOMParser?(i=new n.DOMParser,e=i.parseFromString(t,"text/xml")):(e=new n.ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||mt.error("Invalid XML: "+t),e};var Xe=/#.*$/,Ye=/([?&])_=[^&]*/,Ge=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Je=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qe=/^(?:GET|HEAD)$/,Ze=/^\/\//,tn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,en={},nn={},rn="*/".concat("*"),on=We.href,sn=tn.exec(on.toLowerCase())||[];mt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:on,type:"GET",isLocal:Je.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":mt.parseJSON,"text xml":mt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?J(J(t,mt.ajaxSettings),e):J(mt.ajaxSettings,t)},ajaxPrefilter:Y(en),ajaxTransport:Y(nn),ajax:function(t,e){function i(t,e,i,r){var o,h,y,x,w,T=e;2!==b&&(b=2,u&&n.clearTimeout(u),c=void 0,a=r||"",_.readyState=t>0?4:0,o=t>=200&&t<300||304===t,i&&(x=Q(f,_,i)),x=Z(f,x,_,o),o?(f.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(mt.lastModified[s]=w),w=_.getResponseHeader("etag"),w&&(mt.etag[s]=w)),204===t||"HEAD"===f.type?T="nocontent":304===t?T="notmodified":(T=x.state,h=x.data,y=x.error,o=!y)):(y=T,!t&&T||(T="error",t<0&&(t=0))),_.status=t,_.statusText=(e||T)+"",o?g.resolveWith(p,[h,T,_]):g.rejectWith(p,[_,T,y]),_.statusCode(m),m=void 0,l&&d.trigger(o?"ajaxSuccess":"ajaxError",[_,f,o?h:y]),v.fireWith(p,[_,T]),l&&(d.trigger("ajaxComplete",[_,f]),--mt.active||mt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,s,a,u,l,c,h,f=mt.ajaxSetup({},e),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?mt(p):mt.event,g=mt.Deferred(),v=mt.Callbacks("once memory"),m=f.statusCode||{},y={},x={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!h)for(h={};e=Ge.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=x[n]=x[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)m[e]=[m[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||w;return c&&c.abort(e),i(0,e),this}};if(g.promise(_).complete=v.add,_.success=_.done,_.error=_.fail,f.url=((t||f.url||on)+"").replace(Xe,"").replace(Ze,sn[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=mt.trim(f.dataType||"*").toLowerCase().match(Mt)||[""],null==f.crossDomain&&(r=tn.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===sn[1]&&r[2]===sn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=mt.param(f.data,f.traditional)),G(en,f,e,_),2===b)return _;l=mt.event&&f.global,l&&0===mt.active++&&mt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Qe.test(f.type),s=f.url,f.hasContent||(f.data&&(s=f.url+=(Ve.test(s)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Ye.test(s)?s.replace(Ye,"$1_="+Ue++):s+(Ve.test(s)?"&":"?")+"_="+Ue++)),f.ifModified&&(mt.lastModified[s]&&_.setRequestHeader("If-Modified-Since",mt.lastModified[s]),mt.etag[s]&&_.setRequestHeader("If-None-Match",mt.etag[s])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+rn+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)_.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(f.beforeSend.call(p,_,f)===!1||2===b))return _.abort();w="abort";for(o in{success:1,error:1,complete:1})_[o](f[o]);if(c=G(nn,f,e,_)){if(_.readyState=1,l&&d.trigger("ajaxSend",[_,f]),2===b)return _;f.async&&f.timeout>0&&(u=n.setTimeout(function(){_.abort("timeout")},f.timeout));try{b=1,c.send(y,i)}catch(t){if(!(b<2))throw t;i(-1,t)}}else i(-1,"No Transport");return _},getJSON:function(t,e,n){return mt.get(t,e,n,"json")},getScript:function(t,e){return mt.get(t,void 0,e,"script")}}),mt.each(["get","post"],function(t,e){mt[e]=function(t,n,i,r){return mt.isFunction(n)&&(r=r||i,i=n,n=void 0),mt.ajax(mt.extend({url:t,type:e,dataType:r,data:n,success:i},mt.isPlainObject(t)&&t))}}),mt._evalUrl=function(t){return mt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},mt.fn.extend({wrapAll:function(t){if(mt.isFunction(t))return this.each(function(e){mt(this).wrapAll(t.call(this,e))});if(this[0]){var e=mt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return mt.isFunction(t)?this.each(function(e){mt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=mt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=mt.isFunction(t);return this.each(function(n){mt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){mt.nodeName(this,"body")||mt(this).replaceWith(this.childNodes)}).end()}}),mt.expr.filters.hidden=function(t){return gt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:et(t)},mt.expr.filters.visible=function(t){return!mt.expr.filters.hidden(t)};var an=/%20/g,un=/\[\]$/,ln=/\r?\n/g,cn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;mt.param=function(t,e){var n,i=[],r=function(t,e){e=mt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=mt.ajaxSettings&&mt.ajaxSettings.traditional),mt.isArray(t)||t.jquery&&!mt.isPlainObject(t))mt.each(t,function(){r(this.name,this.value)});else for(n in t)nt(n,t[n],e,r);return i.join("&").replace(an,"+")},mt.fn.extend({serialize:function(){return mt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=mt.prop(this,"elements");return t?mt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!mt(this).is(":disabled")&&hn.test(this.nodeName)&&!cn.test(t)&&(this.checked||!Wt.test(t))}).map(function(t,e){var n=mt(this).val();return null==n?null:mt.isArray(n)?mt.map(n,function(t){return{name:e.name,value:t.replace(ln,"\r\n")}}):{name:e.name,value:n.replace(ln,"\r\n")}}).get()}}),mt.ajaxSettings.xhr=void 0!==n.ActiveXObject?function(){return this.isLocal?rt():at.documentMode>8?it():/^(get|post|head|put|delete|options)$/i.test(this.type)&&it()||rt()}:it;var fn=0,pn={},dn=mt.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var t in pn)pn[t](void 0,!0)}),gt.cors=!!dn&&"withCredentials"in dn,dn=gt.ajax=!!dn,dn&&mt.ajaxTransport(function(t){if(!t.crossDomain||gt.cors){var e;return{send:function(i,r){var o,s=t.xhr(),a=++fn;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&s.setRequestHeader(o,i[o]+"");s.send(t.hasContent&&t.data||null),e=function(n,i){var o,u,l;if(e&&(i||4===s.readyState))if(delete pn[a],e=void 0,s.onreadystatechange=mt.noop,i)4!==s.readyState&&s.abort();else{l={},o=s.status,"string"==typeof s.responseText&&(l.text=s.responseText);try{u=s.statusText}catch(t){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&r(o,u,l,s.getAllResponseHeaders())},t.async?4===s.readyState?n.setTimeout(e):s.onreadystatechange=pn[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),mt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return mt.globalEval(t),t}}}),mt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),mt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=at.head||mt("head")[0]||at.documentElement;return{send:function(i,r){e=at.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var gn=[],vn=/(=)\?(?=&|$)|\?\?/;mt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=gn.pop()||mt.expando+"_"+Ue++;return this[t]=!0,t}}),mt.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=t.jsonp!==!1&&(vn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&vn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=mt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(vn,"$1"+r):t.jsonp!==!1&&(t.url+=(Ve.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||mt.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?mt(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,gn.push(r)),s&&mt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),mt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||at;var i=St.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=w([t],e,r),r&&r.length&&mt(r).remove(),mt.merge([],i.childNodes))};var mn=mt.fn.load;mt.fn.load=function(t,e,n){if("string"!=typeof t&&mn)return mn.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=mt.trim(t.slice(a,t.length)),t=t.slice(0,a)),mt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&mt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?mt("<div>").append(mt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},mt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){mt.fn[e]=function(t){return this.on(e,t)}}),mt.expr.filters.animated=function(t){return mt.grep(mt.timers,function(e){return t===e.elem}).length},mt.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l,c=mt.css(t,"position"),h=mt(t),f={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=mt.css(t,"top"),u=mt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&mt.inArray("auto",[o,u])>-1,l?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),mt.isFunction(e)&&(e=e.call(t,n,mt.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):h.css(f)}},mt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){mt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return e=o.documentElement,mt.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=ot(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===mt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),mt.nodeName(t[0],"html")||(n=t.offset()),n.top+=mt.css(t[0],"borderTopWidth",!0),n.left+=mt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-mt.css(i,"marginTop",!0),left:e.left-n.left-mt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!mt.nodeName(t,"html")&&"static"===mt.css(t,"position");)t=t.offsetParent;return t||me})}}),mt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);mt.fn[t]=function(i){return $t(this,function(t,i,r){var o=ot(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?mt(o).scrollLeft():r,n?r:mt(o).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),mt.each(["top","left"],function(t,e){mt.cssHooks[e]=P(gt.pixelPosition,function(t,n){if(n)return n=xe(t,e),ge.test(n)?mt(t).position()[e]+"px":n})}),mt.each({Height:"height",Width:"width"},function(t,e){mt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){mt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return $t(this,function(e,n,i){var r;return mt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?mt.css(e,n,s):mt.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),mt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),mt.fn.size=function(){return this.length},mt.fn.andSelf=mt.fn.addBack,i=[],r=function(){return mt}.apply(e,i),!(void 0!==r&&(t.exports=r));var yn=n.jQuery,xn=n.$;return mt.noConflict=function(t){return n.$===mt&&(n.$=xn),t&&n.jQuery===mt&&(n.jQuery=yn),mt},o||(n.jQuery=n.$=mt),mt})},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i,r;i=[n(1),n(3),n(4)],r=function(t){return t}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(2)],r=function(t){function e(n){if(e.is(n,"function"))return x?n():t.on("raphael.DOMload",n);if(e.is(n,V))return e._engine.create[E](e,n.splice(0,3+e.is(n[0],W))).add(n);var i=Array.prototype.slice.call(arguments,0);if(e.is(i[i.length-1],"function")){var r=i.pop();return x?r.call(e._engine.create[E](e,i)):t.on("raphael.DOMload",function(){r.call(e._engine.create[E](e,i))})}return e._engine.create[E](e,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[k](i)&&(e[i]=n(t[i]));return e}function i(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function r(t,e,n){function r(){var o=Array.prototype.slice.call(arguments,0),s=o.join("␀"),a=r.cache=r.cache||{},u=r.count=r.count||[];return a[k](s)?(i(u,s),n?n(a[s]):a[s]):(u.length>=1e3&&delete a[u.shift()],u.push(s),a[s]=t[E](e,o),n?n(a[s]):a[s])}return r}function o(){return this.hex}function s(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function a(t,e,n,i,r){var o=-3*e+9*n-9*i+3*r,s=t*o+6*e-12*n+6*i;return t*s-3*e+3*n}function u(t,e,n,i,r,o,s,u,l){null==l&&(l=1),l=l>1?1:l<0?0:l;for(var c=l/2,h=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;g<h;g++){var v=c*f[g]+c,m=a(v,t,n,r,s),y=a(v,e,i,o,u),x=m*m+y*y;d+=p[g]*j.sqrt(x)}return c*d}function l(t,e,n,i,r,o,s,a,l){if(!(l<0||u(t,e,n,i,r,o,s,a)<l)){var c,h=1,f=h/2,p=h-f,d=.01;for(c=u(t,e,n,i,r,o,s,a,p);H(c-l)>d;)f/=2,p+=(c<l?1:-1)*f,c=u(t,e,n,i,r,o,s,a,p);return p}}function c(t,e,n,i,r,o,s,a){if(!(F(t,n)<z(r,s)||z(t,n)>F(r,s)||F(e,i)<z(o,a)||z(e,i)>F(o,a))){var u=(t*i-e*n)*(r-s)-(t-n)*(r*a-o*s),l=(t*i-e*n)*(o-a)-(e-i)*(r*a-o*s),c=(t-n)*(o-a)-(e-i)*(r-s);if(c){var h=u/c,f=l/c,p=+h.toFixed(2),d=+f.toFixed(2);if(!(p<+z(t,n).toFixed(2)||p>+F(t,n).toFixed(2)||p<+z(r,s).toFixed(2)||p>+F(r,s).toFixed(2)||d<+z(e,i).toFixed(2)||d>+F(e,i).toFixed(2)||d<+z(o,a).toFixed(2)||d>+F(o,a).toFixed(2)))return{x:h,y:f}}}}function h(t,n,i){var r=e.bezierBBox(t),o=e.bezierBBox(n);if(!e.isBBoxIntersect(r,o))return i?0:[];for(var s=u.apply(0,t),a=u.apply(0,n),l=F(~~(s/5),1),h=F(~~(a/5),1),f=[],p=[],d={},g=i?0:[],v=0;v<l+1;v++){var m=e.findDotsAtSegment.apply(e,t.concat(v/l));f.push({x:m.x,y:m.y,t:v/l})}for(v=0;v<h+1;v++)m=e.findDotsAtSegment.apply(e,n.concat(v/h)),p.push({x:m.x,y:m.y,t:v/h});for(v=0;v<l;v++)for(var y=0;y<h;y++){var x=f[v],b=f[v+1],w=p[y],_=p[y+1],T=H(b.x-x.x)<.001?"y":"x",k=H(_.x-w.x)<.001?"y":"x",C=c(x.x,x.y,b.x,b.y,w.x,w.y,_.x,_.y);if(C){if(d[C.x.toFixed(4)]==C.y.toFixed(4))continue;d[C.x.toFixed(4)]=C.y.toFixed(4);var S=x.t+H((C[T]-x[T])/(b[T]-x[T]))*(b.t-x.t),A=w.t+H((C[k]-w[k])/(_[k]-w[k]))*(_.t-w.t);S>=0&&S<=1.001&&A>=0&&A<=1.001&&(i?g++:g.push({x:C.x,y:C.y,t1:z(S,1),t2:z(A,1)}))}}return g}function f(t,n,i){t=e._path2curve(t),n=e._path2curve(n);for(var r,o,s,a,u,l,c,f,p,d,g=i?0:[],v=0,m=t.length;v<m;v++){var y=t[v];if("M"==y[0])r=u=y[1],o=l=y[2];else{"C"==y[0]?(p=[r,o].concat(y.slice(1)),r=p[6],o=p[7]):(p=[r,o,r,o,u,l,u,l],r=u,o=l);for(var x=0,b=n.length;x<b;x++){var w=n[x];if("M"==w[0])s=c=w[1],a=f=w[2];else{"C"==w[0]?(d=[s,a].concat(w.slice(1)),s=d[6],a=d[7]):(d=[s,a,s,a,c,f,c,f],s=c,a=f);var _=h(p,d,i);if(i)g+=_;else{for(var T=0,k=_.length;T<k;T++)_[T].segment1=v,_[T].segment2=x,_[T].bez1=p,_[T].bez2=d;g=g.concat(_)}}}}}return g}function p(t,e,n,i,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+O+this.y+O+this.width+" × "+this.height}function g(t,e,n,i,r,o){function s(t){return((h*t+c)*t+l)*t}function a(t,e){var n=u(t,e);return((d*n+p)*n+f)*n}function u(t,e){var n,i,r,o,a,u;for(r=t,u=0;u<8;u++){if(o=s(r)-t,H(o)<e)return r;if(a=(3*h*r+2*c)*r+l,H(a)<1e-6)break;r-=o/a}if(n=0,i=1,r=t,r<n)return n;if(r>i)return i;for(;n<i;){if(o=s(r),H(o-t)<e)return r;t>o?n=r:i=r,r=(i-n)/2+n}return r}var l=3*e,c=3*(i-e)-l,h=1-l-c,f=3*n,p=3*(r-n)-f,d=1-f-p;return a(t,1/(200*o))}function v(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var r in t)t[k](r)&&(i[Q(r)]=t[r],n.push(Q(r)));n.sort(ct)}this.anim=i,this.top=n[n.length-1],this.percents=n}function m(n,i,r,o,s,a){r=Q(r);var u,l,c,h,f,d,v=n.ms,m={},y={},x={};if(o)for(_=0,T=oe.length;_<T;_++){var b=oe[_];if(b.el.id==i.id&&b.anim==n){b.percent!=r?(oe.splice(_,1),c=1):l=b,i.attr(b.totalOrigin);break}}else o=+y;for(var _=0,T=n.percents.length;_<T;_++){if(n.percents[_]==r||n.percents[_]>o*n.top){r=n.percents[_],f=n.percents[_-1]||0,v=v/n.top*(r-f),h=n.percents[_+1],u=n.anim[r];break}o&&i.attr(n.anim[n.percents[_]])}if(u){if(l)l.initstatus=o,l.start=new Date-l.ms*o;else{for(var C in u)if(u[k](C)&&(nt[k](C)||i.paper.customAttributes[k](C)))switch(m[C]=i.attr(C),null==m[C]&&(m[C]=et[C]),y[C]=u[C],nt[C]){case W:x[C]=(y[C]-m[C])/v;break;case"colour":m[C]=e.getRGB(m[C]);var S=e.getRGB(y[C]);x[C]={r:(S.r-m[C].r)/v,g:(S.g-m[C].g)/v,b:(S.b-m[C].b)/v};break;case"path":var A=Dt(m[C],y[C]),E=A[1];for(m[C]=A[0],x[C]=[],_=0,T=m[C].length;_<T;_++){x[C][_]=[0];for(var I=1,N=m[C][_].length;I<N;I++)x[C][_][I]=(E[_][I]-m[C][_][I])/v}break;case"transform":var O=i._,P=Ft(O[C],y[C]);if(P)for(m[C]=P.from,y[C]=P.to,x[C]=[],x[C].real=!0,_=0,T=m[C].length;_<T;_++)for(x[C][_]=[m[C][_][0]],I=1,N=m[C][_].length;I<N;I++)x[C][_][I]=(y[C][_][I]-m[C][_][I])/v;else{var R=i.matrix||new p,B={_:{transform:O.transform},getBBox:function(){return i.getBBox(1)}};m[C]=[R.a,R.b,R.c,R.d,R.e,R.f],Bt(B,y[C]),y[C]=B._.transform,x[C]=[(B.matrix.a-R.a)/v,(B.matrix.b-R.b)/v,(B.matrix.c-R.c)/v,(B.matrix.d-R.d)/v,(B.matrix.e-R.e)/v,(B.matrix.f-R.f)/v]}break;case"csv":var j=M(u[C])[D](w),F=M(m[C])[D](w);if("clip-rect"==C)for(m[C]=F,x[C]=[],_=F.length;_--;)x[C][_]=(j[_]-m[C][_])/v;y[C]=j;break;default:for(j=[][L](u[C]),F=[][L](m[C]),x[C]=[],_=i.paper.customAttributes[C].length;_--;)x[C][_]=((j[_]||0)-(F[_]||0))/v}var z=u.easing,H=e.easing_formulas[z];if(!H)if(H=M(z).match(G),H&&5==H.length){var q=H;H=function(t){return g(t,+q[1],+q[2],+q[3],+q[4],v)}}else H=ht;if(d=u.start||n.start||+new Date,b={anim:n,percent:r,timestamp:d,start:d+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:v,easing:H,from:m,diff:x,to:y,el:i,callback:u.callback,prev:f,next:h,repeat:a||n.times,origin:i.attr(),totalOrigin:s},oe.push(b),o&&!l&&!c&&(b.stop=!0,b.start=new Date-v*o,1==oe.length))return ae();c&&(b.start=new Date-b.ms*o),1==oe.length&&se(ae)}t("raphael.anim.start."+i.id,i,n)}}function y(t){for(var e=0;e<oe.length;e++)oe[e].el.paper==t&&oe.splice(e--,1)}e.version="2.2.0",e.eve=t;var x,b,w=/[, ]+/,_={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},T=/\{(\d+)\}/g,k="hasOwnProperty",C={doc:document,win:window},S={was:Object.prototype[k].call(C.win,"Raphael"),is:C.win.Raphael},A=function(){this.ca=this.customAttributes={}},E="apply",L="concat",I="ontouchstart"in C.win||C.win.DocumentTouch&&C.doc instanceof DocumentTouch,N="",O=" ",M=String,D="split",P="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[D](O),R={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},B=M.prototype.toLowerCase,j=Math,F=j.max,z=j.min,H=j.abs,q=j.pow,$=j.PI,W="number",U="string",V="array",K=Object.prototype.toString,X=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Y={NaN:1,Infinity:1,"-Infinity":1},G=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,J=j.round,Q=parseFloat,Z=parseInt,tt=M.prototype.toUpperCase,et=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},nt=e._availableAnimAttrs={blur:W,"clip-rect":"csv",cx:W,cy:W,fill:"colour","fill-opacity":W,"font-size":W,height:W,opacity:W,path:"path",r:W,rx:W,ry:W,stroke:"colour","stroke-opacity":W,"stroke-width":W,transform:"transform",width:W,x:W,y:W},it=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,rt={hs:1,rg:1},ot=/,?([achlmqrstvxz]),?/gi,st=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,at=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ut=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,lt=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ct=function(t,e){return Q(t)-Q(e)},ht=function(t){return t},ft=e._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},pt=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},dt=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return pt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return pt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},gt=e.mapPath=function(t,e){if(!e)return t;var n,i,r,o,s,a,u;for(t=Dt(t),r=0,s=t.length;r<s;r++)for(u=t[r],o=1,a=u.length;o<a;o+=2)n=e.x(u[o],u[o+1]),i=e.y(u[o],u[o+1]),u[o]=n,u[o+1]=i;return t};if(e._g=C,e.type=C.win.SVGAngle||C.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var vt,mt=C.doc.createElement("div");if(mt.innerHTML='<v:shape adj="1"/>',vt=mt.firstChild,vt.style.behavior="url(#default#VML)",!vt||"object"!=typeof vt.adj)return e.type=N;mt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=A,e.fn=b=A.prototype=e.prototype,e._id=0,e.is=function(t,e){return e=B.call(e),"finite"==e?!Y[k](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||K.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,n,i,r,o,s){if(null==o){var a=t-i,u=n-r;return a||u?(180+180*j.atan2(-u,-a)/$+360)%360:0}return e.angle(t,n,o,s)-e.angle(i,r,o,s)},e.rad=function(t){return t%360*$/180},e.deg=function(t){return Math.round(180*t/$%360*1e3)/1e3},e.snapTo=function(t,n,i){if(i=e.is(i,"finite")?i:10,e.is(t,V)){for(var r=t.length;r--;)if(H(t[r]-n)<=i)return t[r]}else{t=+t;var o=n%t;if(o<i)return n-o;if(o>t-i)return n-o+t}return n};e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*j.random()|0,n="x"==t?e:3&e|8;return n.toString(16)});e.setWindow=function(n){t("raphael.setWindow",e,C.win,n),C.win=n,C.doc=C.win.document,e._engine.initWin&&e._engine.initWin(C.win)};var yt=function(t){if(e.vml){var n,i=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(t){n=createPopup().document.body}var s=n.createTextRange();yt=r(function(t){try{n.style.color=M(t).replace(i,N);var e=s.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(t){return"none"}})}else{var a=C.doc.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",C.doc.body.appendChild(a),yt=r(function(t){return a.style.color=t,C.doc.defaultView.getComputedStyle(a,N).getPropertyValue("color")})}return yt(t)},xt=function(){return"hsb("+[this.h,this.s,this.b]+")"},bt=function(){return"hsl("+[this.h,this.s,this.l]+")"},wt=function(){return this.hex},_t=function(t,n,i){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,n=t.g,t=t.r),null==n&&e.is(t,U)){var r=e.getRGB(t);t=r.r,n=r.g,i=r.b}return(t>1||n>1||i>1)&&(t/=255,n/=255,i/=255),[t,n,i]},Tt=function(t,n,i,r){t*=255,n*=255,i*=255;var o={r:t,g:n,b:i,hex:e.rgb(t,n,i),toString:wt};return e.is(r,"finite")&&(o.opacity=r),o};e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=wt,t},e.hsb2rgb=function(t,e,n,i){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=t.o,t=t.h),t*=360;var r,o,s,a,u;return t=t%360/60,u=n*e,a=u*(1-H(t%2-1)),r=o=s=n-u,t=~~t,r+=[u,a,0,0,a,u][t],o+=[a,u,u,a,0,0][t],s+=[0,0,a,u,u,a][t],Tt(r,o,s,i)},e.hsl2rgb=function(t,e,n,i){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var r,o,s,a,u;return t=t%360/60,u=2*e*(n<.5?n:1-n),a=u*(1-H(t%2-1)),r=o=s=n-u/2,t=~~t,r+=[u,a,0,0,a,u][t],o+=[a,u,u,a,0,0][t],s+=[0,0,a,u,u,a][t],Tt(r,o,s,i)},e.rgb2hsb=function(t,e,n){n=_t(t,e,n),t=n[0],e=n[1],n=n[2];var i,r,o,s;return o=F(t,e,n),s=o-z(t,e,n),i=0==s?null:o==t?(e-n)/s:o==e?(n-t)/s+2:(t-e)/s+4,i=(i+360)%6*60/360,r=0==s?0:s/o,{h:i,s:r,b:o,toString:xt}},e.rgb2hsl=function(t,e,n){n=_t(t,e,n),t=n[0],e=n[1],n=n[2];var i,r,o,s,a,u;return s=F(t,e,n),a=z(t,e,n),u=s-a,i=0==u?null:s==t?(e-n)/u:s==e?(n-t)/u+2:(t-e)/u+4,i=(i+360)%6*60/360,o=(s+a)/2,r=0==u?0:o<.5?u/(2*o):u/(2-2*o),{h:i,s:r,l:o,toString:bt}},e._path2string=function(){return this.join(",").replace(ot,"$1")};e._preload=function(t,e){var n=C.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,C.doc.body.removeChild(this)},n.onerror=function(){C.doc.body.removeChild(this)},C.doc.body.appendChild(n),n.src=t};e.getRGB=r(function(t){if(!t||(t=M(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!(rt[k](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=yt(t));var n,i,r,s,a,u,l=t.match(X);
return l?(l[2]&&(r=Z(l[2].substring(5),16),i=Z(l[2].substring(3,5),16),n=Z(l[2].substring(1,3),16)),l[3]&&(r=Z((a=l[3].charAt(3))+a,16),i=Z((a=l[3].charAt(2))+a,16),n=Z((a=l[3].charAt(1))+a,16)),l[4]&&(u=l[4][D](it),n=Q(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),i=Q(u[1]),"%"==u[1].slice(-1)&&(i*=2.55),r=Q(u[2]),"%"==u[2].slice(-1)&&(r*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(s=Q(u[3])),u[3]&&"%"==u[3].slice(-1)&&(s/=100)),l[5]?(u=l[5][D](it),n=Q(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),i=Q(u[1]),"%"==u[1].slice(-1)&&(i*=2.55),r=Q(u[2]),"%"==u[2].slice(-1)&&(r*=2.55),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(s=Q(u[3])),u[3]&&"%"==u[3].slice(-1)&&(s/=100),e.hsb2rgb(n,i,r,s)):l[6]?(u=l[6][D](it),n=Q(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),i=Q(u[1]),"%"==u[1].slice(-1)&&(i*=2.55),r=Q(u[2]),"%"==u[2].slice(-1)&&(r*=2.55),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(s=Q(u[3])),u[3]&&"%"==u[3].slice(-1)&&(s/=100),e.hsl2rgb(n,i,r,s)):(l={r:n,g:i,b:r,toString:o},l.hex="#"+(16777216|r|i<<8|n<<16).toString(16).slice(1),e.is(s,"finite")&&(l.opacity=s),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}},e),e.hsb=r(function(t,n,i){return e.hsb2rgb(t,n,i).hex}),e.hsl=r(function(t,n,i){return e.hsl2rgb(t,n,i).hex}),e.rgb=r(function(t,e,n){function i(t){return t+.5|0}return"#"+(16777216|i(n)|i(e)<<8|i(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=kt(t);if(n.arr)return St(n.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,V)&&e.is(t[0],V)&&(r=St(t)),r.length||M(t).replace(st,function(t,e,n){var o=[],s=e.toLowerCase();if(n.replace(ut,function(t,e){e&&o.push(+e)}),"m"==s&&o.length>2&&(r.push([e][L](o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e][L](o));else for(;o.length>=i[s]&&(r.push([e][L](o.splice(0,i[s]))),i[s]););}),r.toString=e._path2string,n.arr=St(r),r},e.parseTransformString=r(function(t){if(!t)return null;var n=[];return e.is(t,V)&&e.is(t[0],V)&&(n=St(t)),n.length||M(t).replace(at,function(t,e,i){var r=[];B.call(e);i.replace(ut,function(t,e){e&&r.push(+e)}),n.push([e][L](r))}),n.toString=e._path2string,n});var kt=function(t){var e=kt.ps=kt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[k](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};e.findDotsAtSegment=function(t,e,n,i,r,o,s,a,u){var l=1-u,c=q(l,3),h=q(l,2),f=u*u,p=f*u,d=c*t+3*h*u*n+3*l*u*u*r+p*s,g=c*e+3*h*u*i+3*l*u*u*o+p*a,v=t+2*u*(n-t)+f*(r-2*n+t),m=e+2*u*(i-e)+f*(o-2*i+e),y=n+2*u*(r-n)+f*(s-2*r+n),x=i+2*u*(o-i)+f*(a-2*o+i),b=l*t+u*n,w=l*e+u*i,_=l*r+u*s,T=l*o+u*a,k=90-180*j.atan2(v-y,m-x)/$;return(v>y||m<x)&&(k+=180),{x:d,y:g,m:{x:v,y:m},n:{x:y,y:x},start:{x:b,y:w},end:{x:_,y:T},alpha:k}},e.bezierBBox=function(t,n,i,r,o,s,a,u){e.is(t,"array")||(t=[t,n,i,r,o,s,a,u]);var l=Mt.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},e.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},e.isBBoxIntersect=function(t,n){var i=e.isPointInsideBBox;return i(n,t.x,t.y)||i(n,t.x2,t.y)||i(n,t.x,t.y2)||i(n,t.x2,t.y2)||i(t,n.x,n.y)||i(t,n.x2,n.y)||i(t,n.x,n.y2)||i(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(t,e){return f(t,e)},e.pathIntersectionNumber=function(t,e){return f(t,e,1)},e.isPointInsidePath=function(t,n,i){var r=e.pathBBox(t);return e.isPointInsideBBox(r,n,i)&&f(t,[["M",n,i],["H",r.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Ct=e.pathBBox=function(t){var e=kt(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Dt(t);for(var i,r=0,o=0,s=[],a=[],u=0,l=t.length;u<l;u++)if(i=t[u],"M"==i[0])r=i[1],o=i[2],s.push(r),a.push(o);else{var c=Mt(r,o,i[1],i[2],i[3],i[4],i[5],i[6]);s=s[L](c.min.x,c.max.x),a=a[L](c.min.y,c.max.y),r=i[5],o=i[6]}var h=z[E](0,s),f=z[E](0,a),p=F[E](0,s),d=F[E](0,a),g=p-h,v=d-f,m={x:h,y:f,x2:p,y2:d,width:g,height:v,cx:h+g/2,cy:f+v/2};return e.bbox=n(m),m},St=function(t){var i=n(t);return i.toString=e._path2string,i},At=e._pathToRelative=function(t){var n=kt(t);if(n.rel)return St(n.rel);e.is(t,V)&&e.is(t&&t[0],V)||(t=e.parsePathString(t));var i=[],r=0,o=0,s=0,a=0,u=0;"M"==t[0][0]&&(r=t[0][1],o=t[0][2],s=r,a=o,u++,i.push(["M",r,o]));for(var l=u,c=t.length;l<c;l++){var h=i[l]=[],f=t[l];if(f[0]!=B.call(f[0]))switch(h[0]=B.call(f[0]),h[0]){case"a":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+(f[6]-r).toFixed(3),h[7]=+(f[7]-o).toFixed(3);break;case"v":h[1]=+(f[1]-o).toFixed(3);break;case"m":s=f[1],a=f[2];default:for(var p=1,d=f.length;p<d;p++)h[p]=+(f[p]-(p%2?r:o)).toFixed(3)}else{h=i[l]=[],"m"==f[0]&&(s=f[1]+r,a=f[2]+o);for(var g=0,v=f.length;g<v;g++)i[l][g]=f[g]}var m=i[l].length;switch(i[l][0]){case"z":r=s,o=a;break;case"h":r+=+i[l][m-1];break;case"v":o+=+i[l][m-1];break;default:r+=+i[l][m-2],o+=+i[l][m-1]}}return i.toString=e._path2string,n.rel=St(i),i},Et=e._pathToAbsolute=function(t){var n=kt(t);if(n.abs)return St(n.abs);if(e.is(t,V)&&e.is(t&&t[0],V)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],r=0,o=0,a=0,u=0,l=0;"M"==t[0][0]&&(r=+t[0][1],o=+t[0][2],a=r,u=o,l++,i[0]=["M",r,o]);for(var c,h,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=l,d=t.length;p<d;p++){if(i.push(c=[]),h=t[p],h[0]!=tt.call(h[0]))switch(c[0]=tt.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+r),c[7]=+(h[7]+o);break;case"V":c[1]=+h[1]+o;break;case"H":c[1]=+h[1]+r;break;case"R":for(var g=[r,o][L](h.slice(1)),v=2,m=g.length;v<m;v++)g[v]=+g[v]+r,g[++v]=+g[v]+o;i.pop(),i=i[L](s(g,f));break;case"M":a=+h[1]+r,u=+h[2]+o;default:for(v=1,m=h.length;v<m;v++)c[v]=+h[v]+(v%2?r:o)}else if("R"==h[0])g=[r,o][L](h.slice(1)),i.pop(),i=i[L](s(g,f)),c=["R"][L](h.slice(-2));else for(var y=0,x=h.length;y<x;y++)c[y]=h[y];switch(c[0]){case"Z":r=a,o=u;break;case"H":r=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],u=c[c.length-1];default:r=c[c.length-2],o=c[c.length-1]}}return i.toString=e._path2string,n.abs=St(i),i},Lt=function(t,e,n,i){return[t,e,n,i,n,i]},It=function(t,e,n,i,r,o){var s=1/3,a=2/3;return[s*t+a*n,s*e+a*i,s*r+a*n,s*o+a*i,r,o]},Nt=function(t,e,n,i,o,s,a,u,l,c){var h,f=120*$/180,p=$/180*(+o||0),d=[],g=r(function(t,e,n){var i=t*j.cos(n)-e*j.sin(n),r=t*j.sin(n)+e*j.cos(n);return{x:i,y:r}});if(c)k=c[0],C=c[1],_=c[2],T=c[3];else{h=g(t,e,-p),t=h.x,e=h.y,h=g(u,l,-p),u=h.x,l=h.y;var v=(j.cos($/180*o),j.sin($/180*o),(t-u)/2),m=(e-l)/2,y=v*v/(n*n)+m*m/(i*i);y>1&&(y=j.sqrt(y),n*=y,i*=y);var x=n*n,b=i*i,w=(s==a?-1:1)*j.sqrt(H((x*b-x*m*m-b*v*v)/(x*m*m+b*v*v))),_=w*n*m/i+(t+u)/2,T=w*-i*v/n+(e+l)/2,k=j.asin(((e-T)/i).toFixed(9)),C=j.asin(((l-T)/i).toFixed(9));k=t<_?$-k:k,C=u<_?$-C:C,k<0&&(k=2*$+k),C<0&&(C=2*$+C),a&&k>C&&(k-=2*$),!a&&C>k&&(C-=2*$)}var S=C-k;if(H(S)>f){var A=C,E=u,I=l;C=k+f*(a&&C>k?1:-1),u=_+n*j.cos(C),l=T+i*j.sin(C),d=Nt(u,l,n,i,o,0,a,E,I,[C,A,_,T])}S=C-k;var N=j.cos(k),O=j.sin(k),M=j.cos(C),P=j.sin(C),R=j.tan(S/4),B=4/3*n*R,F=4/3*i*R,z=[t,e],q=[t+B*O,e-F*N],W=[u+B*P,l-F*M],U=[u,l];if(q[0]=2*z[0]-q[0],q[1]=2*z[1]-q[1],c)return[q,W,U][L](d);d=[q,W,U][L](d).join()[D](",");for(var V=[],K=0,X=d.length;K<X;K++)V[K]=K%2?g(d[K-1],d[K],p).y:g(d[K],d[K+1],p).x;return V},Ot=function(t,e,n,i,r,o,s,a,u){var l=1-u;return{x:q(l,3)*t+3*q(l,2)*u*n+3*l*u*u*r+q(u,3)*s,y:q(l,3)*e+3*q(l,2)*u*i+3*l*u*u*o+q(u,3)*a}},Mt=r(function(t,e,n,i,r,o,s,a){var u,l=r-2*n+t-(s-2*r+n),c=2*(n-t)-2*(r-n),h=t-n,f=(-c+j.sqrt(c*c-4*l*h))/2/l,p=(-c-j.sqrt(c*c-4*l*h))/2/l,d=[e,a],g=[t,s];return H(f)>"1e12"&&(f=.5),H(p)>"1e12"&&(p=.5),f>0&&f<1&&(u=Ot(t,e,n,i,r,o,s,a,f),g.push(u.x),d.push(u.y)),p>0&&p<1&&(u=Ot(t,e,n,i,r,o,s,a,p),g.push(u.x),d.push(u.y)),l=o-2*i+e-(a-2*o+i),c=2*(i-e)-2*(o-i),h=e-i,f=(-c+j.sqrt(c*c-4*l*h))/2/l,p=(-c-j.sqrt(c*c-4*l*h))/2/l,H(f)>"1e12"&&(f=.5),H(p)>"1e12"&&(p=.5),f>0&&f<1&&(u=Ot(t,e,n,i,r,o,s,a,f),g.push(u.x),d.push(u.y)),p>0&&p<1&&(u=Ot(t,e,n,i,r,o,s,a,p),g.push(u.x),d.push(u.y)),{min:{x:z[E](0,g),y:z[E](0,d)},max:{x:F[E](0,g),y:F[E](0,d)}}}),Dt=e._path2curve=r(function(t,e){var n=!e&&kt(t);if(!e&&n.curve)return St(n.curve);for(var i=Et(t),r=e&&Et(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e,n){var i,r,o={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in o)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][L](Nt[E](0,[e.x,e.y][L](t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r][L](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][L](It(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][L](It(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][L](Lt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][L](Lt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][L](Lt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][L](Lt(e.x,e.y,e.X,e.Y))}return t}),u=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)c[e]="A",r&&(h[e]="A"),t.splice(e++,0,["C"][L](n.splice(0,6)));t.splice(e,1),g=F(i.length,r&&r.length||0)}},l=function(t,e,n,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],g=F(i.length,r&&r.length||0))},c=[],h=[],f="",p="",d=0,g=F(i.length,r&&r.length||0);d<g;d++){i[d]&&(f=i[d][0]),"C"!=f&&(c[d]=f,d&&(p=c[d-1])),i[d]=a(i[d],o,p),"A"!=c[d]&&"C"==f&&(c[d]="C"),u(i,d),r&&(r[d]&&(f=r[d][0]),"C"!=f&&(h[d]=f,d&&(p=h[d-1])),r[d]=a(r[d],s,p),"A"!=h[d]&&"C"==f&&(h[d]="C"),u(r,d)),l(i,r,o,s,d),l(r,i,s,o,d);var v=i[d],m=r&&r[d],y=v.length,x=r&&m.length;o.x=v[y-2],o.y=v[y-1],o.bx=Q(v[y-4])||o.x,o.by=Q(v[y-3])||o.y,s.bx=r&&(Q(m[x-4])||s.x),s.by=r&&(Q(m[x-3])||s.y),s.x=r&&m[x-2],s.y=r&&m[x-1]}return r||(n.curve=St(i)),r?[i,r]:i},null,St),Pt=(e._parseDots=r(function(t){for(var n=[],i=0,r=t.length;i<r;i++){var o={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(s[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,s[2]&&(o.offset=s[2]+"%"),n.push(o)}for(i=1,r=n.length-1;i<r;i++)if(!n[i].offset){for(var a=Q(n[i-1].offset||0),u=0,l=i+1;l<r;l++)if(n[l].offset){u=n[l].offset;break}u||(u=100,l=r),u=Q(u);for(var c=(u-a)/(l-i+1);i<l;i++)a+=c,n[i].offset=a+"%"}return n}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Rt=(e._tofront=function(t,e){e.top!==t&&(Pt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Pt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,n){Pt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,n){Pt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var n=Ct(t),i={_:{transform:N},getBBox:function(){return n}};return Bt(i,e),i.matrix}),Bt=(e.transformPath=function(t,e){return gt(t,Rt(t,e))},e._extractTransform=function(t,n){if(null==n)return t._.transform;n=M(n).replace(/\.{3}|\u2026/g,t._.transform||N);var i=e.parseTransformString(n),r=0,o=0,s=0,a=1,u=1,l=t._,c=new p;if(l.transform=i||[],i)for(var h=0,f=i.length;h<f;h++){var d,g,v,m,y,x=i[h],b=x.length,w=M(x[0]).toLowerCase(),_=x[0]!=w,T=_?c.invert():0;"t"==w&&3==b?_?(d=T.x(0,0),g=T.y(0,0),v=T.x(x[1],x[2]),m=T.y(x[1],x[2]),c.translate(v-d,m-g)):c.translate(x[1],x[2]):"r"==w?2==b?(y=y||t.getBBox(1),c.rotate(x[1],y.x+y.width/2,y.y+y.height/2),r+=x[1]):4==b&&(_?(v=T.x(x[2],x[3]),m=T.y(x[2],x[3]),c.rotate(x[1],v,m)):c.rotate(x[1],x[2],x[3]),r+=x[1]):"s"==w?2==b||3==b?(y=y||t.getBBox(1),c.scale(x[1],x[b-1],y.x+y.width/2,y.y+y.height/2),a*=x[1],u*=x[b-1]):5==b&&(_?(v=T.x(x[3],x[4]),m=T.y(x[3],x[4]),c.scale(x[1],x[2],v,m)):c.scale(x[1],x[2],x[3],x[4]),a*=x[1],u*=x[2]):"m"==w&&7==b&&c.add(x[1],x[2],x[3],x[4],x[5],x[6]),l.dirtyT=1,t.matrix=c}t.matrix=c,l.sx=a,l.sy=u,l.deg=r,l.dx=o=c.e,l.dy=s=c.f,1==a&&1==u&&!r&&l.bbox?(l.bbox.x+=+o,l.bbox.y+=+s):l.dirtyT=1}),jt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Ft=e._equaliseTransform=function(t,n){n=M(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var i,r,o,s,a=F(t.length,n.length),u=[],l=[],c=0;c<a;c++){if(o=t[c]||jt(n[c]),s=n[c]||jt(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4]))return;for(u[c]=[],l[c]=[],i=0,r=F(o.length,s.length);i<r;i++)i in o&&(u[c][i]=o[i]),i in s&&(l[c][i]=s[i])}return{from:u,to:l}};e._getContainer=function(t,n,i,r){var o;if(o=null!=r||e.is(t,"object")?t:C.doc.getElementById(t),null!=o)return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:i}:{container:1,x:t,y:n,width:i,height:r}},e.pathToRelative=At,e._engine={},e.path2curve=Dt,e.matrix=function(t,e,n,i,r,o){return new p(t,e,n,i,r,o)},function(t){function n(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=j.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,i,r,o){var s,a,u,l,c=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,n,r],[e,i,o],[0,0,1]];for(t&&t instanceof p&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(a=0;a<3;a++){for(l=0,u=0;u<3;u++)l+=h[s][u]*f[u][a];c[s][a]=l}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new p(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new p(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0;var r=+j.cos(t).toFixed(9),o=+j.sin(t).toFixed(9);this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[M.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=j.sqrt(n(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=j.sqrt(n(r[1])),i(r[1]),t.shear/=t.scaley;var o=-r[0][1],s=r[1][1];return s<0?(t.rotate=e.deg(j.acos(s)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(j.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[D]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:N)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:N)+(e.rotate?"r"+[e.rotate,0,0]:N)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(p.prototype);for(var zt=function(){this.returnValue=!1},Ht=function(){return this.originalEvent.preventDefault()},qt=function(){this.cancelBubble=!0},$t=function(){return this.originalEvent.stopPropagation()},Wt=function(t){var e=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,n=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Ut=function(){return C.doc.addEventListener?function(t,e,n,i){var r=function(t){var e=Wt(t);return n.call(i,t,e.x,e.y)};if(t.addEventListener(e,r,!1),I&&R[e]){var o=function(e){for(var r=Wt(e),o=e,s=0,a=e.targetTouches&&e.targetTouches.length;s<a;s++)if(e.targetTouches[s].target==t){e=e.targetTouches[s],e.originalEvent=o,e.preventDefault=Ht,e.stopPropagation=$t;break}return n.call(i,e,r.x,r.y)};t.addEventListener(R[e],o,!1)}return function(){return t.removeEventListener(e,r,!1),I&&R[e]&&t.removeEventListener(R[e],o,!1),!0}}:C.doc.attachEvent?function(t,e,n,i){var r=function(t){t=t||C.win.event;var e=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,r=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||zt,t.stopPropagation=t.stopPropagation||qt,n.call(i,t,o,s)};t.attachEvent("on"+e,r);var o=function(){return t.detachEvent("on"+e,r),!0};return o}:void 0}(),Vt=[],Kt=function(e){for(var n,i=e.clientX,r=e.clientY,o=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,s=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft,a=Vt.length;a--;){if(n=Vt[a],I&&e.touches){for(var u,l=e.touches.length;l--;)if(u=e.touches[l],u.identifier==n.el._drag.id){i=u.clientX,r=u.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var c,h=n.el.node,f=h.nextSibling,p=h.parentNode,d=h.style.display;C.win.opera&&p.removeChild(h),h.style.display="none",c=n.el.paper.getElementByPoint(i,r),h.style.display=d,C.win.opera&&(f?p.insertBefore(h,f):p.appendChild(h)),c&&t("raphael.drag.over."+n.el.id,n.el,c),i+=s,r+=o,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},Xt=function(n){e.unmousemove(Kt).unmouseup(Xt);for(var i,r=Vt.length;r--;)i=Vt[r],i.el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);Vt=[]},Yt=e.el={},Gt=P.length;Gt--;)!function(t){e[t]=Yt[t]=function(n,i){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:Ut(this.shape||this.node||C.doc,t,n,i||this)})),this},e["un"+t]=Yt["un"+t]=function(n){for(var i=this.events||[],r=i.length;r--;)i[r].name!=t||!e.is(n,"undefined")&&i[r].f!=n||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}}(P[Gt]);Yt.data=function(n,i){var r=lt[this.id]=lt[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(n,"object")){for(var o in n)n[k](o)&&this.data(o,n[o]);return this}return t("raphael.data.get."+this.id,this,r[n],n),r[n]}return r[n]=i,t("raphael.data.set."+this.id,this,i,n),this},Yt.removeData=function(t){return null==t?lt[this.id]={}:lt[this.id]&&delete lt[this.id][t],this},Yt.getData=function(){return n(lt[this.id]||{})},Yt.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},Yt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Jt=[];Yt.drag=function(n,i,r,o,s,a){function u(u){(u.originalEvent||u).preventDefault();var l=u.clientX,c=u.clientY,h=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,f=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft;if(this._drag.id=u.identifier,I&&u.touches)for(var p,d=u.touches.length;d--;)if(p=u.touches[d],this._drag.id=p.identifier,p.identifier==this._drag.id){l=p.clientX,c=p.clientY;break}this._drag.x=l+f,this._drag.y=c+h,!Vt.length&&e.mousemove(Kt).mouseup(Xt),Vt.push({el:this,move_scope:o,start_scope:s,end_scope:a}),i&&t.on("raphael.drag.start."+this.id,i),n&&t.on("raphael.drag.move."+this.id,n),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,s||o||this,u.clientX+f,u.clientY+h,u)}return this._drag={},Jt.push({el:this,start:u}),this.mousedown(u),this},Yt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Yt.undrag=function(){for(var n=Jt.length;n--;)Jt[n].el==this&&(this.unmousedown(Jt[n].start),Jt.splice(n,1),t.unbind("raphael.drag.*."+this.id));!Jt.length&&e.unmousemove(Kt).unmouseup(Xt),Vt=[]},b.circle=function(t,n,i){var r=e._engine.circle(this,t||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},b.rect=function(t,n,i,r,o){var s=e._engine.rect(this,t||0,n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},b.ellipse=function(t,n,i,r){var o=e._engine.ellipse(this,t||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},b.path=function(t){t&&!e.is(t,U)&&!e.is(t[0],V)&&(t+=N);var n=e._engine.path(e.format[E](e,arguments),this);return this.__set__&&this.__set__.push(n),n},b.image=function(t,n,i,r,o){var s=e._engine.image(this,t||"about:blank",n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},b.text=function(t,n,i){var r=e._engine.text(this,t||0,n||0,M(i));return this.__set__&&this.__set__.push(r),r},b.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new le(t);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},b.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},b.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},b.setViewBox=function(t,n,i,r,o){return e._engine.setViewBox.call(this,t,n,i,r,o)},b.top=b.bottom=null,b.raphael=e;var Qt=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,a=e.top+(C.win.pageYOffset||r.scrollTop||i.scrollTop)-o,u=e.left+(C.win.pageXOffset||r.scrollLeft||i.scrollLeft)-s;return{y:a,x:u}};b.getElementByPoint=function(t,e){var n=this,i=n.canvas,r=C.doc.elementFromPoint(t,e);if(C.win.opera&&"svg"==r.tagName){var o=Qt(i),s=i.createSVGRect();s.x=t-o.x,s.y=e-o.y,s.width=s.height=1;var a=i.getIntersectionList(s,null);a.length&&(r=a[a.length-1])}if(!r)return null;for(;r.parentNode&&r!=i.parentNode&&!r.raphael;)r=r.parentNode;return r==n.canvas.parentNode&&(r=i),r=r&&r.raphael?n.getById(r.raphaelid):null},b.getElementsByBBox=function(t){var n=this.set();return this.forEach(function(i){e.isBBoxIntersect(i.getBBox(),t)&&n.push(i)}),n},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var n=this.bottom;n;){if(t.call(e,n)===!1)return this;n=n.next}return this},b.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(i){i.isPointInside(t,e)&&n.push(i)}),n},Yt.isPointInside=function(t,n){var i=this.realPath=dt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,n)},Yt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=dt[this.type](this),e.bboxwt=Ct(this.realPath),e.bboxwt.toString=d,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=dt[this.type](this)),e.bbox=Ct(gt(this.realPath,this.matrix)),e.bbox.toString=d,e.dirty=e.dirtyT=0),e.bbox)},Yt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Yt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,r=i.set(),o=this.realPath||dt[this.type](this);o=this.matrix?gt(o,this.matrix):o;for(var s=1;s<n+1;s++)r.push(i.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*s).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Zt=function(t,n,i,r,o,s,a,c,h){return null==h?u(t,n,i,r,o,s,a,c):e.findDotsAtSegment(t,n,i,r,o,s,a,c,l(t,n,i,r,o,s,a,c,h))},te=function(t,n){return function(i,r,o){i=Dt(i);for(var s,a,u,l,c,h="",f={},p=0,d=0,g=i.length;d<g;d++){if(u=i[d],"M"==u[0])s=+u[1],a=+u[2];else{if(l=Zt(s,a,u[1],u[2],u[3],u[4],u[5],u[6]),p+l>r){if(n&&!f.start){if(c=Zt(s,a,u[1],u[2],u[3],u[4],u[5],u[6],r-p),h+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return h;f.start=h,h=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,u[5],u[6]].join(),p+=l,s=+u[5],a=+u[6];continue}if(!t&&!n)return c=Zt(s,a,u[1],u[2],u[3],u[4],u[5],u[6],r-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=l,s=+u[5],a=+u[6]}h+=u.shift()+u}return f.end=h,c=t?p:n?f:e.findDotsAtSegment(s,a,u[0],u[1],u[2],u[3],u[4],u[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},ee=te(1),ne=te(),ie=te(0,1);e.getTotalLength=ee,e.getPointAtLength=ne,e.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return ie(t,e).end;var i=ie(t,n,1);return e?ie(i,e).end:i},Yt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():ee(t)},Yt.getPointAtLength=function(t){var e=this.getPath();if(e)return ne(e,t)},Yt.getPath=function(){var t,n=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(t=n(this)),t},Yt.getSubpath=function(t,n){var i=this.getPath();if(i)return e.getSubpath(i,t,n)};var re=e.easing_formulas={linear:function(t){return t},"<":function(t){return q(t,1.7)},">":function(t){return q(t,.48)},"<>":function(t){var e=.48-t/1.04,n=j.sqrt(.1734+e*e),i=n-e,r=q(H(i),1/3)*(i<0?-1:1),o=-n-e,s=q(H(o),1/3)*(o<0?-1:1),a=r+s+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:q(2,-10*t)*j.sin((t-.075)*(2*$)/.3)+1},bounce:function(t){var e,n=7.5625,i=2.75;return t<1/i?e=n*t*t:t<2/i?(t-=1.5/i,e=n*t*t+.75):t<2.5/i?(t-=2.25/i,e=n*t*t+.9375):(t-=2.625/i,e=n*t*t+.984375),e}};re.easeIn=re["ease-in"]=re["<"],re.easeOut=re["ease-out"]=re[">"],re.easeInOut=re["ease-in-out"]=re["<>"],re["back-in"]=re.backIn,re["back-out"]=re.backOut;var oe=[],se=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},ae=function(){for(var n=+new Date,i=0;i<oe.length;i++){var r=oe[i];if(!r.el.removed&&!r.paused){var o,s,a=n-r.start,u=r.ms,l=r.easing,c=r.from,h=r.diff,f=r.to,p=(r.t,r.el),d={},g={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*u,r.status=r.initstatus,delete r.initstatus,r.stop&&oe.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/u))/r.anim.top,!(a<0))if(a<u){var v=l(a/u);for(var y in c)if(c[k](y)){switch(nt[y]){case W:o=+c[y]+v*u*h[y];break;case"colour":o="rgb("+[ue(J(c[y].r+v*u*h[y].r)),ue(J(c[y].g+v*u*h[y].g)),ue(J(c[y].b+v*u*h[y].b))].join(",")+")";break;case"path":o=[];for(var x=0,b=c[y].length;x<b;x++){o[x]=[c[y][x][0]];for(var w=1,_=c[y][x].length;w<_;w++)o[x][w]=+c[y][x][w]+v*u*h[y][x][w];o[x]=o[x].join(O)}o=o.join(O);break;case"transform":if(h[y].real)for(o=[],x=0,b=c[y].length;x<b;x++)for(o[x]=[c[y][x][0]],w=1,_=c[y][x].length;w<_;w++)o[x][w]=c[y][x][w]+v*u*h[y][x][w];else{var T=function(t){return+c[y][t]+v*u*h[y][t]};o=[["m",T(0),T(1),T(2),T(3),T(4),T(5)]]}break;case"csv":if("clip-rect"==y)for(o=[],x=4;x--;)o[x]=+c[y][x]+v*u*h[y][x];break;default:var C=[][L](c[y]);for(o=[],x=p.paper.customAttributes[y].length;x--;)o[x]=+C[x]+v*u*h[y][x]}d[y]=o}p.attr(d),function(e,n,i){setTimeout(function(){t("raphael.anim.frame."+e,n,i)})}(p.id,p,r.anim)}else{if(function(n,i,r){setTimeout(function(){t("raphael.anim.frame."+i.id,i,r),t("raphael.anim.finish."+i.id,i,r),e.is(n,"function")&&n.call(i)})}(r.callback,p,r.anim),p.attr(f),oe.splice(i--,1),r.repeat>1&&!r.next){for(s in f)f[k](s)&&(g[s]=r.totalOrigin[s]);r.el.attr(g),m(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&m(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}oe.length&&se(ae)},ue=function(t){return t>255?255:t<0?0:t};Yt.animateWith=function(t,n,i,r,o,s){var a=this;if(a.removed)return s&&s.call(a),a;var u=i instanceof v?i:e.animation(i,r,o,s);m(u,a,u.percents[0],null,a.attr());for(var l=0,c=oe.length;l<c;l++)if(oe[l].anim==n&&oe[l].el==t){oe[c-1].start=oe[l].start;break}return a},Yt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(t){var e=new v(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},v.prototype.repeat=function(t){var e=new v(this.anim,this.ms);return e.del=this.del,e.times=j.floor(F(t,0))||1,e},e.animation=function(t,n,i,r){if(t instanceof v)return t;!e.is(i,"function")&&i||(r=r||i||null,i=null),t=Object(t),n=+n||0;var o,s,a={};for(s in t)t[k](s)&&Q(s)!=s&&Q(s)+"%"!=s&&(o=!0,a[s]=t[s]);if(o)return i&&(a.easing=i),r&&(a.callback=r),new v({100:a},n);if(r){var u=0;for(var l in t){var c=Z(l);t[k](l)&&c>u&&(u=c)}u+="%",!t[u].callback&&(t[u].callback=r)}return new v(t,n)},Yt.animate=function(t,n,i,r){var o=this;if(o.removed)return r&&r.call(o),o;var s=t instanceof v?t:e.animation(t,n,i,r);return m(s,o,s.percents[0],null,o.attr()),o},Yt.setTime=function(t,e){return t&&null!=e&&this.status(t,z(e,t.ms)/t.ms),this},Yt.status=function(t,e){var n,i,r=[],o=0;if(null!=e)return m(t,this,-1,z(e,1)),this;for(n=oe.length;o<n;o++)if(i=oe[o],i.el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},Yt.pause=function(e){for(var n=0;n<oe.length;n++)oe[n].el.id!=this.id||e&&oe[n].anim!=e||t("raphael.anim.pause."+this.id,this,oe[n].anim)!==!1&&(oe[n].paused=!0);return this},Yt.resume=function(e){for(var n=0;n<oe.length;n++)if(oe[n].el.id==this.id&&(!e||oe[n].anim==e)){var i=oe[n];t("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},Yt.stop=function(e){for(var n=0;n<oe.length;n++)oe[n].el.id!=this.id||e&&oe[n].anim!=e||t("raphael.anim.stop."+this.id,this,oe[n].anim)!==!1&&oe.splice(n--,1);return this},t.on("raphael.remove",y),t.on("raphael.clear",y),Yt.toString=function(){return"Raphaël’s object"};var le=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=Yt.constructor&&t[e].constructor!=le||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ce=le.prototype;ce.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)t=arguments[n],!t||t.constructor!=Yt.constructor&&t.constructor!=le||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},ce.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ce.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(t.call(e,this.items[n],n)===!1)return this;return this};for(var he in Yt)Yt[k](he)&&(ce[he]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][E](n,e)})}}(he));return ce.attr=function(t,n){if(t&&e.is(t,V)&&e.is(t[0],"object"))for(var i=0,r=t.length;i<r;i++)this.items[i].attr(t[i]);else for(var o=0,s=this.items.length;o<s;o++)this.items[o].attr(t,n);return this},ce.clear=function(){for(;this.length;)this.pop()},ce.splice=function(t,e,n){t=t<0?F(this.length+t,0):t,e=F(0,z(this.length-t,e));var i,r=[],o=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<e;i++)o.push(this[t+i]);
for(;i<this.length-t;i++)r.push(this[t+i]);var a=s.length;for(i=0;i<a+r.length;i++)this.items[t+i]=this[t+i]=i<a?s[i]:r[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new le(o)},ce.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},ce.animate=function(t,n,i,r){(e.is(i,"function")||!i)&&(r=i||null);var o,s,a=this.items.length,u=a,l=this;if(!a)return this;r&&(s=function(){!--a&&r.call(l)}),i=e.is(i,U)?i:s;var c=e.animation(t,n,i,s);for(o=this.items[--u].animate(c);u--;)this.items[u]&&!this.items[u].removed&&this.items[u].animateWith(o,c,c),this.items[u]&&!this.items[u].removed||a--;return this},ce.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ce.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return t=z[E](0,t),e=z[E](0,e),n=F[E](0,n),i=F[E](0,i),{x:t,y:e,x2:n,y2:i,width:n-t,height:i-e}},ce.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},ce.toString=function(){return"Raphaël‘s set"},ce.glow=function(t){var e=this.paper.set();return this.forEach(function(n,i){var r=n.glow(t);null!=r&&r.forEach(function(t,n){e.push(t)})}),e},ce.isPointInside=function(t,e){var n=!1;return this.forEach(function(i){if(i.isPointInside(t,e))return n=!0,!1}),n},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[k](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg){e.face["units-per-em"]=Z(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[k](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var s in o.k)o[k](s)&&(e.glyphs[r].k[s]=o.k[s])}}return t},b.getFont=function(t,n,i,r){if(r=r||"normal",i=i||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var o=e.fonts[t];if(!o){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,N)+"(\\s|$)","i");for(var a in e.fonts)if(e.fonts[k](a)&&s.test(a)){o=e.fonts[a];break}}var u;if(o)for(var l=0,c=o.length;l<c&&(u=o[l],u.face["font-weight"]!=n||u.face["font-style"]!=i&&u.face["font-style"]||u.face["font-stretch"]!=r);l++);return u}},b.print=function(t,n,i,r,o,s,a,u){s=s||"middle",a=F(z(a||0,1),-1),u=F(z(u||1,3),1);var l,c=M(i)[D](N),h=0,f=0,p=N;if(e.is(r,"string")&&(r=this.getFont(r)),r){l=(o||16)/r.face["units-per-em"];for(var d=r.face.bbox[D](w),g=+d[0],v=d[3]-d[1],m=0,y=+d[1]+("baseline"==s?v+ +r.face.descent:v/2),x=0,b=c.length;x<b;x++){if("\n"==c[x])h=0,T=0,f=0,m+=v*u;else{var _=f&&r.glyphs[c[x-1]]||{},T=r.glyphs[c[x]];h+=f?(_.w||r.w)+(_.k&&_.k[c[x]]||0)+r.w*a:0,f=1}T&&T.d&&(p+=e.transformPath(T.d,["t",h*l,m*l,"s",l,l,g,y,"t",(t-g)/l,(n-y)/l]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},b.add=function(t){if(e.is(t,"array"))for(var n,i=this.set(),r=0,o=t.length;r<o;r++)n=t[r]||{},_[k](n.type)&&i.push(this[n.type]().attr(n));return i},e.format=function(t,n){var i=e.is(n,V)?[0][L](n):arguments;return t&&e.is(t,U)&&i.length-1&&(t=t.replace(T,function(t,e){return null==i[++e]?N:i[e]})),t||N},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,i){var r=i;return n.replace(e,function(t,e,n,i,o){e=e||i,r&&(e in r&&(r=r[e]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==i?t:r)+""};return function(e,i){return String(e).replace(t,function(t,e){return n(t,e,i)})}}(),e.ninja=function(){if(S.was)C.win.Raphael=S.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=ce,t.on("raphael.DOMload",function(){x=!0}),function(t,n,i){function r(){/in/.test(t.readyState)?setTimeout(r,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(n,i=function(){t.removeEventListener(n,i,!1),t.readyState="complete"},!1),t.readyState="loading"),r()}(document,"DOMContentLoaded"),e}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;!function(n){var o,s,a="0.5.0",u="hasOwnProperty",l=/[\.\/]/,c=/\s*,\s*/,h="*",f=function(t,e){return t-e},p={n:{}},d=function(){for(var t=0,e=this.length;t<e;t++)if("undefined"!=typeof this[t])return this[t]},g=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},v=Object.prototype.toString,m=String,y=Array.isArray||function(t){return t instanceof Array||"[object Array]"==v.call(t)};eve=function(t,e){var n,i=s,r=Array.prototype.slice.call(arguments,2),a=eve.listeners(t),u=0,l=[],c={},h=[],p=o;h.firstDefined=d,h.lastDefined=g,o=t,s=0;for(var v=0,m=a.length;v<m;v++)"zIndex"in a[v]&&(l.push(a[v].zIndex),a[v].zIndex<0&&(c[a[v].zIndex]=a[v]));for(l.sort(f);l[u]<0;)if(n=c[l[u++]],h.push(n.apply(e,r)),s)return s=i,h;for(v=0;v<m;v++)if(n=a[v],"zIndex"in n)if(n.zIndex==l[u]){if(h.push(n.apply(e,r)),s)break;do if(u++,n=c[l[u]],n&&h.push(n.apply(e,r)),s)break;while(n)}else c[n.zIndex]=n;else if(h.push(n.apply(e,r)),s)break;return s=i,o=p,h},eve._events=p,eve.listeners=function(t){var e,n,i,r,o,s,a,u,c=y(t)?t:t.split(l),f=p,d=[f],g=[];for(r=0,o=c.length;r<o;r++){for(u=[],s=0,a=d.length;s<a;s++)for(f=d[s].n,n=[f[c[r]],f[h]],i=2;i--;)e=n[i],e&&(u.push(e),g=g.concat(e.f||[]));d=u}return g},eve.separator=function(t){t?(t=m(t).replace(/(?=[\.\^\]\[\-])/g,"\\"),t="["+t+"]",l=new RegExp(t)):l=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=y(t)?y(t[0])?t:[t]:m(t).split(c),i=0,r=n.length;i<r;i++)!function(t){for(var n,i=y(t)?t:m(t).split(l),r=p,o=0,s=i.length;o<s;o++)r=r.n,r=r.hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}});for(r.f=r.f||[],o=0,s=r.f.length;o<s;o++)if(r.f[o]==e){n=!0;break}!n&&r.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){s=1},eve.nt=function(t){var e=y(o)?o.join("."):o;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return y(o)?o:o.split(l)},eve.off=eve.unbind=function(t,e){if(!t)return void(eve._events=p={n:{}});var n=y(t)?y(t[0])?t:[t]:m(t).split(c);if(n.length>1)for(var i=0,r=n.length;i<r;i++)eve.off(n[i],e);else{n=y(t)?t:m(t).split(l);var o,s,a,i,r,f,d,g=[p];for(i=0,r=n.length;i<r;i++)for(f=0;f<g.length;f+=a.length-2){if(a=[f,1],o=g[f].n,n[i]!=h)o[n[i]]&&a.push(o[n[i]]);else for(s in o)o[u](s)&&a.push(o[s]);g.splice.apply(g,a)}for(i=0,r=g.length;i<r;i++)for(o=g[i];o.n;){if(e){if(o.f){for(f=0,d=o.f.length;f<d;f++)if(o.f[f]==e){o.f.splice(f,1);break}!o.f.length&&delete o.f}for(s in o.n)if(o.n[u](s)&&o.n[s].f){var v=o.n[s].f;for(f=0,d=v.length;f<d;f++)if(v[f]==e){v.splice(f,1);break}!v.length&&delete o.n[s].f}}else{delete o.f;for(s in o.n)o.n[u](s)&&o.n[s].f&&delete o.n[s].f}o=o.n}}},eve.once=function(t,e){var n=function(){return eve.off(t,n),e.apply(this,arguments)};return eve.on(t,n)},eve.version=a,eve.toString=function(){return"You are running Eve "+a},"undefined"!=typeof t&&t.exports?t.exports=eve:(i=[],r=function(){return eve}.apply(e,i),!(void 0!==r&&(t.exports=r)))}(this)},function(t,e,n){var i,r;i=[n(1)],r=function(t){if(!t||t.svg){var e="hasOwnProperty",n=String,i=parseFloat,r=parseInt,o=Math,s=o.max,a=o.abs,u=o.pow,l=/[, ]+/,c=t.eve,h="",f=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var v=function(i,r){if(r){"string"==typeof i&&(i=v(i));for(var o in r)r[e](o)&&("xlink:"==o.substring(0,6)?i.setAttributeNS(p,o.substring(6),n(r[o])):i.setAttribute(o,n(r[o])))}else i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},m=function(e,r){var l="linear",c=e.id+r,f=.5,p=.5,d=e.node,g=e.paper,m=d.style,y=t._g.doc.getElementById(c);if(!y){if(r=n(r).replace(t._radial_gradient,function(t,e,n){if(l="radial",e&&n){f=i(e),p=i(n);var r=2*(p>.5)-1;u(f-.5,2)+u(p-.5,2)>.25&&(p=o.sqrt(.25-u(f-.5,2))*r+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*r)}return h}),r=r.split(/\s*\-\s*/),"linear"==l){var b=r.shift();if(b=-i(b),isNaN(b))return null;var w=[0,0,o.cos(t.rad(b)),o.sin(t.rad(b))],_=1/(s(a(w[2]),a(w[3]))||1);w[2]*=_,w[3]*=_,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var T=t._parseDots(r);if(!T)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=v(l+"Gradient",{id:c}),e.gradient=y,v(y,"radial"==l?{fx:f,fy:p}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var k=0,C=T.length;k<C;k++)y.appendChild(v("stop",{offset:T[k].offset?T[k].offset:k?"100%":"0%","stop-color":T[k].color||"#fff","stop-opacity":isFinite(T[k].opacity)?T[k].opacity:1}))}}return v(d,{fill:x(c),opacity:1,"fill-opacity":1}),m.fill=h,m.opacity=1,m.fillOpacity=1,1},y=function(){var t=document.documentMode;return t&&(9===t||10===t)},x=function(t){if(y())return"url('#"+t+"')";var e=document.location,n=e.protocol+"//"+e.host+e.pathname+e.search;return"url('"+n+"#"+t+"')"},b=function(t){var e=t.getBBox(1);v(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},w=function(i,r,o){if("path"==i.type){for(var s,a,u,l,c,f=n(r).toLowerCase().split("-"),p=i.paper,m=o?"end":"start",y=i.node,x=i.attrs,b=x["stroke-width"],w=f.length,_="classic",T=3,k=3,C=5;w--;)switch(f[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=f[w];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":T=5;break;case"short":T=2}if("open"==_?(T+=2,k+=2,C+=2,u=1,l=o?4:1,c={fill:"none",stroke:x.stroke}):(l=u=T/2,c={fill:x.stroke,stroke:"none"}),i._.arrows?o?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=_){var S="raphael-marker-"+_,A="raphael-marker-"+m+_+T+k+"-obj"+i.id;t._g.doc.getElementById(S)?g[S]++:(p.defs.appendChild(v(v("path"),{"stroke-linecap":"round",d:d[_],id:S})),g[S]=1);var E,L=t._g.doc.getElementById(A);L?(g[A]++,E=L.getElementsByTagName("use")[0]):(L=v(v("marker"),{id:A,markerHeight:k,markerWidth:T,orient:"auto",refX:l,refY:k/2}),E=v(v("use"),{"xlink:href":"#"+S,transform:(o?"rotate(180 "+T/2+" "+k/2+") ":h)+"scale("+T/C+","+k/C+")","stroke-width":(1/((T/C+k/C)/2)).toFixed(4)}),L.appendChild(E),p.defs.appendChild(L),g[A]=1),v(E,c);var I=u*("diamond"!=_&&"oval"!=_);o?(s=i._.arrows.startdx*b||0,a=t.getTotalLength(x.path)-I*b):(s=I*b,a=t.getTotalLength(x.path)-(i._.arrows.enddx*b||0)),c={},c["marker-"+m]="url(#"+A+")",(a||s)&&(c.d=t.getSubpath(x.path,s,a)),v(y,c),i._.arrows[m+"Path"]=S,i._.arrows[m+"Marker"]=A,i._.arrows[m+"dx"]=I,i._.arrows[m+"Type"]=_,i._.arrows[m+"String"]=r}else o?(s=i._.arrows.startdx*b||0,a=t.getTotalLength(x.path)-s):(s=0,a=t.getTotalLength(x.path)-(i._.arrows.enddx*b||0)),i._.arrows[m+"Path"]&&v(y,{d:t.getSubpath(x.path,s,a)}),delete i._.arrows[m+"Path"],delete i._.arrows[m+"Marker"],delete i._.arrows[m+"dx"],delete i._.arrows[m+"Type"],delete i._.arrows[m+"String"];for(c in g)if(g[e](c)&&!g[c]){var N=t._g.doc.getElementById(c);N&&N.parentNode.removeChild(N)}}},_={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},T=function(t,e,i){if(e=_[n(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],a=e.length;a--;)s[a]=e[a]*r+(a%2?1:-1)*o;v(t.node,{"stroke-dasharray":s.join(",")})}else v(t.node,{"stroke-dasharray":"none"})},k=function(i,o){var u=i.node,c=i.attrs,f=u.style.visibility;u.style.visibility="hidden";for(var d in o)if(o[e](d)){if(!t._availableAttrs[e](d))continue;var g=o[d];switch(c[d]=g,d){case"blur":i.blur(g);break;case"title":var y=u.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=g;else{y=v("title");var x=t._g.doc.createTextNode(g);y.appendChild(x),u.appendChild(y)}break;case"href":case"target":var _=u.parentNode;if("a"!=_.tagName.toLowerCase()){var k=v("a");_.insertBefore(k,u),k.appendChild(u),_=k}"target"==d?_.setAttributeNS(p,"show","blank"==g?"new":g):_.setAttributeNS(p,d,g);break;case"cursor":u.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":w(i,g);break;case"arrow-end":w(i,g,1);break;case"clip-rect":var C=n(g).split(l);if(4==C.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var A=v("clipPath"),E=v("rect");A.id=t.createUUID(),v(E,{x:C[0],y:C[1],width:C[2],height:C[3]}),A.appendChild(E),i.paper.defs.appendChild(A),v(u,{"clip-path":"url(#"+A.id+")"}),i.clip=E}if(!g){var L=u.getAttribute("clip-path");if(L){var I=t._g.doc.getElementById(L.replace(/(^url\(#|\)$)/g,h));I&&I.parentNode.removeChild(I),v(u,{"clip-path":h}),delete i.clip}}break;case"path":"path"==i.type&&(v(u,{d:g?c.path=t._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&w(i,i._.arrows.startString),"endString"in i._.arrows&&w(i,i._.arrows.endString,1)));break;case"width":if(u.setAttribute(d,g),i._.dirty=1,!c.fx)break;d="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==d&&"rect"==i.type)break;case"cx":u.setAttribute(d,g),i.pattern&&b(i),i._.dirty=1;break;case"height":if(u.setAttribute(d,g),i._.dirty=1,!c.fy)break;d="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==d&&"rect"==i.type)break;case"cy":u.setAttribute(d,g),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?v(u,{rx:g,ry:g}):u.setAttribute(d,g),i._.dirty=1;break;case"src":"image"==i.type&&u.setAttributeNS(p,"href",g);break;case"stroke-width":1==i._.sx&&1==i._.sy||(g/=s(a(i._.sx),a(i._.sy))||1),u.setAttribute(d,g),c["stroke-dasharray"]&&T(i,c["stroke-dasharray"],o),i._.arrows&&("startString"in i._.arrows&&w(i,i._.arrows.startString),"endString"in i._.arrows&&w(i,i._.arrows.endString,1));break;case"stroke-dasharray":T(i,g,o);break;case"fill":var N=n(g).match(t._ISURL);if(N){A=v("pattern");var O=v("image");A.id=t.createUUID(),v(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),v(O,{x:0,y:0,"xlink:href":N[1]}),A.appendChild(O),function(e){t._preload(N[1],function(){var t=this.offsetWidth,n=this.offsetHeight;v(e,{width:t,height:n}),v(O,{width:t,height:n})})}(A),i.paper.defs.appendChild(A),v(u,{fill:"url(#"+A.id+")"}),i.pattern=A,i.pattern&&b(i);break}var M=t.getRGB(g);if(M.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&m(i,g)){if("opacity"in c||"fill-opacity"in c){var D=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(D){var P=D.getElementsByTagName("stop");v(P[P.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete o.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(o.opacity,"undefined")&&v(u,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&v(u,{"fill-opacity":c["fill-opacity"]});M[e]("opacity")&&v(u,{"fill-opacity":M.opacity>1?M.opacity/100:M.opacity});case"stroke":M=t.getRGB(g),u.setAttribute(d,M.hex),"stroke"==d&&M[e]("opacity")&&v(u,{"stroke-opacity":M.opacity>1?M.opacity/100:M.opacity}),"stroke"==d&&i._.arrows&&("startString"in i._.arrows&&w(i,i._.arrows.startString),"endString"in i._.arrows&&w(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&m(i,g);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&v(u,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){D=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,h)),D&&(P=D.getElementsByTagName("stop"),v(P[P.length-1],{"stop-opacity":g}));break}default:"font-size"==d&&(g=r(g,10)+"px");var R=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});u.style[R]=g,i._.dirty=1,u.setAttribute(d,g)}}S(i,o),u.style.visibility=f},C=1.2,S=function(i,o){if("text"==i.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var s=i.attrs,a=i.node,u=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,h).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(s.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var l,c=n(o.text).split("\n"),f=[],p=0,d=c.length;p<d;p++)l=v("tspan"),p&&v(l,{dy:u*C,x:s.x}),l.appendChild(t._g.doc.createTextNode(c[p])),a.appendChild(l),f[p]=l}else for(f=a.getElementsByTagName("tspan"),p=0,d=f.length;p<d;p++)p?v(f[p],{dy:u*C,x:s.x}):v(f[0],{dy:0});v(a,{x:s.x,y:s.y}),i._.dirty=1;var g=i._getBBox(),m=s.y-(g.y+g.height/2);m&&t.is(m,"finite")&&v(f[0],{dy:m})}},A=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},E=function(e,n){function i(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}this[0]=this.node=e,e.raphael=!0,this.id=i(),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},L=t.el;E.prototype=L,L.constructor=E,t._engine.path=function(t,e){var n=v("path");e.canvas&&e.canvas.appendChild(n);var i=new E(n,e);return i.type="path",k(i,{fill:"none",stroke:"#000",path:t}),i},L.rotate=function(t,e,r){if(this.removed)return this;if(t=n(t).split(l),t.length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},L.scale=function(t,e,r,o){if(this.removed)return this;if(t=n(t).split(l),t.length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3])),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this},L.translate=function(t,e){return this.removed?this:(t=n(t).split(l),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},L.transform=function(n){var i=this._;if(null==n)return i.transform;if(t._extractTransform(this,n),this.clip&&v(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&v(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},L.hide=function(){return this.removed||(this.node.style.display="none"),this},L.show=function(){return this.removed||(this.node.style.display=""),this},L.remove=function(){var e=A(this.node);if(!this.removed&&e.parentNode){var n=this.paper;n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData();for(var i in this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},L._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(t){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(e.display="none")}return t&&this.hide(),i},L.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var s=n.split(l),a={},u=0,h=s.length;u<h;u++)n=s[u],n in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return h-1?a:a[s[0]]}if(null==i&&t.is(n,"array")){for(a={},u=0,h=n.length;u<h;u++)a[n[u]]=this.attr(n[u]);return a}if(null!=i){var f={};f[n]=i}else null!=n&&t.is(n,"object")&&(f=n);for(var p in f)c("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var g in d)d[e](g)&&(f[g]=d[g])}return k(this,f),this},L.toFront=function(){if(this.removed)return this;var e=A(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},L.toBack=function(){if(this.removed)return this;var e=A(this.node),n=e.parentNode;n.insertBefore(e,n.firstChild),t._toback(this,this.paper);this.paper;return this},L.insertAfter=function(e){if(this.removed||!e)return this;var n=A(this.node),i=A(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},L.insertBefore=function(e){if(this.removed||!e)return this;var n=A(this.node),i=A(e.node||e[0].node);return i.parentNode.insertBefore(n,i),t._insertbefore(this,e,this.paper),this},L.blur=function(e){var n=this;if(0!==+e){var i=v("filter"),r=v("feGaussianBlur");n.attrs.blur=e,i.id=t.createUUID(),v(r,{stdDeviation:+e||1.5}),i.appendChild(r),n.paper.defs.appendChild(i),n._blur=i,v(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,i){var r=v("circle");t.canvas&&t.canvas.appendChild(r);var o=new E(r,t);return o.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",v(r,o.attrs),o},t._engine.rect=function(t,e,n,i,r,o){var s=v("rect");t.canvas&&t.canvas.appendChild(s);var a=new E(s,t);return a.attrs={x:e,y:n,width:i,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",v(s,a.attrs),a},t._engine.ellipse=function(t,e,n,i,r){var o=v("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new E(o,t);return s.attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",v(o,s.attrs),s},t._engine.image=function(t,e,n,i,r,o){var s=v("image");v(s,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new E(s,t);return a.attrs={x:n,y:i,width:r,height:o,src:e},a.type="image",a},t._engine.text=function(e,n,i,r){var o=v("text");e.canvas&&e.canvas.appendChild(o);var s=new E(o,e);return s.attrs={x:n,y:i,"text-anchor":"middle",text:r,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",k(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,i=e.x,r=e.y,o=e.width,s=e.height;if(!n)throw new Error("SVG container not found.");var a,u=v("svg"),l="overflow:hidden;";return i=i||0,r=r||0,o=o||512,s=s||342,v(u,{height:s,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(u.style.cssText=l+"position:absolute;left:"+i+"px;top:"+r+"px",t._g.doc.body.appendChild(u),a=1):(u.style.cssText=l+"position:relative",n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u)),n=new t._Paper,n.width=o,n.height=s,n.canvas=u,n.clear(),n._left=n._top=0,a&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,i,r){c("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var o,a,u=this.getSize(),l=s(n/u.width,i/u.height),h=this.top,p=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+f+this.height):(this._vbSize=l,o=t+f+e+f+n+f+i),v(this.canvas,{viewBox:o,preserveAspectRatio:p});l&&h;)a="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":a}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,n,i,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=v("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=v("defs"))},t.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var I=t.st;for(var N in L)L[e](N)&&!I[e](N)&&(I[N]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(N))}}.apply(e,i),!(void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;i=[n(1)],r=function(t){if(!t||t.vml){var e="hasOwnProperty",n=String,i=parseFloat,r=Math,o=r.round,s=r.max,a=r.min,u=r.abs,l="fill",c=/[, ]+/,h=t.eve,f=" progid:DXImageTransform.Microsoft",p=" ",d="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},v=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,x="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,w={path:1,rect:1,image:1},_={circle:1,ellipse:1},T=function(e){var i=/[ahqstv]/gi,r=t._pathToAbsolute;if(n(e).match(i)&&(r=t._path2curve),i=/[clmz]/g,r==t._pathToAbsolute&&!n(e).match(i)){var s=n(e).replace(v,function(t,e,n){var i=[],r="m"==e.toLowerCase(),s=g[e];return n.replace(y,function(t){r&&2==i.length&&(s+=i+g["m"==e?"l":"L"],i=[]),i.push(o(t*b))}),s+i});return s}var a,u,l=r(e);s=[];for(var c=0,h=l.length;c<h;c++){a=l[c],u=l[c][0].toLowerCase(),"z"==u&&(u="x");for(var f=1,m=a.length;f<m;f++)u+=o(a[f]*b)+(f!=m-1?",":d);s.push(u)}return s.join(p)},k=function(e,n,i){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(n,i),dy:r.y(n,i)}},C=function(t,e,n,i,r,o){var s=t._,a=t.matrix,c=s.fillpos,h=t.node,f=h.style,d=1,g="",v=b/e,m=b/n;if(f.visibility="hidden",e&&n){if(h.coordsize=u(v)+p+u(m),f.rotation=o*(e*n<0?-1:1),o){var y=k(o,i,r);i=y.dx,r=y.dy}if(e<0&&(g+="x"),n<0&&(g+=" y")&&(d=-1),f.flip=g,h.coordorigin=i*-v+p+r*-m,c||s.fillsize){var x=h.getElementsByTagName(l);x=x&&x[0],h.removeChild(x),c&&(y=k(o,a.x(c[0],c[1]),a.y(c[0],c[1])),x.position=y.dx*d+p+y.dy*d),s.fillsize&&(x.size=s.fillsize[0]*u(e)+p+s.fillsize[1]*u(n)),h.appendChild(x)}f.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var S=function(t,e,i){for(var r=n(e).toLowerCase().split("-"),o=i?"end":"start",s=r.length,a="classic",u="medium",l="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[s];break;case"wide":case"narrow":l=r[s];break;case"long":case"short":u=r[s]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=a,c[o+"arrowlength"]=u,c[o+"arrowwidth"]=l},A=function(r,u){r.attrs=r.attrs||{};var h=r.node,f=r.attrs,g=h.style,v=w[r.type]&&(u.x!=f.x||u.y!=f.y||u.width!=f.width||u.height!=f.height||u.cx!=f.cx||u.cy!=f.cy||u.rx!=f.rx||u.ry!=f.ry||u.r!=f.r),m=_[r.type]&&(f.cx!=u.cx||f.cy!=u.cy||f.r!=u.r||f.rx!=u.rx||f.ry!=u.ry),y=r;for(var x in u)u[e](x)&&(f[x]=u[x]);if(v&&(f.path=t._getPath[r.type](r),r._.dirty=1),u.href&&(h.href=u.href),u.title&&(h.title=u.title),u.target&&(h.target=u.target),u.cursor&&(g.cursor=u.cursor),"blur"in u&&r.blur(u.blur),(u.path&&"path"==r.type||v)&&(h.path=T(~n(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[f.x,f.y],r._.fillsize=[f.width,f.height],C(r,1,1,0,0,0))),"transform"in u&&r.transform(u.transform),m){var k=+f.cx,A=+f.cy,L=+f.rx||+f.r||0,I=+f.ry||+f.r||0;h.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((k-L)*b),o((A-I)*b),o((k+L)*b),o((A+I)*b),o(k*b)),r._.dirty=1}if("clip-rect"in u){var O=n(u["clip-rect"]).split(c);if(4==O.length){O[2]=+O[2]+ +O[0],O[3]=+O[3]+ +O[1];var M=h.clipRect||t._g.doc.createElement("div"),D=M.style;D.clip=t.format("rect({1}px {2}px {3}px {0}px)",O),h.clipRect||(D.position="absolute",D.top=0,D.left=0,D.width=r.paper.width+"px",D.height=r.paper.height+"px",h.parentNode.insertBefore(M,h),M.appendChild(h),h.clipRect=M)}u["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(r.textpath){var P=r.textpath.style;u.font&&(P.font=u.font),u["font-family"]&&(P.fontFamily='"'+u["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),u["font-size"]&&(P.fontSize=u["font-size"]),u["font-weight"]&&(P.fontWeight=u["font-weight"]),u["font-style"]&&(P.fontStyle=u["font-style"])}if("arrow-start"in u&&S(y,u["arrow-start"]),"arrow-end"in u&&S(y,u["arrow-end"],1),null!=u.opacity||null!=u.fill||null!=u.src||null!=u.stroke||null!=u["stroke-width"]||null!=u["stroke-opacity"]||null!=u["fill-opacity"]||null!=u["stroke-dasharray"]||null!=u["stroke-miterlimit"]||null!=u["stroke-linejoin"]||null!=u["stroke-linecap"]){var R=h.getElementsByTagName(l),B=!1;if(R=R&&R[0],!R&&(B=R=N(l)),"image"==r.type&&u.src&&(R.src=u.src),u.fill&&(R.on=!0),null!=R.on&&"none"!=u.fill&&null!==u.fill||(R.on=!1),R.on&&u.fill){var j=n(u.fill).match(t._ISURL);if(j){R.parentNode==h&&h.removeChild(R),R.rotate=!0,R.src=j[1],R.type="tile";var F=r.getBBox(1);R.position=F.x+p+F.y,r._.fillpos=[F.x,F.y],t._preload(j[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else R.color=t.getRGB(u.fill).hex,R.src=d,R.type="solid",t.getRGB(u.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=n(u.fill).charAt())&&E(y,u.fill,R)&&(f.fill="none",f.gradient=u.fill,R.rotate=!1)}if("fill-opacity"in u||"opacity"in u){var z=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(u.fill).o+1||2)-1);z=a(s(z,0),1),R.opacity=z,R.src&&(R.color="none")}h.appendChild(R);var H=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],q=!1;!H&&(q=H=N("stroke")),(u.stroke&&"none"!=u.stroke||u["stroke-width"]||null!=u["stroke-opacity"]||u["stroke-dasharray"]||u["stroke-miterlimit"]||u["stroke-linejoin"]||u["stroke-linecap"])&&(H.on=!0),("none"==u.stroke||null===u.stroke||null==H.on||0==u.stroke||0==u["stroke-width"])&&(H.on=!1);var $=t.getRGB(u.stroke);H.on&&u.stroke&&(H.color=$.hex),z=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+$.o+1||2)-1);var W=.75*(i(u["stroke-width"])||1);if(z=a(s(z,0),1),null==u["stroke-width"]&&(W=f["stroke-width"]),u["stroke-width"]&&(H.weight=W),W&&W<1&&(z*=W)&&(H.weight=1),H.opacity=z,u["stroke-linejoin"]&&(H.joinstyle=u["stroke-linejoin"]||"miter"),H.miterlimit=u["stroke-miterlimit"]||8,u["stroke-linecap"]&&(H.endcap="butt"==u["stroke-linecap"]?"flat":"square"==u["stroke-linecap"]?"square":"round"),"stroke-dasharray"in u){var U={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=U[e](u["stroke-dasharray"])?U[u["stroke-dasharray"]]:d}q&&h.appendChild(H)}if("text"==y.type){
y.paper.canvas.style.display=d;var V=y.paper.span,K=100,X=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=V.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),X=i(f["font-size"]||X&&X[0])||10,g.fontSize=X*K+"px",y.textpath.string&&(V.innerHTML=n(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=V.getBoundingClientRect();y.W=f.w=(Y.right-Y.left)/K,y.H=f.h=(Y.bottom-Y.top)/K,y.X=f.x,y.Y=f.y+y.H/2,("x"in u||"y"in u)&&(y.path.v=t.format("m{0},{1}l{2},{1}",o(f.x*b),o(f.y*b),o(f.x*b)+1));for(var G=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,Q=G.length;J<Q;J++)if(G[J]in u){y._.dirty=1;break}switch(f["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},E=function(e,o,s){e.attrs=e.attrs||{};var a=(e.attrs,Math.pow),u="linear",l=".5 .5";if(e.attrs.gradient=o,o=n(o).replace(t._radial_gradient,function(t,e,n){return u="radial",e&&n&&(e=i(e),n=i(n),a(e-.5,2)+a(n-.5,2)>.25&&(n=r.sqrt(.25-a(e-.5,2))*(2*(n>.5)-1)+.5),l=e+p+n),d}),o=o.split(/\s*\-\s*/),"linear"==u){var c=o.shift();if(c=-i(c),isNaN(c))return null}var h=t._parseDots(o);if(!h)return null;if(e=e.shape||e.node,h.length){e.removeChild(s),s.on=!0,s.method="none",s.color=h[0].color,s.color2=h[h.length-1].color;for(var f=[],g=0,v=h.length;g<v;g++)h[g].offset&&f.push(h[g].offset+p+h[g].color);s.colors=f.length?f.join():"0% "+s.color,"radial"==u?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=l,s.angle=0):(s.type="gradient",s.angle=(270-c)%360),e.appendChild(s)}return 1},L=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},I=t.el;L.prototype=I,I.constructor=L,I.transform=function(e){if(null==e)return this._.transform;var i,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:d;r&&(i=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,o+e);var s,a=this.matrix.clone(),u=this.skew,l=this.node,c=~n(this.attrs.fill).indexOf("-"),h=!n(this.attrs.fill).indexOf("url(");if(a.translate(1,1),h||c||"image"==this.type)if(u.matrix="1 0 0 1",u.offset="0 0",s=a.split(),c&&s.noRotation||!s.isSimple){l.style.filter=a.toFilter();var f=this.getBBox(),g=this.getBBox(1),v=f.x-g.x,m=f.y-g.y;l.coordorigin=v*-b+p+m*-b,C(this,1,1,v,m,0)}else l.style.filter=d,C(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else l.style.filter=d,u.matrix=n(a),u.offset=a.offset();return null!==i&&(this._.transform=i,t._extractTransform(this,i)),this},I.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if(t=n(t).split(c),t.length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},I.translate=function(t,e){return this.removed?this:(t=n(t).split(c),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},I.scale=function(t,e,r,o){if(this.removed)return this;if(t=n(t).split(c),t.length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this._.dirtyT=1,this},I.hide=function(){return!this.removed&&(this.node.style.display="none"),this},I.show=function(){return!this.removed&&(this.node.style.display=d),this},I.auxGetBBox=t.el.getBBox,I.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},I._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},I.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},I.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if(n==l&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=n.split(c),a={},u=0,f=s.length;u<f;u++)n=s[u],n in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return f-1?a:a[s[0]]}if(this.attrs&&null==i&&t.is(n,"array")){for(a={},u=0,f=n.length;u<f;u++)a[n[u]]=this.attr(n[u]);return a}var p;null!=i&&(p={},p[n]=i),null==i&&t.is(n,"object")&&(p=n);for(var d in p)h("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&p[e](d)&&t.is(this.paper.customAttributes[d],"function")){var g=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var v in g)g[e](v)&&(p[v]=g[v])}p.text&&"text"==this.type&&(this.textpath.string=p.text),A(this,p)}return this},I.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},I.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},I.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},I.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},I.blur=function(e){var n=this.node.runtimeStyle,i=n.filter;return i=i.replace(m,d),0!==+e?(this.attrs.blur=e,n.filter=i+p+f+".Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(n.filter=i,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=N("shape");n.style.cssText=x,n.coordsize=b+p+b,n.coordorigin=e.coordorigin;var i=new L(n,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),i.type="path",i.path=[],i.Path=d,A(i,r),e.canvas&&e.canvas.appendChild(n);var o=N("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(d),i},t._engine.rect=function(e,n,i,r,o,s){var a=t._rectPath(n,i,r,o,s),u=e.path(a),l=u.attrs;return u.X=l.x=n,u.Y=l.y=i,u.W=l.width=r,u.H=l.height=o,l.r=s,l.path=a,u.type="rect",u},t._engine.ellipse=function(t,e,n,i,r){var o=t.path();o.attrs;return o.X=e-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",A(o,{cx:e,cy:n,rx:i,ry:r}),o},t._engine.circle=function(t,e,n,i){var r=t.path();r.attrs;return r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",A(r,{cx:e,cy:n,r:i}),r},t._engine.image=function(e,n,i,r,o,s){var a=t._rectPath(i,r,o,s),u=e.path(a).attr({stroke:"none"}),c=u.attrs,h=u.node,f=h.getElementsByTagName(l)[0];return c.src=n,u.X=c.x=i,u.Y=c.y=r,u.W=c.width=o,u.H=c.height=s,c.path=a,u.type="image",f.parentNode==h&&h.removeChild(f),f.rotate=!0,f.src=n,f.type="tile",u._.fillpos=[i,r],u._.fillsize=[o,s],h.appendChild(f),C(u,1,1,0,0,0),u},t._engine.text=function(e,i,r,s){var a=N("shape"),u=N("path"),l=N("textpath");i=i||0,r=r||0,s=s||"",u.v=t.format("m{0},{1}l{2},{1}",o(i*b),o(r*b),o(i*b)+1),u.textpathok=!0,l.string=n(s),l.on=!0,a.style.cssText=x,a.coordsize=b+p+b,a.coordorigin="0 0";var c=new L(a,e),h={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};c.shape=a,c.path=u,c.textpath=l,c.type="text",c.attrs.text=n(s),c.attrs.x=i,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,A(c,h),a.appendChild(l),a.appendChild(u),e.canvas.appendChild(a);var f=N("skew");return f.on=!0,a.appendChild(f),c.skew=f,c.transform(d),c},t._engine.setSize=function(e,n){var i=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),i.width=e,i.height=n,i.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,i,r,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,i,r,o]);var s,a,u=this.getSize(),l=u.width,c=u.height;return o&&(s=c/r,a=l/i,i*s<l&&(e-=(l-i*s)/2/s),r*a<c&&(n-=(c-r*a)/2/a)),this._viewBox=[e,n,i,r,!!o],this._viewBoxShift={dx:-e,dy:-n,scale:u},this.forEach(function(t){t.transform("...")}),this};var N;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),N=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){N=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,i=e.height,r=e.width,o=e.x,s=e.y;if(!n)throw new Error("VML container not found.");var a=new t._Paper,u=a.canvas=t._g.doc.createElement("div"),l=u.style;return o=o||0,s=s||0,r=r||512,i=i||342,a.width=r,a.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),a.coordsize=1e3*b+p+1e3*b,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",u.appendChild(a.span),l.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==n?(t._g.doc.body.appendChild(u),l.left=o+"px",l.top=s+"px",l.position="absolute"):n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var O=t.st;for(var M in I)I[e](M)&&!O[e](M)&&(O[M]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(M))}}.apply(e,i),!(void 0!==r&&(t.exports=r))}])})},function(t,e,n){var i,r;(function(o){!function(s){var a="object"==typeof self&&self.self===self&&self||"object"==typeof o&&o.global===o&&o;i=[n(12),n(3),e],r=function(t,e,n){a.Backbone=s(a,n,t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],u(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],u(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},a=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=s(e,r,i))})},u=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,f=function(t,e,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)e=f(t,e,s[a],i[s[a]],o)}else if(i&&h.test(i))for(s=i.split(h);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,i,r,o);return e};c.on=function(t,e,n){return p(this,t,e,n)};var p=function(t,e,n,i,r){if(t._events=f(d,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){var o=t._listeners||(t._listeners={});o[r.id]=r}return t};c.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[r]={obj:t,objId:r,id:a,listeningTo:o,count:0}}return p(t,e,i,this,s),this};var d=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t};c.off=function(t,e,n){return this._events?(this._events=f(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,i,this)}return this};var g=function(t,e,i,r){if(t){var o,s=0,a=r.context,u=r.listeners;if(e||i||a){for(var l=e?[e]:n.keys(t);s<l.length;s++){e=l[s];var c=t[e];if(!c)break;for(var h=[],f=0;f<c.length;f++){var p=c[f];i&&i!==p.callback&&i!==p.callback._callback||a&&a!==p.context?h.push(p):(o=p.listening,o&&0===--o.count&&(delete u[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}return t}for(var d=n.keys(u);s<d.length;s++)o=u[d[s]],delete u[o.id],delete o.listeningTo[o.objId]}};c.once=function(t,e,i){var r=f(v,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},c.listenToOnce=function(t,e,i){var r=f(v,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var v=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return f(m,this._events,t,void 0,n),this};var m=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,i),o&&y(o,[e].concat(i))}return t},y=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var x=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(x.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,h=this._previousAttributes;for(var f in r)e=r[f],n.isEqual(l[f],e)||a.push(f),n.isEqual(h[f],e)?delete c[f]:c[f]=e,o?delete l[f]:l[f]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,l[a[p]],i)}if(u)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;return!!e.set(r,t)&&(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},H(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var o=i.wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,u=this.attributes;i.success=function(t){s.attributes=u;var e=i.parse?s.parse(t,i):t;return o&&(e=n.extend({},r,e)),!(e&&!s.set(e,i))&&(a&&a.call(i.context,s,t,i),void s.trigger("sync",s,t,i))},H(this,i),r&&o&&(this.attributes=n.extend({},u,r));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=r);var c=this.sync(l,this,i);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(H(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||z();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(x,b,"attributes");var w=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},_={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},k=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),o=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<o;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+o+n]=r[i]};n.extend(w.prototype,c,{model:x,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,T))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){e=n.extend({},_,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,s,a=[],u=[],l=[],c=[],h={},f=e.add,p=e.merge,d=e.remove,g=!1,v=this.comparator&&null==r&&e.sort!==!1,m=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){o=t[s];var y=this.get(o);if(y){if(p&&o!==y){var x=this._isModel(o)?o.attributes:o;e.parse&&(x=y.parse(x,e)),y.set(x,e),l.push(y),v&&!g&&(g=y.hasChanged(m))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[s]=y}else f&&(o=t[s]=this._prepareModel(o,e),o&&(u.push(o),this._addReference(o,e),h[o.cid]=!0,a.push(o)))}if(d){for(s=0;s<this.length;s++)o=this.models[s],h[o.cid]||c.push(o);c.length&&this._removeModels(c,e)}var b=!1,w=!v&&f&&d;if(a.length&&w?(b=this.length!==a.length||n.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,k(this.models,a,0),this.length=this.models.length):u.length&&(v&&(g=!0),k(this.models,u,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(s=0;s<u.length;s++)null!=r&&(e.index=r+s),o=u[s],o.trigger("add",o,this,e);(g||b)&&this.trigger("sort",this,e),(u.length||c.length||l.length)&&(e.changes={added:u,removed:c,merged:l},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(t=this._prepareModel(t,e),!t)return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof x},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var C={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};a(w,C,"models");var S=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,E)),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(A);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=L[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||z()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var u=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,u&&u.call(r.context,t,e,n)};var l=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,l,r),l};var L={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var I=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},N=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,M=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(I.prototype,c,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(r,s,i)!==!1&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(D,"\\$&").replace(N,"(?:$1)?").replace(O,function(t,e){return e?t:"([^/?]+)"}).replace(M,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var P=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,j=/#.*$/;P.started=!1,n.extend(P.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(R,"")},start:function(t){if(P.started)throw new Error("Backbone.history has already been started");if(P.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),
P.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!P.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(j,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new P;var F=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};x.extend=w.extend=I.extend=S.extend=P.extend=F;var z=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(e,function(){return this}())},function(t,e,n){"use strict";var i,r,o,s,a,u={}.hasOwnProperty;a=n(1),i=n(5),s=n(26),o="function",r=function(){function t(){this.displayObjects=[]}return a.extend(t.prototype,i.Events),a.extend(t.prototype,s),t.prototype.visible=!0,t.prototype.drawn=!1,t.prototype.saveDrawOptions=function(t){var e,n,i,r;for(r=this.DRAW_OPTIONS,e=0,n=r.length;e<n;e++)i=r[e],this[i]=t[i]},t.prototype.show=function(){this.visible=!0},t.prototype.hide=function(){this.visible=!1},t.prototype.addChild=function(t){this.displayObjects.push(t)},t.prototype.removeChild=function(t){this.disposeChild(t),this.displayObjects=a.without(this.displayObjects,t)},t.prototype.disposeChild=function(t){typeof t.remove===o?t.remove():typeof t.dispose===o&&t.dispose()},t.prototype.removeChildren=function(){var t,e,n,i;for(i=this.displayObjects,e=0,n=i.length;e<n;e++)t=i[e],this.disposeChild(t);this.displayObjects=[],this.drawn=!1},t.prototype.t=function(){var t;return(t=this.configuration.i18n).t.apply(t,arguments)},t.prototype.template=function(){var t;return(t=this.configuration.i18n).template.apply(t,arguments)},t.prototype.debugPoint=function(t,e,n,i){null==n&&(n="red"),null==i&&(i=2),this.paper&&this.addChild(this.paper.circle(t,e,i).attr({fill:n,"stroke-opacity":0}))},t.prototype.disposed=!1,t.prototype.dispose=function(){var t,e;if(!this.disposed){this.off(),this.removeChildren(),this.disposeStates(),e=this;for(t in e)u.call(e,t)&&"id"!==t&&delete this[t];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},t}(),t.exports=r},function(t,e,n){"use strict";var i,r;i=n(37),r=function(t,e,n,o,s){var a,u,l,c,h,f,p,d,g,v;for(null==n&&(n=null),null==o&&(o=!1),null==s&&(s=!1),g=t.i18n.t,null==n&&(n=t.decimals),d=i("round",Number(e),-n).toFixed(n),f=d.indexOf("."),f===-1&&(f=d.length),h=d.substring(0,f),"-"===d.charAt(0)?(p="-",h=h.substring(1)):p="",l=d.substring(f+1),v=g("thousands_separator"+(s?"_html":"")),d="",c=h.length,a=0;c-- >0;)3===a?(d=h.charAt(c)+v+d,a=0):d=h.charAt(c)+d,a++;if(u=g("decimal_mark"),(o||d.length<4)&&l.length>0)d+=u+l;else if(n>0)return r(t,e,0,o,s);return d=p+d},t.exports=r},function(t,e,n){"use strict";var i,r,o;r=n(1),i={chartRadius:{310:.2,340:.22,360:.24,380:.25,400:.26,550:.27,600:.28,620:.29,900:.3,1e3:.34,max:.38},chartRadiusOneOnly:{320:.22,380:.26,400:.28,450:.3,500:.32,600:.34,700:.36,800:.38,1e3:.4,max:.42},chartRadiusOneToOne:{320:.22,380:.26,400:.28,450:.3,500:.32,600:.34,700:.36,800:.38,1e3:.4,max:.42},chartRadiusThumbnail:{max:.3},magnetSize:{300:13,520:16,max:20},magnetSizeUpToTwo:{320:20,520:40,800:50,max:100},magnetLabelSize:{300:10,520:10,max:12},magnetLabelSizeUpToTwo:{300:10,520:12,max:15},magnetLabelXOffsetUpToTwo:{300:1,520:2,max:8},countryLabelSize:{300:12,520:14,max:17},indicatorDistance:{300:10,520:15,max:20},indicatorHeight:{300:12,520:18,800:25,1e3:30,max:35},visualizationSize:{300:8,520:12,800:20,1e3:25,max:30},visualizationSizeNineToAll:{300:5,520:10,800:14,1e3:18,max:20},indicatorIndent:{300:-25,520:-35,max:-45},indicatorFontSize:{520:10,800:12,1e3:13,max:14},indicatorTopPadding:{800:2,1e3:4,max:6}},i=function(){var t,e,n,o,s,a,u,l,c;s={},u=function(t,e){return"max"===t&&(t=Infinity),"max"===e&&(e=Infinity),t-e};for(o in i){for(n=i[o],c=r.keys(n).sort(u),a=[],t=0,e=c.length;t<e;t++)l=c[t],a.push({threshold:l,value:n[l]});s[o]=a}return s}(),o=function(t,e){var n,r,o,s,a;if("string"!=typeof t)throw new Error("Scale: Map name must be given");if("number"!=typeof e)throw new Error("Scale: Size must be given");if(o=i[t],!o)throw new Error("Scale: Map data for "+t+" not found");for(n=0,r=o.length;n<r;n++)if(s=o[n],a=s.threshold,"max"===a||e<=a)return s.value},t.exports=o},function(t,e,n){"use strict";var i;i=n(5),t.exports={subscribe:i.Events.on,unsubscribe:i.Events.off,publish:i.Events.trigger}},function(t,e,n){"use strict";var i,r,o,s,a,u,l=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;a=n(1),i=n(3),r=n(5),u=n(2),o=n(23),s=function(t){function e(t){this.joinList=l(this.joinList,this),this.template=l(this.template,this),this.t=l(this.t,this);var n;t&&a.extend(this,a.pick(t,["autoAttach","autoRender","container","containerMethod","region"])),n=this.render,this.render=function(t){return function(){return!t.disposed&&(n.apply(t,arguments),t.autoAttach&&t.attach.apply(t,arguments),t)}}(this),this.subviews=[],this.subviewsByName={},e.__super__.constructor.apply(this,arguments),this.model&&this.listenTo(this.model,"dispose",this.dispose),this.collection&&this.listenTo(this.collection,"dispose",function(t){return function(e){if(!e||e===t.collection)return t.dispose()}}(this)),this.autoRender&&this.render()}return c(e,t),a.extend(e.prototype,o),e.prototype.autoRender=!1,e.prototype.autoAttach=!0,e.prototype.container=null,e.prototype.containerMethod="append",e.prototype.subviews=null,e.prototype.subviewsByName=null,e.prototype.stale=!1,e.prototype.subview=function(t,e){return t&&e?(this.removeSubview(t),this.subviews.push(e),this.subviewsByName[t]=e,e):t?this.subviewsByName[t]:void 0},e.prototype.removeSubview=function(t){var e,n,i,r,o,s,u;if(t){if(s=this.subviews,e=this.subviewsByName,"string"==typeof t)i=t,u=e[i];else{u=t;for(r in e)if(o=e[r],u===o){i=r;break}}if(i&&u&&u.dispose)return u.dispose(),n=a.indexOf(s,u),n!==-1&&s.splice(n,1),delete e[i]}},e.prototype.getTemplateData=function(){var t;return t=this.model?this.model.toJSON():this.collection?{items:this.collection.toJSON(),length:this.collection.length}:{},a.extend(t,{_:a,t:this.t,template:this.template})},e.prototype.getTemplateFunction=function(){throw new Error("View#getTemplateFunction must be overridden")},e.prototype.render=function(){var t,e;return!this.disposed&&(e=this.getTemplateFunction(),"function"==typeof e&&(t=e(this.getTemplateData()),this.$el.html(t)),this)},e.prototype.attach=function(){this.container&&(i(this.container)[this.containerMethod](this.el),this.trigger("addedToDOM"))},e.prototype.t=function(){var t;return(t=this.model.get("configuration").i18n).t.apply(t,arguments)},e.prototype.template=function(){var t;return(t=this.model.get("configuration").i18n).template.apply(t,arguments)},e.prototype.joinList=function(){var t;return(t=this.model.get("configuration").i18n).joinList.apply(t,arguments)},e.prototype.disposed=!1,e.prototype.dispose=function(){var t,e,n,i,r,o,s,a;if(!this.disposed){for(s=this.subviews,t=0,n=s.length;t<n;t++)a=s[t],a.dispose();for(this.unsubscribeAllEvents(),this.off(),this.remove(),o=["el","$el","options","model","collection","subviews","subviewsByName","_callbacks"],e=0,i=o.length;e<i;e++)r=o[e],delete this[r];return this.disposed=!0,"function"==typeof Object.freeze?Object.freeze(this):void 0}},e}(r.View),t.exports=s},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;u=n(1),i=n(3),a=n(4),r=n(6),c=Math.sin,l=Math.cos,s=Math.PI,o=function(t){function e(){return this.mouseleaveHandler=h(this.mouseleaveHandler,this),this.mouseenterHandler=h(this.mouseenterHandler,this),e.__super__.constructor.apply(this,arguments)}var n;return f(e,t),n=1e3,e.prototype.DRAW_OPTIONS="paper x y width height".split(" "),e.prototype.update=function(t,e){this.model=t,this.configuration=e},e.prototype.draw=function(t){this.saveDrawOptions(t),"proportional"===this.model.representation?this.drawPercent():this.drawCircle(),this.addMouseHandlers(),this.drawn=!0},e.prototype.drawCircle=function(){var t,e,i,r,o,s,a,u,l,c,h,f;l=this,a=l.paper,h=l.x,f=l.y,c=l.width,i=l.height,s=l.model,h+=c/2,f+=i/2,r=c/2,o=.25*r,u=s.scale*(r-o)+o,u<o&&(u=o),t=s.value<0?"indicatorCircleNegative":"indicatorCirclePositive",e=this.configuration.color(t),this.circle?this.circle.stop().animate({fill:e,r:u},n,"linear"):(this.circle=a.circle(h,f,u).attr({fill:e,"stroke-opacity":0}),this.addChild(this.circle))},e.prototype.drawPercent=function(){var t,e,i,r,o,u,h,f,p,d,g,v,m,y,x;v=this,h=v.paper,y=v.x,x=v.y,m=v.width,o=v.height,u=v.model,y+=m/2,x+=o/2,d=m/2,this.percentCircle||(this.percentCircle=h.circle(y,x,d).attr({fill:this.configuration.color("indicatorCirclePositive"),"stroke-opacity":0}),this.addChild(this.percentCircle)),g=u.value/100,e=g<0?"indicatorCircleNegative":"indicatorPercentArc",r=this.configuration.color(e),t={fill:r,"stroke-opacity":0},Math.abs(g)>=1?this.arc?(t.r=d,this.percentArc.stop().animate(t,n,"linear")):(this.percentArc=h.circle(y,x,d).attr(t),this.addChild(this.percentArc)):(i=360*g,p=2*s*g-s/2,f="M {0}, {1}\nv {2}\nA {3}, {3} {4} {5} {6} {7}, {8}\nz",f=a.format(f,y,x,0-d,d,i,Math.abs(i)>=180?1:0,g<0?0:1,y+d*l(p),x+d*c(p)),this.percentArc?(t.path=f,this.percentArc.stop().animate(t,n,"linear")):(this.percentArc=h.path(f).attr(t),this.addChild(this.percentArc))),this.percentOverlay||(this.percentOverlay=h.circle(y,x,.55*d).attr({fill:this.configuration.color("indicatorPercentMiddle"),"stroke-opacity":0}),this.addChild(this.percentOverlay))},e.prototype.addMouseHandlers=function(){var t,e,n,r,o,s;for(o=this.displayObjects,s=[],e=0,n=o.length;e<n;e++)t=o[e],r=t.node,r?s.push(i(r).hover(this.mouseenterHandler,this.mouseleaveHandler)):s.push(void 0);return s},e.prototype.mouseenterHandler=function(){return this.trigger("mouseenter",this)},e.prototype.mouseleaveHandler=function(){return this.trigger("mouseleave",this)},e}(r),t.exports=o},function(t,e,n){var i,r;(function(){function n(t){function e(e,n,i,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=T(i,o,4);var s=!I(n)&&_.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[u]:u],u+=t),e(n,i,r,s,u,a)}}function o(t){return function(e,n,i){n=k(n,i);for(var r=L(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function s(t,e,n){return function(i,r,o){var s=0,a=L(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(d.call(i,s,a),_.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}function a(t,e){var n=P.length,i=t.constructor,r=_.isFunction(i)&&i.prototype||h,o="constructor";for(_.has(t,o)&&!_.contains(e,o)&&e.push(o);n--;)o=P[n],o in t&&t[o]!==r[o]&&!_.contains(e,o)&&e.push(o)}var u=this,l=u._,c=Array.prototype,h=Object.prototype,f=Function.prototype,p=c.push,d=c.slice,g=h.toString,v=h.hasOwnProperty,m=Array.isArray,y=Object.keys,x=f.bind,b=Object.create,w=function(){},_=function(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=_),e._=_,_.VERSION="1.8.3";var T=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},k=function(t,e,n){return null==t?_.identity:_.isFunction(t)?T(t,e,n):_.isObject(t)?_.matcher(t):_.property(t)};_.iteratee=function(t,e){return k(t,e,1/0)};var C=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,u=0;u<a;u++){var l=s[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}},S=function(t){if(!_.isObject(t))return{};if(b)return b(t);w.prototype=t;var e=new w;return w.prototype=null,e},A=function(t){return function(e){return null==e?void 0:e[t]}},E=Math.pow(2,53)-1,L=A("length"),I=function(t){var e=L(t);return"number"==typeof e&&e>=0&&e<=E};_.each=_.forEach=function(t,e,n){e=T(e,n);var i,r;if(I(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=_.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},_.map=_.collect=function(t,e,n){e=k(e,n);for(var i=!I(t)&&_.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},_.reduce=_.foldl=_.inject=n(1),_.reduceRight=_.foldr=n(-1),_.find=_.detect=function(t,e,n){var i;if(i=I(t)?_.findIndex(t,e,n):_.findKey(t,e,n),void 0!==i&&i!==-1)return t[i]},_.filter=_.select=function(t,e,n){var i=[];return e=k(e,n),_.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},_.reject=function(t,e,n){return _.filter(t,_.negate(k(e)),n)},_.every=_.all=function(t,e,n){e=k(e,n);for(var i=!I(t)&&_.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},_.some=_.any=function(t,e,n){e=k(e,n);for(var i=!I(t)&&_.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},_.contains=_.includes=_.include=function(t,e,n,i){return I(t)||(t=_.values(t)),("number"!=typeof n||i)&&(n=0),_.indexOf(t,e,n)>=0},_.invoke=function(t,e){var n=d.call(arguments,2),i=_.isFunction(e);return _.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},_.pluck=function(t,e){return _.map(t,_.property(e))},_.where=function(t,e){return _.filter(t,_.matcher(e))},_.findWhere=function(t,e){return _.find(t,_.matcher(e))},_.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=I(t)?t:_.values(t);for(var a=0,u=t.length;a<u;a++)i=t[a],i>o&&(o=i)}else e=k(e,n),_.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},_.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=I(t)?t:_.values(t);for(var a=0,u=t.length;a<u;a++)i=t[a],i<o&&(o=i)}else e=k(e,n),_.each(t,function(t,n,i){r=e(t,n,i),(r<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},_.shuffle=function(t){for(var e,n=I(t)?t:_.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=_.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},_.sample=function(t,e,n){return null==e||n?(I(t)||(t=_.values(t)),t[_.random(t.length-1)]):_.shuffle(t).slice(0,Math.max(0,e))},_.sortBy=function(t,e,n){return e=k(e,n),_.pluck(_.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var N=function(t){return function(e,n,i){var r={};return n=k(n,i),_.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};_.groupBy=N(function(t,e,n){_.has(t,n)?t[n].push(e):t[n]=[e]}),_.indexBy=N(function(t,e,n){t[n]=e}),_.countBy=N(function(t,e,n){_.has(t,n)?t[n]++:t[n]=1}),_.toArray=function(t){return t?_.isArray(t)?d.call(t):I(t)?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:I(t)?t.length:_.keys(t).length},_.partition=function(t,e,n){e=k(e,n);var i=[],r=[];return _.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},_.first=_.head=_.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:_.initial(t,t.length-e)},_.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},_.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:_.rest(t,Math.max(0,t.length-e))},_.rest=_.tail=_.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var O=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=L(t);s<a;s++){var u=t[s];if(I(u)&&(_.isArray(u)||_.isArguments(u))){e||(u=O(u,e,n));var l=0,c=u.length;for(r.length+=c;l<c;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};_.flatten=function(t,e){return O(t,e,!1)},_.without=function(t){return _.difference(t,d.call(arguments,1))},_.uniq=_.unique=function(t,e,n,i){_.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=k(n,i));for(var r=[],o=[],s=0,a=L(t);s<a;s++){var u=t[s],l=n?n(u,s,t):u;e?(s&&o===l||r.push(u),o=l):n?_.contains(o,l)||(o.push(l),r.push(u)):_.contains(r,u)||r.push(u)}return r},_.union=function(){return _.uniq(O(arguments,!0,!0))},_.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=L(t);i<r;i++){var o=t[i];if(!_.contains(e,o)){for(var s=1;s<n&&_.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},_.difference=function(t){var e=O(arguments,!0,!0,1);return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(t){for(var e=t&&_.max(t,L).length||0,n=Array(e),i=0;i<e;i++)n[i]=_.pluck(t,i);return n},_.object=function(t,e){for(var n={},i=0,r=L(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},_.findIndex=o(1),_.findLastIndex=o(-1),_.sortedIndex=function(t,e,n,i){n=k(n,i,1);for(var r=n(e),o=0,s=L(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},_.indexOf=s(1,_.findIndex,_.sortedIndex),_.lastIndexOf=s(-1,_.findLastIndex),_.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var M=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=S(t.prototype),s=t.apply(o,r);return _.isObject(s)?s:o};_.bind=function(t,e){if(x&&t.bind===x)return x.apply(t,d.call(arguments,1));if(!_.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),i=function(){return M(t,i,e,this,n.concat(d.call(arguments)))};return i},_.partial=function(t){var e=d.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===_?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return M(t,n,this,this,o)};return n},_.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=_.bind(t[n],t);return t},_.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return _.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},_.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},_.defer=_.partial(_.delay,_,1),_.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:_.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var l=_.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return i=this,r=arguments,c<=0||c>e?(s&&(clearTimeout(s),s=null),a=l,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(u,c)),o}},_.debounce=function(t,e,n){var i,r,o,s,a,u=function(){var l=_.now()-s;l<e&&l>=0?i=setTimeout(u,e-l):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=_.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(a=t.apply(o,r),o=r=null),a}},_.wrap=function(t,e){return _.partial(e,t)},_.negate=function(t){return function(){return!t.apply(this,arguments)}},_.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},_.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},_.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},_.once=_.partial(_.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(t){if(!_.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)_.has(t,n)&&e.push(n);return D&&a(t,e),e},_.allKeys=function(t){if(!_.isObject(t))return[];var e=[];for(var n in t)e.push(n);return D&&a(t,e),e},_.values=function(t){for(var e=_.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},_.mapObject=function(t,e,n){e=k(e,n);for(var i,r=_.keys(t),o=r.length,s={},a=0;a<o;a++)i=r[a],s[i]=e(t[i],i,t);return s},_.pairs=function(t){for(var e=_.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},_.invert=function(t){for(var e={},n=_.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},_.functions=_.methods=function(t){var e=[];for(var n in t)_.isFunction(t[n])&&e.push(n);return e.sort()},_.extend=C(_.allKeys),_.extendOwn=_.assign=C(_.keys),_.findKey=function(t,e,n){e=k(e,n);for(var i,r=_.keys(t),o=0,s=r.length;o<s;o++)if(i=r[o],e(t[i],i,t))return i},_.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;_.isFunction(e)?(r=_.allKeys(s),i=T(e,n)):(r=O(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=r.length;a<u;a++){var l=r[a],c=s[l];i(c,l,s)&&(o[l]=c)}return o},_.omit=function(t,e,n){if(_.isFunction(e))e=_.negate(e);else{var i=_.map(O(arguments,!1,!1,1),String);e=function(t,e){return!_.contains(i,e)}}return _.pick(t,e,n)},_.defaults=C(_.allKeys,!0),_.create=function(t,e){var n=S(t);return e&&_.extendOwn(n,e),n},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t},_.isMatch=function(t,e){var n=_.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var R=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var r=g.call(t);if(r!==g.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],n,i))return!1}else{var l,c=_.keys(t);if(u=c.length,_.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!_.has(e,l)||!R(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};_.isEqual=function(t,e){return R(t,e)},_.isEmpty=function(t){return null==t||(I(t)&&(_.isArray(t)||_.isString(t)||_.isArguments(t))?0===t.length:0===_.keys(t).length)},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=m||function(t){return"[object Array]"===g.call(t)},_.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){_["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return _.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(t){return"function"==typeof t||!1}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!==+t},_.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===g.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return null!=t&&v.call(t,e)},_.noConflict=function(){return u._=l,this},_.identity=function(t){return t},_.constant=function(t){return function(){return t}},_.noop=function(){},_.property=A,_.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},_.matcher=_.matches=function(t){return t=_.extendOwn({},t),function(e){return _.isMatch(e,t)}},_.times=function(t,e,n){var i=Array(Math.max(0,t));e=T(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},_.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=_.invert(B),F=function(t){var e=function(e){return t[e]},n="(?:"+_.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};_.escape=F(B),_.unescape=F(j),_.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),_.isFunction(i)?i.call(t):i};var z=0;_.uniqueId=function(t){var e=++z+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,W=function(t){return"\\"+q[t]};_.template=function(t,e,n){!e&&n&&(e=n),e=_.defaults({},e,_.templateSettings);var i=RegExp([(e.escape||H).source,(e.interpolate||H).source,(e.evaluate||H).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace($,W),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,_)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},_.chain=function(t){var e=_(t);return e._chain=!0,e};var U=function(t,e){return t._chain?_(e).chain():e};_.mixin=function(t){_.each(_.functions(t),function(e){var n=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return p.apply(t,arguments),U(this,n.apply(_,t))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];_.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],U(this,n)}}),_.each(["concat","join","slice"],function(t){var e=c[t];_.prototype[t]=function(){return U(this,e.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},i=[],r=function(){return _}.apply(e,i),!(void 0!==r&&(t.exports=r))}).call(this)},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h,f,p=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;h=n(1),i=n(3),c=n(4),l=n(6),u=n(17),o=n(14),s=n(15),a=n(16),f=n(2),c.easing_formulas.chartEaseOut=function(t){return Math.pow(t,.1)},r=function(t){function e(t){this.resize=p(this.resize,this);var n,r,o;e.__super__.constructor.apply(this,arguments),this.initChartStates(),this.resize=h.throttle(this.resize,100),n=i(t.container),this.$container=n,this.animationDuration=null!=(r=t.animationDuration)?r:1e3,this.format=null!=(o=t.format)?o:f.FORMAT_DEFAULT,this.createPaper()}return d(e,t),e.canUse=function(){return""!==c.type&&!/MSIE [67]\.0/.test(navigator.userAgent)}(),h.extend(e.prototype,u,o,s,a),e.prototype.createPaper=function(){this.paper&&this.removeChild(this.paper),this.paper=c(this.$container.get(0),this.$container.width(),this.$container.height()),this.addChild(this.paper),i(this.paper.canvas).click(h.bind(this.canvasClicked,this))},e.prototype.resize=function(){this.drawn&&this.redraw()},e.prototype.update=function(t){var e,n;if(!this.updateDisabled){if(clearTimeout(this.initLockingHandle),e=t.keyframe,this.keyframe=e,this.configuration=e.get("configuration"),this.maxSum=e.get("maxSum"),n=this.dataType,this.dataType=e.get("dataType"),0===this.getElementCount())return this.clear(),void this.showElementCountError();this.hideElementCountError(),this.elements&&!h.isEqual(this.dataType,n)?this.fadeOutAndRedraw():this.updateAndDraw()}},e.prototype.fadeOutAndRedraw=function(){var t,e,n,i;for(i=this.elements,e=0,n=i.length;e<n;e++)t=i[e],t.fadeOut();f.after(this.animationDuration/2+15,function(t){return function(){return t.clear(),t.updateAndDraw()}}(this))},e.prototype.updateAndDraw=function(){var t;t=!!this.elements,this.syncElements(),this.syncRelations(),this.updateElements(),this.updateRelations(),this.draw(t)},e.prototype.disposed=!1,e.prototype.dispose=function(){if(!this.disposed)return clearTimeout(this.initLockingHandle),i(window).off("resize",this.resize),e.__super__.dispose.apply(this,arguments)},e}(l),t.exports=r},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h,f,p,d,g,v;i=n(3),l=n(4),d=n(8),v=n(2),u=Math.PI,f=2*u,o=u/2,g=Math.sin,p=Math.cos,a="outgoing",s="incoming",c=4,h=4,r={draw:function(t){var e;e=i(window).off("resize",this.resize),this.setRadius(),this.calculatePositions(),this.drawElements(),this.restoreLocking(t),this.drawn=!0,e.resize(this.resize)},setRadius:function(){var t,e,n,i;e=this.format===v.FORMAT_THUMBNAIL?"chartRadiusThumbnail":1===this.elements.length?"chartRadiusOneOnly":2===this.elements.length?"chartRadiusOneToOne":"chartRadius",n=Math.min(this.paper.width,this.paper.height),i=Math.min(.85*this.paper.width,this.paper.height),t=d(e,i),this.radius=i*t},drawElements:function(){var t,e,n,i,r,o,s,a,u,l,c,h,f,p,d;if(i=this.elements,n=i.length,h=this.keyframe.get("maxLabelsVisible"),n>h)for(s={},d=i.concat().sort(v.elementsSorter),o=r=0,l=d.length;r<l;o=++r)e=d[o],s[e.id]=o<h;for(t=this.keyframe.get("date"),o=u=0,c=i.length;u<c;o=++u)e=i[o],p=i[o-1]||i[n-1],f=i[o+1]||i[0],a=!(n>h)||s[e.id],e.draw({paper:this.paper,$container:this.$container,animationDuration:this.animationDuration,chartFormat:this.format,chartDrawn:this.drawn,chartRadius:this.radius,elementCount:n,elementIdsChanged:this.elementIdsChanged,previousElement:p,nextElement:f,indicatorVisible:a,date:t})},restoreLocking:function(t){this.format!==v.FORMAT_THUMBNAIL&&(t?(this.lockingPublisherMuted=!0,this.resetStates({preserveLocking:!1}),this.lockingPublisherMuted=!1,clearTimeout(this.initLockingHandle),this.initLockingHandle=v.after(this.animationDuration,function(t){return function(){return t.initLocking()}}(this))):this.initLocking())},clear:function(){this.removeElements(),this.createPaper(),this.drawn=!1},redraw:function(){this.clear(),this.syncElements(),this.syncRelations(),this.updateElements(),this.updateRelations(),this.draw()},showElementCountError:function(){var t;t=this.paper.text(this.paper.width/2,this.paper.height/2,this("chart","element_count_error")).attr({"text-anchor":"middle","font-family":"inherit","font-size":15,fill:"black"}),this.addChild(t),this.elementCountError=t},hideElementCountError:function(){this.elementCountError&&(this.removeChild(this.elementCountError),
delete this.elementCountError)},calculatePositions:function(){var t;t=this.elements.length,1===t?this.calculatePositionForOneMagnet():2===t?this.calculatePositionForTwoMagnets():2<t&&t<9?this.calculatePositionForThreeToEightMagnets():t>8&&this.calculatePositionsForNineAndMoreMagnets()},calculatePositionForOneMagnet:function(){var t,e,n,i,r,o,u,c,h,f,p,g,v;h=this,n=h.elements,c=h.maxSum,u=2*this.radius,e=n[0],t=l.rad(180),o=u*(e.model.sum/c),f=d("magnetSizeUpToTwo",this.paper.width)/2,p=f,g=u/2,v=g-o,r=.05*u,e.valueIsMissing(a)&&(o+=r),e.valueIsMissing(s)&&(o+=r),i=r/o,e.magnet.setPosition(t,f,g,p,v,i)},calculatePositionForTwoMagnets:function(){var t,e,n,i,r,o,u,c,h,f,p,d,g;h=this,n=h.elements,c=h.maxSum,u=2*this.radius,r=.05*u,e=n[0],t=l.rad(180),o=u*(e.model.sum/c),e.valueIsMissing(a)&&(o+=r),e.valueIsMissing(s)&&(o+=r),i=r/o,f=.5*-this.radius,p=f,d=u/2,g=d-o,e.magnet.setPosition(t,f,d,p,g,i),e=n[1],t=l.rad(0),o=u*(e.model.sum/c),e.valueIsMissing(a)&&(o+=r),e.valueIsMissing(s)&&(o+=r),i=r/o,f=.5*this.radius,p=f,g=u/2,d=g-o,e.magnet.setPosition(t,f,d,p,g,i)},calculatePositionForThreeToEightMagnets:function(){var t,e,n,i,r,l,c,h,d,v,m,y,x,b,w,_,T,k,C,S,A,E,L,I,N,O;for(b=this,l=b.elements,x=b.maxSum,i=l.length,w=-o,_=f/i,t=2*this.radius*g(u/i),e=w,m=v=0,y=l.length;v<y;m=++v)n=l[m],T=p(e)*this.radius,k=g(e)*this.radius,r=n.model.sum,h=.03*x,n.valueIsMissing(a)&&(r+=h),n.valueIsMissing(s)&&(r+=h),c=h/r,C=r/x,S=C*(t-2)+2,d=S/2,L=g(u-e),O=p(u-e),A=T+d*L,I=k+d*O,E=T-d*L,N=k-d*O,n.magnet.setPosition(e,A,I,E,N,c),e+=_},calculatePositionsForNineAndMoreMagnets:function(){var t,e,n,i,r,s,a,u,l,d,m,y,x,b,w,_,T,k,C,S,A,E,L,I,N,O,M;for(C=this,l=C.elements,_=C.maxSum,u=l.length,L=l.concat().sort(v.elementsSorter),S=this.distanceToDeg(c,this.radius),E=this.distanceToDeg(h,this.radius),n=-o,k=E*u,r=f-k,e=f/8;;){for(A=S/e*_,O=0,s=0,m=0,x=L.length;m<x;m++)a=L[m],w=a.magnet,M=a.model.sum,M<A&&(s+=A-M),O+=M;if(t=r*_/(O+s),t>=e){E=(f-(O+s)/_*e)/u;break}e=t}for(y=0,b=l.length;y<b;y++)a=l[y],w=a.magnet,I={x:p(n)*this.radius,y:g(n)*this.radius},N=a.model.sum*e/_,N<S&&(N=S),i=n+N,d={x:p(i)*this.radius,y:g(i)*this.radius},T=(n+i)/2,w.setPosition(T,I.x,I.y,d.x,d.y,0),n=i+E},distanceToDeg:function(t,e){return 2*(o-Math.atan(e/t*2))}},t.exports=r},function(t,e,n){"use strict";var i,r,o;o=n(1),r=n(18),i={elementModels:function(){return this.keyframe.get("elements")},getElementCount:function(){return this.keyframe.get("elements").length},syncElements:function(){var t,e,n,i,r,s,a,u,l,c,h,f;for(this.elements||(this.elements=[],this.elementsById={}),n=this.elementModels(),h=o.pluck(this.elements,"id").join(),c=o.pluck(n,"id").join(),a={},i=0,u=n.length;i<u;i++)e=n[i],r=e.id,a[r]=!0,t=this.elementsById[r],t||this.addElement(e);for(f=this.elements,s=0,l=f.length;s<l;s++)t=f[s],t.id in a||this.removeElement(t);this.sortElements(),this.elementIdsChanged=c!==h},updateElements:function(){var t,e,n,i,r;for(r=this.elementModels(),n=0,i=r.length;n<i;n++)e=r[n],t=this.elementsById[e.id],t.update(e,this.configuration)},sortElements:function(){this.elements=o.map(this.elementModels(),function(t){return function(e){return t.elementsById[e.id]}}(this))},addElement:function(t){var e;return e=new r(t),this.addMagnetHandlers(e.magnet),this.elementsById[t.id]=e,this.elements.push(e),e},removeElement:function(t){t.dispose(),delete this.elementsById[t.id],this.elements=o.without(this.elements,t)},removeElements:function(){var t,e,n,i;if(this.elements)for(i=this.elements,e=0,n=i.length;e<n;e++)t=i[e],t.dispose();delete this.elements,delete this.elementsById}},t.exports=i},function(t,e,n){"use strict";var i,r,o,s,a,u,l;u=n(1),a=n(22),l=n(2),i=5,r=4,o=5,s={syncRelations:function(){this.syncOutgoingRelations(),this.syncIncomingRelations(),this.filterRelations()},syncOutgoingRelations:function(){var t,e,n,i,r,o,s,a,l,c,h,f,p,d,g,v,m;for(a={},f=this.elementModels(),r=0,l=f.length;r<l;r++){e=f[r],i=e.id,n=this.elementsById[i];for(m in e.outgoing)a[i+">"+m]=!0,g=u.find(n.relationsOut,{toId:m}),g||(v=this.elementsById[m]||null,this.createRelation(i,n,m,v))}for(p=this.elements,o=0,c=p.length;o<c;o++)for(t=p[o],d=t.relationsOut,s=0,h=d.length;s<h;s++)g=d[s],g.id in a||g.dispose()},syncIncomingRelations:function(){this.removeIncomingRelations(),this.createIncomingRelations()},createOutgoingRelations:function(t){var e,n,i,r,o,s,a,u,l;for(r=0,o=t.length;r<o;r++)if(e=t[r],s=e.outgoing){i=e.id,n=this.elementsById[i];for(u in s)l=s[u],l>0&&(a=this.elementsById[u]||null,this.createRelation(i,n,u,a))}},createIncomingRelations:function(){var t,e,n,i,r,o,s,a,u,l;for(s=this.elementModels(),i=0,o=s.length;i<o;i++)if(t=s[i],r=t.incoming){u=t.id,a=this.elementsById[u];for(n in r)l=r[n],l>0&&(e=this.elementsById[n],e||this.createRelation(n,null,u,a))}},createRelation:function(t,e,n,i){var r;return r=new a({fromId:t,from:e,toId:n,to:i}),this.connectRelation(r),this.addRelationHandlers(r),r},removeIncomingRelations:function(){this.getIncomingRelations().forEach(function(t){return t.dispose()})},connectRelation:function(t){var e,n;e=t.from,n=t.to,e&&e.addRelationOut(t),n&&n.addRelationIn(t)},disconnectRelation:function(t){var e,n;e=t.from,n=t.to,e&&e.removeRelationOut(t),n&&n.removeRelationIn(t)},updateRelations:function(){this.updateOutgoingRelations()},updateOutgoingRelations:function(){var t,e,n,i,r,o,s,a,l,c,h,f,p,d,g,v;for(e=this.elementModels(),h=this.elements,r=0,s=h.length;r<s;r++)for(n=h[r],i=n.id,t=u.find(e,{id:i}),f=n.relationsOut,o=0,a=f.length;o<a;o++)p=f[o],v=p.toId,g=this.elementsById[v]||null,c=p.to,d=t.outgoing[v],l=t.missingRelations[v]||null,p.update({configuration:this.configuration,to:g,value:d.value,positionOut:d.positionOut,positionIn:d.positionIn,missingRelations:l}),g!==c&&(this.disconnectRelation(p),this.connectRelation(p)),g||p.hide()},filterRelations:function(){var t,e,n,i;for(t=this.getAllRelations(),e=0,n=t.length;e<n;e++)i=t[e],i.show()},getAllRelations:function(){var t,e,n,i,r,o,s,a,u;for(t=[],s=this.elements,n=0,r=s.length;n<r;n++)for(e=s[n],a=e.relationsOut,i=0,o=a.length;i<o;i++)u=a[i],t.push(u);return t},getIncomingRelations:function(){var t;return t=function(t,e){var n;return n=u.filter(e.relationsIn,function(t){return null===t.from}),t.concat(n)},u.reduce(this.elements,t,[])},getRelation:function(t,e){var n,i,r,o,s,a,u,l;for(a=this.elements,i=0,o=a.length;i<o;i++)for(n=a[i],u=n.relationsOut,r=0,s=u.length;r<s;r++)if(l=u[r],l.fromId===t&&l.toId===e)return l;return!1}},t.exports=s},function(t,e,n){"use strict";var i,r,o;r=n(1),o=n(9),i={initChartStates:function(){return this.initStates({states:{animation:["on","off"]},initialState:{animation:"off"}})},canvasClicked:function(t){this.elements&&t.currentTarget===t.target&&this.resetStates({preserveLocking:!1})},resetStates:function(t){null==t&&(t={}),r.defaults(t,{preserveLocking:!0}),this.resetMagnets(t),this.resetRelations(t),this.resetIndicators(t),this.publishLocking()},addMagnetHandlers:function(t){this.listenTo(t,"mouseleave",this.magnetMouseleave),this.listenTo(t,"leaveState",this.magnetLeaveState)},magnetMouseleave:function(t){"active"!==t.state("mode")&&t.transitionTo("mode",this.getLockedMagnet(t)?"dimmedOut":"normal")},magnetLeaveState:function(t,e,n){var i,r,o;"modeNormal"!==e&&"modeDimmedOut"!==e||"modeHighlight"!==n||(this.forMagnets(t,function(t){var e;t.transitionTo("mode","dimmedOut"),e=t.element.indicators,"highlight"===e.state()&&e.transitionTo("invisible")}),this.resetRelations({preserveLocking:!0}),this.activateRelationsForElement(t.element)),"modeActive"!==n&&"modeHighlight"!==n||(i=t.element.indicators,"invisible"===i.state()&&i.transitionTo("highlight")),"modeHighlight"!==e||"modeNormal"!==n&&"modeDimmedOut"!==n||(r=this.getLockedMagnet(),r?(this.resetRelationsForElement(t.element),r.transitionTo("mode","active"),this.activateRelationsForElement(r.element)):(this.forMagnets(t,function(t){if("dimmedOut"===t.state("mode"))return t.transitionTo("mode","normal")}),this.resetRelations({preserveLocking:!0}),o=this.getLockedRelation(),o&&(o.transitionTo("path","active"),o.transitionTo("labels","on"))),i=t.element.indicators,"highlight"===i.state()&&i.transitionTo("invisible")),"lockedOn"===n?(this.forMagnets(t,function(t){return t.transitionTo("locked","off"),t.transitionTo("mode","dimmedOut")}),this.resetRelations({preserveLocking:!1}),this.activateRelationsForElement(t.element),this.publishLocking(t)):"lockedOff"===n&&this.publishLocking()},forMagnets:function(t,e){var n,i,r,o,s;for(s=this.elements,i=0,r=s.length;i<r;i++)n=s[i],o=n.magnet,t!==o&&e(o)},getLockedMagnet:function(t){var e,n,i,r,o;for(o=this.elements,n=0,i=o.length;n<i;n++)if(e=o[n],r=e.magnet,t!==r&&"on"===r.state("locked"))return r;return!1},resetMagnets:function(t){var e,n,i,o,s;for(null==t&&(t={}),r.defaults(t,{preserveLocking:!0}),s=this.elements,n=0,i=s.length;n<i;n++)e=s[n],o=e.magnet,o.transitionTo("mode","normal"),t.preserveLocking||o.transitionTo("locked","off")},resetIndicators:function(){var t,e,n,i,r;for(r=this.elements,e=0,i=r.length;e<i;e++)t=r[e],n=t.indicators,"highlight"===n.state()&&n.transitionTo("invisible")},addRelationHandlers:function(t){this.removeRelationHandlers(t),this.listenTo(t,"leaveState",this.relationLeaveState)},removeRelationHandlers:function(t){this.stopListening(t,"leaveState",this.relationLeaveState)},relationLeaveState:function(t,e,n){var i;"pathHighlight"===n&&this.forRelations(t,function(t){var e;if("highlight"===(e=t.state("path"))||"active"===e)return t.transitionTo("path","normal"),t.transitionTo("labels","off")}),"pathHighlight"===e&&"pathNormal"===n&&(i=this.getLockedRelation(),i&&(i.transitionTo("path","active"),i.transitionTo("labels","on"))),"lockedOn"===n?(this.resetMagnets({preserveLocking:!1}),this.forRelations(t,function(t){var e;if("activeIn"===(e=t.state("path"))||"activeOut"===e)return t.transitionTo("path","normal")}),i=this.getLockedRelation(t),i&&(i.transitionTo("path","normal"),i.transitionTo("labels","off"),i.transitionTo("locked","off")),this.publishLocking(t)):"lockedOff"===n&&this.publishLocking()},forRelations:function(t,e){var n,i,r,o,s,a,u,l;for(1===arguments.length&&(e=t,t=null),a=this.elements,i=0,o=a.length;i<o;i++)for(n=a[i],u=n.relationsOut,r=0,s=u.length;r<s;r++)l=u[r],l!==t&&e(l)},resetRelations:function(t){var e,n,i,o,s,a,u,l;for(null==t&&(t={}),r.defaults(t,{preserveLocking:!0}),a=this.elements,n=0,o=a.length;n<o;n++)for(e=a[n],u=e.relationsOut,i=0,s=u.length;i<s;i++)l=u[i],l!==t.except&&(l.transitionTo("path","normal"),l.transitionTo("labels","off"),t.preserveLocking||l.transitionTo("locked","off"))},getLockedRelation:function(t){var e,n,i,r,o,s,a,u;for(s=this.elements,n=0,r=s.length;n<r;n++)for(e=s[n],a=e.relationsOut,i=0,o=a.length;i<o;i++)if(u=a[i],u!==t&&"on"===u.state("locked"))return u;return!1},activateRelationsForElement:function(t){var e,n,i,r,o,s,a;for(o=t.relationsOut,e=0,i=o.length;e<i;e++)a=o[e],a.transitionTo("path","activeOut");for(s=t.relationsIn,n=0,r=s.length;n<r;n++)a=s[n],a.transitionTo("path","activeIn")},resetRelationsForElement:function(t){var e,n,i,r,o,s,a;for(a=t.relationsOut.concat(t.relationsIn),e=0,n=a.length;e<n;e++)s=a[e],i=s.from===t?s.to:s.from,r=i.magnet,o=r.state("mode"),"active"!==o&&(s.transitionTo("path","normal"),s.transitionTo("labels","off"))},publishLocking:function(t){this.lockingPublisherMuted||(this.updateDisabled=!0,null==t?o.publish("locking:set",null):t.element?o.publish("locking:set",t.element.id):t.from&&t.to&&o.publish("locking:set",[t.from.id,t.to.id]),this.updateDisabled=!1)},initLocking:function(){var t;t=this.keyframe.get("locking"),this.lockingPublisherMuted=!0,this.resetStates({preserveLocking:!1}),t&&(r.isArray(t)?this.initRelationLocking(t[0],t[1]):this.initMagnetLocking(t)),this.lockingPublisherMuted=!1},initRelationLocking:function(t,e){var n;if(n=this.getRelation(t,e))return this.resetRelations({except:n}),n.transitionTo("locked","on"),n.transitionTo("path","active"),n.transitionTo("labels","on")},initMagnetLocking:function(t){var e,n;if(e=this.elementsById[t])return n=e.magnet,n.transitionTo("locked","on"),n.transitionTo("mode","active"),this.activateRelationsForElement(e)}},t.exports=i},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;l=n(1),i=n(6),a=n(21),o=n(20),c=n(2),s="left",u="right",r=function(t){function e(t){var n,i,r;this.model=t,e.__super__.constructor.apply(this,arguments),r=function(t){return console.log("Element#"+t+" deprecated. Use the .model."+t+" instead"),this.model[t]},n=function(t,e){Object.defineProperty(t,e,{get:l.partial(r,e)})},i=["name","type","unit","typeData","sumIn","sumOut","date"],Object.defineProperty&&i.forEach(function(t){return function(e){return n(t,e)}}(this)),this.id=this.model.id,this.relationsIn=[],this.relationsOut=[],this.resetTotalVolume(),this.createMagnet(),this.createIndicators()}return h(e,t),e.prototype.DRAW_OPTIONS="paper $container animationDuration chartFormat chartDrawn chartRadius elementCount elementIdsChanged".split(" "),e.prototype.update=function(t,e){this.model=t,this.configuration=e,this.magnet.update(this.model,this.configuration),this.indicators.update(this.model.indicators,this.configuration)},e.prototype.getRate=function(){return 0===this.model.sum?0:this.model.sumOut/this.model.sum},e.prototype.resetTotalVolume=function(){this.totalIn=0,this.totalOut=0,this.total=0},e.prototype.valueIsMissing=function(t){var e;return e=this.model,"outgoing"===t&&e.noOutgoing.length>0&&0===e.sumOut||"incoming"===t&&e.noIncoming.length>0&&0===e.sumIn},e.prototype.createMagnet=function(){var t;return t=new a(this),this.magnet=t,this.addChild(t),t},e.prototype.createIndicators=function(){this.indicators=new o(this),this.addChild(this.indicators)},e.prototype.getAllRelations=function(){return this.relationsIn.concat(this.relationsOut)},e.prototype.addRelationIn=function(t){this.relationsIn.push(t),this.relationsIn.sort(c.relationSorter),this.addRelation(t)},e.prototype.addRelationOut=function(t){this.relationsOut.push(t),this.relationsOut.sort(c.relationSorter),this.addRelation(t)},e.prototype.addRelation=function(t){this.totalOut+=t.value,this.total+=t.value},e.prototype.removeRelationIn=function(t){this.relationsIn=l.without(this.relationsIn,t),this.removeRelation(t)},e.prototype.removeRelationOut=function(t){this.relationsOut=l.without(this.relationsOut,t),this.removeRelation(t)},e.prototype.removeRelation=function(t){this.totalIn-=t.value,this.total-=t.value},e.prototype.removeRelations=function(){this.relationsOut=[],this.relationsIn=[],this.resetTotalVolume()},e.prototype.draw=function(t){this.saveDrawOptions(t),this.magnet.draw(t),2===this.elementCount?this.drawOneToOneRelations(t):this.drawNormalRelations(t),t.degDiff=Math.abs(this.magnet.degdeg-t.previousElement.magnet.degdeg),this.indicators.draw(t),this.drawn=!0},e.prototype.getRelationPosition=function(t){var e;return e=t.from===this?this.model.sumOut:this.model.sumIn,this.getRelationSum(t)/e},e.prototype.getRelationSum=function(t){var e,n,i,r,o;for(o=0,r=t.from===this?this.relationsOut:this.relationsIn,e=0,n=r.length;e<n&&(i=r[e],i!==t);e++)o+=i.value;return o},e.prototype.drawNormalRelations=function(t){this.forOutgoingRelations(function(e){return e.draw(t)})},e.prototype.drawOneToOneRelations=function(t){var e,n,i;i=180===this.magnet.degdeg?s:u,e=i===s,n=i===u,this.forOutgoingRelations(function(i){i.draw(t,e,n)})},e.prototype.forOutgoingRelations=function(t){var e,n,i,r;for(i=this.relationsOut,e=0,n=i.length;e<n;e++)r=i[e],r.visible&&r.to&&t(r)},e.prototype.fadeOut=function(){this.magnet.fadeOut(),this.elementCount<=8&&!this.elementIdsChanged&&this.indicators.fade(!1,this.animationDuration/2),this.forOutgoingRelations(function(t){t.fadeOut()})},e.prototype.dispose=function(){var t,n,i,r,o,s,a;if(!this.disposed){for(o=this.relationsOut.concat(),t=0,i=o.length;t<i;t++)a=o[t],a.dispose();for(s=this.relationsIn.concat(),n=0,r=s.length;n<r;n++)a=s[n],a.dispose();return e.__super__.dispose.apply(this,arguments)}},e}(i),t.exports=r},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;u=n(1),i=n(3),a=n(4),r=n(6),s=n(11),l=n(7),c=n(8),o=function(t){function e(t,n,i){this.element=t,this.model=n,this.configuration=i,e.__super__.constructor.apply(this,arguments),this.initStates({states:["normal","highlight"],initialState:"normal"})}var n,r,o;return h(e,t),n=1e3,e.prototype.DRAW_OPTIONS="paper side".split(" "),e.prototype.update=function(t,e){this.model=t,this.configuration=e},e.prototype.draw=function(t){var e,n;this.saveDrawOptions(t),this.smallestSide=Math.min(this.paper.width,this.paper.height),this.drawn||this.drawElement(),e=null==(n=t.drawVisualization)||n,e&&this.drawVisualization(),this.paper.width>300&&(this.drawValue(),this.drawTendency(),this.drawLabels()),this.drawn||t.$container.append(this.el),this.drawn=!0},e.prototype.drawElement=function(){var t,e,n;t="left"===this.side?"left":"right",e=c("indicatorFontSize",this.smallestSide),this.el=i("<div>").addClass("indicator side-"+t).css("font-size",e+"px"),this.addChild(this.el),n=c("indicatorTopPadding",this.smallestSide),this.labels=i("<div>").addClass("indicator-labels").css("padding-top",n+"px").hover(u.bind(this.transitionTo,this,"highlight"),u.bind(this.transitionTo,this,"normal")).appendTo(this.el)},e.prototype.drawVisualization=function(){var t,e;this.visualizationContainer||(this.visualizationContainer=i("<div>").addClass("indicator-visualization")),"left"===this.side?this.labels.after(this.visualizationContainer):this.labels.before(this.visualizationContainer),e=c("visualizationSize",this.smallestSide),t=e,this.visualizationPaper||(this.visualizationPaper=a(this.visualizationContainer.get(0),e,t)),this.visualization||(this.visualization=new s(this)),this.visualization.update(this.model,this.configuration),this.visualization.draw({paper:this.visualizationPaper,x:0,y:0,width:e,height:t})},e.prototype.drawValue=function(){var t,e;this.model.missing===!1?(t=l(this.configuration,this.model.value,null,null,!0),e=this.template(["units",this.model.unit,"value_html"],{number:t})):e=this.t("not_available"),this.valueContainer?this.valueContainer.html(e):this.valueContainer=i("<div>").addClass("indicator-value-and-unit").html(e).appendTo(this.labels)},o=12,r=12,e.prototype.drawTendency=function(){return this.drawTendencyArrow(),this.drawTendencyPercent()},e.prototype.drawTendencyArrow=function(){var t,e,i,s;return this.tendencyArrowContainer||this.createTendencyArrowContainer(),null==this.model.tendency?(this.tendencyArrowContainer&&this.tendencyArrowContainer.hide(),void(this.tendencyArrow&&(this.tendencyArrow.remove(),delete this.tendencyArrow))):(this.tendencyArrowContainer.show(),t=this.getTendencyArrowRotation(this.model.tendency),e=o/2,i=r/2,s="r"+t+","+e+","+i,this.tendencyArrow?void this.tendencyArrow.animate({transform:s},n,"linear"):void this.createTendencyArrow(s))},e.prototype.createTendencyArrowContainer=function(){this.tendencyArrowContainer=i("<div>").addClass("indicator-tendency-arrow").appendTo(this.labels),this.tendencyArrowPaper=a(this.tendencyArrowContainer.get(0),o,r)},e.prototype.getTendencyArrowRotation=function(t){switch(t){case 2:return-90;case 1:return-45;case-1:return 45;case-2:return 90}},e.prototype.createTendencyArrow=function(t){var e,n,i,s,u,l,c,h,f;s=this.tendencyArrowPaper,l={stroke:this.configuration.color("tendencyArrow"),"stroke-width":1.5},f=o,e=r,i=a.format("M{0},{1} L{2},{3}",0,e/2,f,e/2),n=s.path(i).attr(l),h=a.format("M{0},{1} L{2},{3} L{4},{5}",.55*f,.1*e,.95*f,e/2,.55*f,.9*e),c=s.path(h).attr(l),u=this.paper.set(),u.push(c,n),u.transform(t),this.tendencyArrow=u},e.prototype.drawTendencyPercent=function(){var t,e,n,r,o,s;return r=this.model.tendencyPercent,this.tendencyPercent||(this.tendencyPercent=i("<div>").addClass("indicator-tendency-percent").appendTo(this.labels)),null==r?void this.tendencyPercent.html(""):(n='<span class="narrow-space">&nbsp;</span>',o=r>=0?"+"+n:"",e="absolute"===this.model.representation,s=e?n+"%":"",e&&(r*=100),r=l(this.configuration,r,null,null,!0),t="("+o+r+s+")",void this.tendencyPercent.html(t))},e.prototype.drawLabels=function(){var t,e,n,i,r,o,s;n=this.model,o=n.type,s=n.unit,i=this.t("indicators",o,"short"),e=this.t("indicators",o,"full"),t=this.template(["value_in_unit"],{unit:this.t("units",s,"full")}),r={shortLabelText:i,fullLabelText:e,descriptionText:t},this.shortLabel?this.fillLabels(r):this.createLabels(r)},e.prototype.createLabels=function(t){this.shortLabel=i("<div>").addClass("indicator-short-label").text(t.shortLabelText).appendTo(this.labels),this.fullLabelAndDescription=i("<div>").addClass("indicator-full-label-and-description"),this.fullLabel=i("<div>").addClass("indicator-full-label").text(t.fullLabelText).appendTo(this.fullLabelAndDescription),t.descriptionText&&(this.descriptionLabel=i("<div>").addClass("indicator-description").text(t.descriptionText).appendTo(this.fullLabelAndDescription)),this.fullLabelAndDescription.appendTo(this.labels)},e.prototype.fillLabels=function(t){this.shortLabel.text(t.shortLabelText),this.fullLabel.text(t.fullLabelText),t.descriptionText?this.descriptionLabel.text(t.descriptionText).show():this.descriptionLabel.hide()},e.prototype.enterNormalState=function(){this.el&&this.fullLabelAndDescription.stop(!0,!0).slideUp("fast",function(t){return function(){return t.el.removeClass("open")}}(this))},e.prototype.enterHighlightState=function(){this.el&&(this.fullLabelAndDescription.stop(!0,!0).slideDown("fast"),this.el.addClass("open"))},e}(r),t.exports=o},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h,f,p,d,g,v,m,y,x,b,w,T=function(t,e){return function(){return t.apply(e,arguments)}},k=function(t,e){function n(){this.constructor=t}for(var i in e)C.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},C={}.hasOwnProperty;i=n(3),v=n(4),o=n(6),l=n(19),c=n(11),x=n(8),w=n(2),d=Math.PI,s=d/2,b=Math.sin,y=Math.cos,m="top",f="left",r="bottom",g="right",p="normal",u="invisible",a="highlight",h=function(t){function e(t){this.element=t,this.drawNineToAllAfterTransition=T(this.drawNineToAllAfterTransition,this),this.drawOneToEightIndicators=T(this.drawOneToEightIndicators,this),this.draw=T(this.draw,this),e.__super__.constructor.apply(this,arguments),this.initStates({states:[p,u,a],initialState:p}),this.indicators=[]}return k(e,t),e.prototype.DRAW_OPTIONS="paper $container animationDuration chartFormat chartRadius elementCount elementIdsChanged indicatorVisible degDiff".split(" "),e.prototype.update=function(t,e){this.models=t,this.configuration=e},e.prototype.createIndicators=function(){var t,e,n,i,r;for(this.indicators=[],r=this.models,t=0,i=r.length;t<i;t++)n=r[t],e=new l(this.element),this.indicators.push(e),this.addChild(e)},e.prototype.transitionFirstIndicator=function(t){var e,n;null!=(e=this.indicators)&&null!=(n=e[0])&&n.transitionTo(t)},e.prototype.removeIndicators=function(){var t,e,n,i;if(this.indicators)for(i=this.indicators,t=0,n=i.length;t<n;t++)e=i[t],this.removeChild(e)},e.prototype.updateIndicators=function(){var t,e,n,i,r;for(r=this.indicators,e=t=0,i=r.length;t<i;e=++t)n=r[e],n.update(this.models[e],this.configuration)},e.prototype.draw=function(t){this.saveDrawOptions(t),this.animateExisting=this.elementCount<9&&!this.elementIdsChanged&&this.sameIndicatorTypes(),this.animateExisting||(this.removeIndicators(),this.createIndicators()),this.updateIndicators(),this.setVisibility(),this.calculateLimit(),this.calculateHeightAndDistance(),this.calculateSide(),this.calculateStart(),this.elementCount<9?this.drawOneToEight():this.drawNineToAll(),this.drawn=!0},e.prototype.sameIndicatorTypes=function(){return this.indicators&&this.models.length===this.indicators.length&&_.every(this.indicators,function(t){return function(e,n){var i,r;return i=t.models[n],r=e.model,i.type===r.type&&i.unit===r.unit}}(this))},e.prototype.calculateLimit=function(){this.indicatorLimit=this.paper.width<=300?0:this.elementCount>=9?1:this.elementCount>=6?2:this.elementCount>=3?3:5,this.visibleCount=Math.min(this.indicatorLimit,this.indicators.length)},e.prototype.setVisibility=function(){var t,e;e=this.elementCount<9&&this.degDiff>=18||this.elementCount>=9&&this.indicatorVisible||1===this.elementCount,t=e?p:u,this.transitionTo(t)},e.prototype.calculateHeightAndDistance=function(){var t;t=Math.min(this.paper.width,this.paper.height),this.indicatorHeight=x("indicatorHeight",t),this.distanceToMagnet=x("indicatorDistance",t)},e.prototype.calculateSide=function(){var t,e;t=this.element.magnet.degdeg,this.side=-65<t&&t<=65?g:65<t&&t<=115?r:115<t&&t<=245?f:245<t||-90<=t&&t<=-65?m:void 0,this.labelBesideIndicators=((e=this.side)===m||e===r)&&this.indicatorLimit>2},e.prototype.calculateStart=function(){var t,e,n,i,r,o,a,u,l,c,h,p;return n=this.element.magnet,t=n.deg,this.tanYFactor=1/Math.tan(this.side===f?s-t:t-s),u=n.absx4,h=n.absy4,l=n.absx6,p=n.absy6,a=u+(l-u)/2,c=h+(p-h)/2,this.elementCount<3?(this.startX=(this.side===f?l:u)+this.distanceToMagnet*(this.side===f?-1:1),void(this.startY=this.paper.height/2+this.chartRadius*-.4)):(a+=y(t)*this.distanceToMagnet,c+=b(t)*this.distanceToMagnet,this.elementCount<9&&(this.side===m&&this.visibleCount&&(c-=(this.visibleCount-(this.labelBesideIndicators?1:0))*this.indicatorHeight),(r=this.side)!==f&&r!==g||(e=this.side===g?-1:1,o=this.visibleCount*this.indicatorHeight,i=o/2,a+=e*i*this.tanYFactor,c-=i)),this.startX=a,void(this.startY=c))},e.prototype.afterTransition=function(t){var e;e=!this.animateExisting&&this.drawn&&this.animationDuration>0?this.animationDuration+100:0,clearTimeout(this.afterTransitionHandle),this.afterTransitionHandle=w.after(e,t)},e.prototype.drawOneToEight=function(){var t;t=this.chartFormat===w.FORMAT_DEFAULT,this.removeNineToAllVisualization(),this.state()===p?(t&&this.drawCountryLabel(),this.afterTransition(this.drawOneToEightIndicators)):(this.removeCountryLabel(),this.hideIndicators())},e.prototype.drawCountryLabel=function(){var t,e,n,i,o,s,a,u,l,c,h,p,d;s=this.element.magnet,t=s.deg,p=this.startX,d=this.startY-2,i=this.elementCount>=9,i?(e=this.distanceToMagnet,p+=y(t)*e,d+=b(t)*e,this.side===m&&this.visibleCount&&(d-=(this.visibleCount-(this.labelBesideIndicators?1:0))*this.indicatorHeight)):((u=this.side)!==f&&u!==g||!this.visibleCount||(h=x("visualizationSize",this.paper.width),p+=h/4*(this.side===f?-1:1)),this.labelBesideIndicators&&this.visibleCount&&(p-=20)),o=this.t("entityNames",this.element.id),a=!this.countryLabel,a&&(this.countryLabel=this.paper.text(p,d,o).attr({"font-family":"inherit","font-weight":"bold",fill:"rgb(45, 45, 45)"}).hover(_.bind(this.transitionFirstIndicator,this,"highlight"),_.bind(this.transitionFirstIndicator,this,"normal"))),c=this.labelBesideIndicators?"end":(l=this.side)===m||l===r?"middle":this.side===f?"end":"start",n=x("countryLabelSize",this.paper.width),this.countryLabel.attr({text:o,"text-anchor":c,"font-size":n,opacity:1}),a?this.addChild(this.countryLabel):this.countryLabel.stop().animate({x:p,y:d},this.animationDuration,"easeOut"),this.countryLabelX=p,this.countryLabelY=d},e.prototype.removeCountryLabel=function(){this.countryLabel&&(this.removeChild(this.countryLabel),delete this.countryLabel,delete this.countryLabelX,delete this.countryLabelY)},e.prototype.drawOneToEightIndicators=function(){var t,e,n,i,o,s,a,u,l,c,h,p,d,v;if(0!==this.visibleCount)for(d=this.startX,v=this.startY,(l=this.side)!==m&&l!==r||this.labelBesideIndicators||(d+=x("indicatorIndent",this.paper.width)),c=this.indicators.slice(0,this.visibleCount),o=i=0,u=c.length;i<u;o=++i)s=c[o],(h=this.side)===f||h===g?(t=this.side===f?-1:1,d+=t*this.indicatorHeight*this.tanYFactor,v+=this.indicatorHeight):(!this.labelBesideIndicators||o>0)&&(v+=this.indicatorHeight),s.draw({paper:this.paper,$container:this.$container,side:this.side}),a=s.el,p=Math.min(this.paper.width,this.paper.height),n=v-x("visualizationSize",p)/2,this.side===f?(e=this.paper.width-d,a.css({right:e,top:n})):(e=d,a.css({left:e,top:n}))},e.prototype.drawNineToAll=function(){var t,e;e=this.state()===p,t=this.chartFormat===w.FORMAT_DEFAULT,this.removeNineToAllVisualization(),e?this.countryLabel&&t&&this.drawCountryLabel():(this.removeCountryLabel(),this.hideIndicators()),this.afterTransition(this.drawNineToAllAfterTransition)},e.prototype.drawNineToAllAfterTransition=function(){var t,e;e=this.state()===p,t=this.chartFormat===w.FORMAT_DEFAULT,!this.countryLabel&&e&&t&&this.drawCountryLabel(),this.drawNineToAllVisualization(),e&&this.drawNineToAllIndicator()},e.prototype.drawNineToAllVisualization=function(){var t,e,n,i,r;e=this.indicators[0],e&&(this.visualization||(this.visualization=new c(e),this.visualization.update(this.models[0],this.configuration),this.listenTo(this.visualization,"mouseenter",this.visualizationMouseenter),this.listenTo(this.visualization,"mouseleave",this.visualizationMouseleave),this.addChild(this.visualization)),n=x("visualizationSizeNineToAll",this.paper.width),t=n,i=this.startX-n/2,r=this.startY-t/2,this.visualization.draw({paper:this.paper,x:i,y:r,width:n,height:t}))},e.prototype.visualizationMouseenter=function(){this.state()===u&&this.transitionTo(a),this.element.magnet.transitionTo("mode","highlight")},e.prototype.visualizationMouseleave=function(){this.state()===a&&this.transitionTo(u),this.element.magnet.transitionTo("mode","normal")},e.prototype.removeNineToAllVisualization=function(){this.visualization&&(this.removeChild(this.visualization),delete this.visualization)},e.prototype.drawNineToAllIndicator=function(){var t,e,n,i,o;t=this.indicators[0],t&&(t.draw({paper:this.paper,$container:this.$container,side:this.side,drawVisualization:!1}),i=this.countryLabelX-4,o=this.countryLabelY+.75*x("magnetLabelSize",this.paper.width),(n=this.side)!==m&&n!==r||this.labelBesideIndicators||(i+=x("indicatorIndent",this.paper.width)),e=t.el,this.side===f?(i=this.paper.width-i,e.css({right:i,top:o})):e.css({left:i,top:o}))},e.prototype.hideIndicators=function(){var t,e,n,i;for(i=this.indicators,t=0,n=i.length;t<n;t++)e=i[t],e.el&&e.el.hide()},e.prototype.fade=function(t,e,n){var i,r,o,s,a;if(!this.drawn)return void("function"==typeof n&&n());for(i=t?1:0,this.countryLabel.stop().show().animate({opacity:i},e,"linear",n),a=this.indicators,r=0,s=a.length;r<s;r++)o=a[r],o.el&&o.el.stop(!0,!1).css({display:"block"}).animate({opacity:i},e,"linear")},e.prototype.fadeIn=function(t){this.fade(!0,this.animationDuration/2,t)},e.prototype.fadeOut=function(t){this.fade(!1,this.animationDuration/2,t)},e.prototype.enterInvisibleState=function(t){t===a&&this.fadeOut()},e.prototype.enterHighlightState=function(t){t===u&&(this.drawCountryLabel(),this.elementCount<9?this.drawOneToEightIndicators():this.drawNineToAllIndicator(),this.fadeIn())},e.prototype.dispose=function(){if(!this.disposed)return clearTimeout(this.afterTransitionHandle),e.__super__.dispose.apply(this,arguments)},e}(o),t.exports=h},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h,f,p,d,g,v,m,y,x,b,w,T=function(t,e){return function(){return t.apply(e,arguments)}},k=function(t,e){function n(){this.constructor=t}for(var i in e)C.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},C={}.hasOwnProperty;i=n(3),g=n(4),y=n(9),r=n(6),m=n(7),x=n(8),w=n(2),d=Math.PI,a=d/2,b=Math.sin,v=Math.cos,l="inside",f="outside",h="outgoing",u="incoming",p=[h,u],s="easeOut",o="easeIn",c=function(t){function e(t){this.element=t,this.clicked=T(this.clicked,this),this.mouseleaveHandler=T(this.mouseleaveHandler,this),this.mouseenterHandler=T(this.mouseenterHandler,this),this.fadeInBars=T(this.fadeInBars,this),this.drawAfterTransition=T(this.drawAfterTransition,this),e.__super__.constructor.apply(this,arguments),
this.markerObjects=[],this.barsVisible=!1,this.initStates({states:{locked:["on","off"],mode:["normal","highlight","active","dimmedOut"]},initialState:{locked:"off",mode:"normal"}})}var n,r;return k(e,t),r=10,n=.5,e.prototype.DRAW_OPTIONS="paper animationDuration chartDrawn elementCount".split(" "),e.prototype.x1=0,e.prototype.y1=0,e.prototype.x2=0,e.prototype.y2=0,e.prototype.x3=0,e.prototype.y3=0,e.prototype.x4=0,e.prototype.y4=0,e.prototype.x5=0,e.prototype.y5=0,e.prototype.x6=0,e.prototype.y6=0,e.prototype.setPosition=function(t,e,n,i,r,o){var s;this.deg=t,this.x1=e,this.y1=n,this.x3=i,this.y3=r,this.degdeg=g.deg(this.deg),s=this.element.getRate(),this.element.valueIsMissing(h)&&this.element.valueIsMissing(u)?s=.5:this.element.valueIsMissing(h)?s=o:this.element.valueIsMissing(u)&&(s=1-o),this.x2=this.x1+(this.x3-this.x1)*s,this.y2=this.y1+(this.y3-this.y1)*s},e.prototype.update=function(t,e){this.model=t,this.configuration=e},e.prototype.draw=function(t){var e,n;this.saveDrawOptions(t),n=this.elementCount<3?"magnetSizeUpToTwo":"magnetSize",this.weight=x(n,this.paper.width),this.calculateOuterPoints(),this.calculateAbsolutePoints(),this.calculateDistances(t.previousElement,t.nextElement),this.removeLabels(),this.removeMarkers(),this.drawBars(),clearTimeout(this.afterTransitionHandle),clearTimeout(this.fadeInHandle),e=this.animationDuration>0?this.animationDuration+100:0,this.chartDrawn?this.afterTransitionHandle=w.after(e,this.drawAfterTransition):this.drawAfterTransition(),this.chartDrawn&&!this.barsVisible&&(this.fadeInHandle=w.after(e,this.fadeInBars)),this.drawn=!0},e.prototype.drawAfterTransition=function(){this.afterTransitionHandle=null,this.elementCount<3&&this.drawMarkers(),this.drawLabels()},e.prototype.fadeInBars=function(){var t,e,i,r,o,a;for(this.fadeInHandle=null,o="dimmedOut"===this.state("mode")?n:1,t={"fill-opacity":o},e=this.animationDuration/2,i=0,r=p.length;i<r;i++)a=p[i],this[a+"Bar"].animate(t,e,s);this.barsVisible=!0},e.prototype.calculateDistances=function(t,e){this.distanceToPrevious=Math.sqrt(Math.pow(this.x1-t.magnet.x3,2)+Math.pow(this.y1-t.magnet.y3,2)),this.distanceToNext=Math.sqrt(Math.pow(this.x2-e.magnet.x1,2)+Math.pow(this.y2-e.magnet.y1,2))},e.prototype.calculateOuterPoints=function(){var t,e;t=v(this.deg)*this.weight,e=b(this.deg)*this.weight,this.x4=this.x1+t,this.y4=this.y1+e,this.x5=this.x2+t,this.y5=this.y2+e,this.x6=this.x3+t,this.y6=this.y3+e},e.prototype.calculateAbsolutePoints=function(){var t,e,n,i;for(e=this.paper.width/2,t=this.paper.height/2,n=i=1;i<=6;n=++i)this["absx"+n]=this["x"+n]+e,this["absy"+n]=this["y"+n]+t},e.prototype.drawBars=function(){this.drawOutgoingBar(),this.drawIncomingBar()},e.prototype.drawOutgoingBar=function(){var t;t="M "+this.absx1+", "+this.absy1+", L "+this.absx2+", "+this.absy2+", L "+this.absx5+", "+this.absy5+", L "+this.absx4+", "+this.absy4+" Z",this.drawBar(h,t)},e.prototype.drawIncomingBar=function(){var t;t="M "+this.absx2+", "+this.absy2+", L "+this.absx3+", "+this.absy3+", L "+this.absx6+", "+this.absy6+", L "+this.absx5+", "+this.absy5+" Z",this.drawBar(u,t)},e.prototype.drawBar=function(t,e){var n,i,r,o,a;return n=t+"Bar",i=this.element.valueIsMissing(t)?["magnetMissingValueBg"]:["magnets",this.model.dataType.type,t],i=(a=this.configuration).color.apply(a,i),this.drawn?void this[n].stop().animate({fill:i,path:e},this.animationDuration,s):(r=!this.drawn&&this.chartDrawn?0:1,o=this.paper.path(e).attr({fill:i,"stroke-width":0,"stroke-opacity":0,"fill-opacity":r}),this.addChild(o),this[n]=o,void this.registerMouseHandlers(o))},e.prototype.drawLabels=function(){var t,e,n,i,r,o,s;for(t=0,i=p.length;t<i;t++)s=p[t],this.drawLabel(s);if(this.elementCount<3)for(e=0,r=p.length;e<r;e++)s=p[e],this.drawDescriptionLabel(s);for(this.calculateLabelPosition(),this.labelsVisible||this.hideLabels(),n=0,o=p.length;n<o;n++)s=p[n],this.positionLabel(s)},e.prototype.drawLabel=function(t){var e,n,r,o,s,a;r=this.model[t===h?"sumOut":"sumIn"],s="",a=this.model.dataType.unit,this.element.valueIsMissing(t)?s=this.t("not_available"):(r=m(this.configuration,r,null,null,!1),s=this.template(["units",a,"value"],{number:r})),o=this.elementCount<3?"magnetLabelSizeUpToTwo":"magnetLabelSize",e=x(o,this.paper.width),n=this.paper.text(0,0,s).attr({fill:"white","font-family":"inherit","font-size":e," font-weight":"bold"}),this[t+"Label"]=n,this.addChild(n),i(n.node).hover(this.mouseenterHandler,this.mouseleaveHandler).click(this.clicked)},e.prototype.drawDescriptionLabel=function(t){var e,n,i;e=x("magnetLabelSizeUpToTwo",this.paper.width),i=this.t("flow",this.model.dataType.type,t),n=this.paper.text(0,0,i).attr({"font-family":"inherit","font-size":e}),this[t+"DescriptionLabel"]=n,this.addChild(n)},e.prototype.calculateLabelPosition=function(){this.elementCount<3?this.calculateLabelPositionUpToTwo():this.calculateLabelPositionThreePlus()},e.prototype.calculateLabelPositionUpToTwo=function(){var t,e,n,i,r,o,s,a,u,c,h,d,g,v,m,y;for(s={},n=x("magnetLabelSizeUpToTwo",this.paper.width),m=n/2,y=n,c=this.getLabelsHeightUpToTwo()+2*y,t=this.getBarWidths(),i=0,h=p.length;i<h;i++)v=p[i],s[v]=c<=t[v]?l:f;for(u=this.getLabelWidths(),e=this.getDescriptionLabelWidths(),r=0,d=p.length;r<d;r++)v=p[r],s[v]===l&&(a=Math.max(u[v],e[v])+2*m,s[v]=a<=this.weight?l:f);for(o=0,g=p.length;o<g;o++)v=p[o],this[v+"LabelPosition"]=s[v];this.labelsVisible=!0},e.prototype.calculateLabelPositionThreePlus=function(){var t,e,n,i,r,o;e=this.getBarWidths(),i=this.getLabelWidths(),r=4,n=i.sum+2*r,t=e.sum,this.labelPosition=f,o=this.distanceToPrevious>=1.8*i.outgoing&&this.distanceToNext>=1.8*i.incoming,this.labelsVisible=this.elementCount<9&&(this.labelPosition===l||o)},e.prototype.getBarWidths=function(){var t,e,n,i,r;for(r={sum:0},t=0,e=p.length;t<e;t++)n=p[t],i=this.getBarWidth(n),r[n]=i,r.sum+=i;return r},e.prototype.getBarWidth=function(t){var e,n,i,r;return t===h?(i=this.absx1,r=this.absy1,e=this.absx2,n=this.absy2):(i=this.absx2,r=this.absy2,e=this.absx3,n=this.absy3),Math.sqrt(Math.pow(n-r,2)+Math.pow(e-i,2))},e.prototype.getLabelWidths=function(){var t,e,n,i,r;for(r={sum:0},t=0,e=p.length;t<e;t++)n=p[t],i=this[n+"Label"].getBBox().width,r[n]=i,r.sum+=i;return r},e.prototype.getDescriptionLabelWidths=function(){var t,e,n,i,r;for(r={sum:0},t=0,e=p.length;t<e;t++)n=p[t],i=this[n+"DescriptionLabel"].getBBox().width,r[n]=i,r.sum+=i;return r},e.prototype.getLabelsHeightUpToTwo=function(){var t,e;return t=x("magnetLabelSizeUpToTwo",this.paper.width),e=1.2,2*t*e},e.prototype.positionLabel=function(t){var e,n,i,r,o,s,a,u,l,c,h;i=this[t+"Label"],o=this.getLabelPosition(t),c=o.x,h=o.y,a=o.textAnchor,l=o.textRotation,e={x:c,y:h,"text-anchor":a},this.elementCount<3?(u=this.element.valueIsMissing(t)?"magnetMissingValueFg":this[t+"LabelPosition"]===f?"fg":"bg",u=this.configuration.color(u),n=x("magnetLabelSizeUpToTwo",this.paper.width),r=1.2,h+=n*r,this[t+"DescriptionLabel"].attr({x:c,y:h,"text-anchor":a,fill:u})):(u=this.element.valueIsMissing(t)?["magnetMissingValueFg"]:this.labelPosition===f?["magnets",this.element.model.dataType.type,t]:["bg"],u=(s=this.configuration).color.apply(s,u),i.transform("r"+l+", "+c+", "+h)),e.fill=u,i.attr(e)},e.prototype.getLabelPosition=function(t){return this.elementCount<3?this.getLabelPositionUpToTwo(t):this.getLabelPositionThreePlus(t)},e.prototype.getLabelPositionUpToTwo=function(t){var e,n,i,r,o,s,a;return n=t===h,r=this.absx6,e=x("magnetLabelSizeUpToTwo",this.paper.width),o=x("magnetLabelXOffsetUpToTwo",this.paper.width),a=e,this.degdeg>0?(i="start",r+=o,n?(s=this.outgoingLabelPosition===l?this.absy5:this.absy4,s+=a):this.incomingLabelPosition===l?(s=this.absy6,s+=a):s=this.absy6-this.getLabelsHeightUpToTwo()):(i="end",r-=o,n?this.outgoingLabelPosition===l?(s=this.absy4,s+=a):s=this.absy4-this.getLabelsHeightUpToTwo():(s=this.incomingLabelPosition===l?this.absy5:this.absy6,s+=a)),{x:r,y:s,textAnchor:i}},e.prototype.getLabelPositionThreePlus=function(t){var e,n,i,r,o,s,u,c,p,d,g;return o=this,e=o.deg,n=o.degdeg,r=t===h,n>=0&&n<=90?(p=n-90,c=r?"end":"start"):n>90&&n<180?(p=n-90,c=r?"end":"start"):(p=n+90,c=r?"start":"end"),this.labelPosition===f&&(c="start"===c?"end":"start"),r?(s=this.absx1,u=this.absy1):(s=this.absx3,u=this.absy3),i=r?this.labelPosition===l?1:-1:this.labelPosition===l?-1:1,d=s+v(e)*(this.weight/2)+i*v(e+a)*5,g=u+b(e)*(this.weight/2)+i*b(e+a)*5,{x:d,y:g,textAnchor:c,textRotation:p}},e.prototype.removeLabels=function(){var t,e,n,i,r,o,s,a,u;for(t=0,i=p.length;t<i;t++)for(o=p[t],a=["Label","DescriptionLabel"],e=0,r=a.length;e<r;e++)u=a[e],s=""+o+u,n=this[s],n&&(this.removeChild(n),delete this[s])},e.prototype.showLabels=function(){var t,e,n,i;for(t=0,e=p.length;t<e;t++)n=p[t],null!=(i=this[n+"Label"])&&i.show().toFront()},e.prototype.hideLabels=function(){var t,e,n,i;for(t=0,e=p.length;t<e;t++)n=p[t],null!=(i=this[n+"Label"])&&i.hide()},e.prototype.drawMarkers=function(){this.drawOutgoingMarkers(),this.drawIncomingMarkers()},e.prototype.drawOutgoingMarkers=function(){var t,e,n,i,r,o;for(o=this.element.relationsOut,e=[],t=!0,n=0,i=o.length;n<i;n++)r=o[n],r.to?(this.drawNormalMarker(r,!1),e.push(r)):t&&(t=this.drawNormalMarker(r,!0),t&&e.push(r));this.drawOthersMarker(e,h)},e.prototype.drawIncomingMarkers=function(){var t,e,n,i,r,o,s;for(s=this.element.relationsIn,n=[],t=!0,i=0,r=s.length;i<r&&(o=s[i],e=!o.from,t=this.drawNormalMarker(o,e),(t||o.from)&&n.push(o),t);i++);this.drawOthersMarker(n,u)},e.prototype.drawNormalMarker=function(t,e){var n,i,r,o;return i=t.from===this.element,n=i?h:u,o=this.element.getRelationPosition(t),e?(r=i?t.toId:t.fromId,r=r.toUpperCase()):r="",this.drawMarker(n,o,t.value,r)},e.prototype.drawOthersMarker=function(t,e){var n,i,r,o,s,a;t.length<2||(o=function(t,e){return t+e.value},n=_.reduce(t,o,0),s=e===h?this.element.model.sumOut:this.element.model.sumIn,r=n/s,a=s-n,0!==a&&(i=this.t("magnet","one_to_one_others"),this.drawMarker(e,r,a,i)))},e.prototype.drawMarker=function(t,e,n,i){var o,s,a,u,l,c,f,p,d,v,m,y,x,b,w,_,T;return o=this.degdeg,a=180===o,u=t===h,a?u?(x=this.absx2,p=this.absy2,s=this.absy1):(x=this.absx3,p=this.absy3,s=this.absy2):u?(x=this.absx1,p=this.absy1,s=this.absy2):(x=this.absx2,p=this.absy2,s=this.absy3),T=s-p,b=p+T*e,d=t===h?this.element.model.sumOut:this.element.model.sumIn,w=b+T*(n/d),_=Math.abs(w-b),!(_<4)&&(0!==e&&(f=g.format("M{0},{1} L{2},{3}",x,b,x+(a?-1:1)*r,b),c=this.paper.path(f).attr({stroke:"white","stroke-opacity":1}),this.addChild(c),this.markerObjects.push(c)),_<10||(i&&(a?(v="start",m=x+5):(v="end",m=x-5),y=(b+w)/2,l=this.paper.text(m,y,i).attr({fill:"rgb(180, 180, 180)","font-family":"inherit","font-size":10,"text-anchor":v}),this.addChild(l),this.markerObjects.push(l)),!0))},e.prototype.removeMarkers=function(){var t,e,n,i;for(i=this.markerObjects,t=0,e=i.length;t<e;t++)n=i[t],this.removeChild(n);this.markerObjects=[]},e.prototype.showContextBox=function(){y.publish("contextbox:explainMagnet",this.element.model)},e.prototype.hideContextBox=function(){y.publish("contextbox:hide")},e.prototype.registerMouseHandlers=function(t){i(t.node).hover(this.mouseenterHandler,this.mouseleaveHandler).click(this.clicked)},e.prototype.mouseenterHandler=function(){var t;t=this.state("mode"),"highlight"!==t&&(this.showContextBox(),"active"!==t&&this.transitionTo("mode","highlight"))},e.prototype.mouseleaveHandler=function(t){var e,n;e=t.relatedTarget,n=_.some(this.displayObjects,function(t){var n;return n=t.node,n&&(e===n||i.contains(n,e))}),n||(this.hideContextBox(),this.trigger("mouseleave",this))},e.prototype.clicked=function(){"on"===this.state("locked")?(this.transitionTo("mode","highlight"),this.transitionTo("locked","off")):(this.transitionTo("mode","active"),this.transitionTo("locked","on")),this.trigger("click",this)},e.prototype.enterModeNormalState=function(t){t&&(this.removeDim(),this.labelsVisible||this.hideLabels())},e.prototype.enterModeDimmedOutState=function(){this.dimOut(),this.labelsVisible||this.hideLabels()},e.prototype.enterModeHighlightState=function(){this.removeDim(),this.labelsVisible||this.showLabels()},e.prototype.enterModeActiveState=function(){this.removeDim(),this.labelsVisible||this.showLabels()},e.prototype.dimOut=function(){this.fadeInHandle||this.animateBarLook({"fill-opacity":n},this.animationDuration/4,s)},e.prototype.removeDim=function(){this.fadeInHandle||this.animateBarLook({"fill-opacity":1},this.animationDuration/4,o)},e.prototype.animateBarLook=function(t,e,n){this.lookAnimation&&(this.outgoingBar.stop(this.lookAnimation),this.incomingBar.stop(this.lookAnimation)),this.lookAnimation=g.animation(t,e,n),this.outgoingBar.animate(this.lookAnimation),this.incomingBar.animate(this.lookAnimation)},e.prototype.fadeOut=function(){var t,e,n,i;for(i=this.displayObjects,e=0,n=i.length;e<n;e++)t=i[e],t.stop&&t.animate&&t.stop().animate({opacity:0},this.animationDuration/2)},e.prototype.dispose=function(){if(!this.disposed)return clearTimeout(this.afterTransitionHandle),clearTimeout(this.fadeInHandle),e.__super__.dispose.apply(this,arguments)},e}(r),t.exports=c},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h,f,p,d,g,v,m,y,x,b,w,_,T=function(t,e){return function(){return t.apply(e,arguments)}},k=function(t,e){function n(){this.constructor=t}for(var i in e)C.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},C={}.hasOwnProperty;i=n(3),v=n(1),d=n(4),b=n(9),s=n(6),x=n(7),_=n(2),p=Math.PI,l=p/2,w=Math.sin,y=Math.cos,m=Math.atan2,a="easeIn",u="easeOut",o=10,f=20,h=.25,r=.9,c=1,g=function(t){function e(t){this.clicked=T(this.clicked,this),this.mouseleaveHandler=T(this.mouseleaveHandler,this),this.mouseenterHandler=T(this.mouseenterHandler,this),this.drawArrows=T(this.drawArrows,this),e.__super__.constructor.apply(this,arguments),this.fromId=t.fromId,this.from=t.from,this.toId=t.toId,this.to=t.to,this.id=this.fromId+">"+this.toId,this.initStates({states:{locked:["on","off"],path:["normal","highlight","active","activeIn","activeOut"],labels:["on","off"]},initialState:{locked:"off",path:"normal",labels:"off"}})}return k(e,t),e.prototype.DRAW_OPTIONS="paper $container animationDuration chartDrawn".split(" "),e.prototype.DRAW_PROPERTIES="path destinationArrow sourceArrow labelContainer valueBox descriptionBox fadeDuration lookAnimation "+"animationDeferred".split(" "),e.prototype.update=function(t){this.configuration=t.configuration,this.to=t.to,this.value=t.value,this.positionOut=t.positionOut,this.positionIn=t.positionIn,this.missingRelations=t.missingRelations},e.prototype.draw=function(t,e,n){var r,o,s,a,c,f,p,g,x,b,_,T,k,C,S,A,E,L,I,N,O;if(null==e&&(e=!1),null==n&&(n=!1),this.saveDrawOptions(t),!this.visible&&this.drawn)return void this.reset();if(this.visible&&this.from&&this.to){if(this.fadeDuration=this.animationDuration/2,x=this.from.magnet,I=this.to.magnet,C=this,O=C.value,T=C.positionIn,k=C.positionOut,b=this.from.model.sumOut,N=this.to.model.sumIn,this.from===this.to&&(n=e),_={x:this.paper.width/2,y:this.paper.height/2},E={start:{x:e?x.x2:x.x1,y:e?x.y2:x.y1},end:{x:e?x.x1:x.x2,y:e?x.y1:x.y2}},f={start:{x:n?I.x3:I.x2,y:n?I.y3:I.y2},end:{x:n?I.x2:I.x3,y:n?I.y2:I.y3}},E.length=Math.sqrt(Math.pow(E.end.x-E.start.x,2)+Math.pow(E.end.y-E.start.y,2)),A={start:{x:this.relationMiddlePointX(E,b,O,k,_),y:this.relationMiddlePointY(E,b,O,k,_)},end:{x:this.relationMiddlePointX(f,N,O,T,_),y:this.relationMiddlePointY(f,N,O,T,_)}},p=Math.sqrt(Math.pow(A.end.y-A.start.y,2)+Math.pow(A.end.x-A.start.x,2)),a=.4*p,c={},c.start={},c.start.deg=e?m(E.start.y-E.end.y,E.start.x-E.end.x)-l:m(E.end.y-E.start.y,E.end.x-E.start.x)-l,c.start.cos=y(c.start.deg),c.start.sin=w(c.start.deg),c.start.distCos=c.start.cos*a,c.start.distSin=c.start.sin*a,c.end={},c.end.deg=n?m(f.start.y-f.end.y,f.start.x-f.end.x)-l:m(f.end.y-f.start.y,f.end.x-f.start.x)-l,c.end.cos=y(c.end.deg),c.end.sin=w(c.end.deg),c.end.distCos=c.end.cos*a,c.end.distSin=c.end.sin*a,s={start:{x:A.start.x-c.start.distCos,y:A.start.y-c.start.distSin},end:{x:A.end.x-c.end.distCos,y:A.end.y-c.end.distSin}},A.pathString="M"+A.start.x+","+A.start.y+"C"+s.start.x+","+s.start.y+" "+s.end.x+","+s.end.y+" "+A.end.x+","+A.end.y,L=E.length/b*this.value,L=Math.max(L,.8),null!=(S=this.animationDeferred)&&S.reject(),this.animationDeferred=i.Deferred(),g=v.bind(this.drawArrows,this,E,f,c,_),this.drawn)return this.hideArrows(),void this.path.stop().animate({path:A.pathString,"stroke-width":L},this.animationDuration,u,g);this.path=this.paper.path(A.pathString).attr({stroke:this.relationColor(),"stroke-opacity":this.chartDrawn?0:h,"stroke-width":L}),this.addChild(this.path),this.chartDrawn?(r=this.animationDuration>0?this.animationDuration+100:0,o=d.animation({"stroke-opacity":h},this.fadeDuration,u,g).delay(r),this.path.animate(o)):(g(),this.animationDeferred.resolve()),this.registerMouseHandlers(),this.drawn=!0}},e.prototype.relationPoint=function(t,e,n,i){return e.start[t]+n+i[t]},e.prototype.relationStartPoint=function(t,e,n,i,r,o){var s,a;return a=e.end[t]-e.start[t],s=r*a,this.relationPoint(t,e,s,o)},e.prototype.relationMiddlePoint=function(t,e,n,i,r,o){var s,a;return a=e.end[t]-e.start[t],s=r*a+i/2/n*a,this.relationPoint(t,e,s,o)},e.prototype.relationEndPoint=function(t,e,n,i,r,o){var s,a;return a=e.end[t]-e.start[t],s=r*a+i/n*a,this.relationPoint(t,e,s,o)},e.prototype.relationStartPointX=function(t,e,n,i,r){return this.relationStartPoint("x",t,e,n,i,r)},e.prototype.relationStartPointY=function(t,e,n,i,r){return this.relationStartPoint("y",t,e,n,i,r)},e.prototype.relationMiddlePointX=function(t,e,n,i,r){return this.relationMiddlePoint("x",t,e,n,i,r)},e.prototype.relationMiddlePointY=function(t,e,n,i,r){return this.relationMiddlePoint("y",t,e,n,i,r)},e.prototype.relationEndPointX=function(t,e,n,i,r){return this.relationEndPoint("x",t,e,n,i,r)},e.prototype.relationEndPointY=function(t,e,n,i,r){return this.relationEndPoint("y",t,e,n,i,r)},e.prototype.reset=function(){var t,e,n,i,r;for(null!=(i=this.animationDeferred)&&i.reject(),this.removeChildren(),r=this.DRAW_PROPERTIES,t=0,e=r.length;t<e;t++)n=r[t],delete this[n];this.drawn=!1},e.prototype.relationColor=function(){return this.configuration.color("relation")},e.prototype.incomingColor=function(){return this.configuration.color("magnets",this.from.model.dataType.type,"incoming")},e.prototype.outgoingColor=function(){return this.configuration.color("magnets",this.from.model.dataType.type,"outgoing")},e.prototype.drawArrows=function(t,e,n,i){var r,o;return o=this.getSourceArrowPath(t,i,n),r=this.getDestinationArrowPath(e,i,n),this.sourceArrow&&this.destinationArrow?(this.sourceArrow.attr({path:o}),this.destinationArrow.attr({path:r}),void this.animationDeferred.resolve()):(this.sourceArrow=this.paper.path(o).hide().attr({fill:this.outgoingColor(),"stroke-opacity":0}),this.addChild(this.sourceArrow),this.destinationArrow=this.paper.path(r).hide().attr({fill:this.relationColor(),"stroke-opacity":0}),this.addChild(this.destinationArrow),void this.animationDeferred.resolve())},e.prototype.getSourceArrowPath=function(t,e,n){var i,r,s,a,u,l,c,h;return a=this.from.model.sumOut,l=this,h=l.value,u=l.positionOut,i={x:this.relationStartPointX(t,a,h,u,e),y:this.relationStartPointY(t,a,h,u,e)},r={x:this.relationEndPointX(t,a,h,u,e),y:this.relationEndPointY(t,a,h,u,e)},s={x:i.x+(r.x-i.x)/2-n.start.cos*o,y:i.y+(r.y-i.y)/2-n.start.sin*o},c="M"+i.x+","+i.y+"L"+r.x+","+r.y+"L"+s.x+","+s.y},e.prototype.getDestinationArrowPath=function(t,e,n){var i,r,s,a,u,l,c,h;return c=this.to.model.sumIn,l=this,h=l.value,u=l.positionIn,i={x:this.relationStartPointX(t,c,h,u,e),y:this.relationStartPointY(t,c,h,u,e)},r={x:this.relationEndPointX(t,c,h,u,e),y:this.relationEndPointY(t,c,h,u,e)},s={x:i.x+(r.x-i.x)/2+n.end.cos*o,y:i.y+(r.y-i.y)/2+n.end.sin*o},a="M"+i.x+","+i.y+"L"+r.x+","+r.y+"L"+s.x+","+s.y},e.prototype.hideArrows=function(){this.sourceArrow&&this.sourceArrow.hide(),this.destinationArrow&&this.destinationArrow.hide()},e.prototype.showContextBox=function(){b.publish("contextbox:explainRelation",{from:this.from,to:this.to,value:this.value,missingRelations:this.missingRelations})},e.prototype.hideContextBox=function(){b.publish("contextbox:hide")},e.prototype.registerMouseHandlers=function(){return i(this.path.node).mouseenter(this.mouseenterHandler).mouseleave(this.mouseleaveHandler).click(this.clicked)},e.prototype.mouseenterHandler=function(){this.showContextBox(),"normal"===this.state("path")&&this.transitionTo("path","highlight"),this.transitionTo("labels","on")},e.prototype.mouseleaveHandler=function(t){var e,n;n=t.relatedTarget,v.some(this.displayObjects,function(t){return n===t.node})||this.labelContainer&&i.contains(this.labelContainer.get(0),n)||(this.hideContextBox(),e=this.state("path"),"highlight"===e&&this.transitionTo("path","normal"),"active"!==e&&this.transitionTo("labels","off"))},e.prototype.clicked=function(){"on"===this.state("locked")?(this.transitionTo("path","highlight"),this.transitionTo("locked","off")):(this.transitionTo("path","active"),this.transitionTo("locked","on"))},e.prototype.enterPathNormalState=function(t){if(t&&this.drawn)return this.setNormalLook()},e.prototype.enterPathHighlightState=function(){if(this.drawn)return this.setHighlightLook()},e.prototype.enterPathActiveState=function(){if(this.drawn)return this.setHighlightLook()},e.prototype.enterPathActiveInState=function(){if(this.drawn)return this.setActiveInLook()},e.prototype.enterPathActiveOutState=function(){if(this.drawn)return this.setActiveOutLook()},e.prototype.enterLabelsOnState=function(){if(this.drawn)return this.createLabels()},e.prototype.enterLabelsOffState=function(){if(this.drawn)return this.removeLabels()},e.prototype.setNormalLook=function(){this.animatePathLook({stroke:this.relationColor(),"stroke-opacity":h},this.fadeDuration,a),this.hideArrows()},e.prototype.setHighlightLook=function(){var t;t=this.relationColor(),this.animationDeferred.done(function(e){return function(){e.path.toFront(),e.animatePathLook({stroke:t,"stroke-opacity":c},e.fadeDuration,u),e.sourceArrow.stop().attr({"fill-opacity":c}).toFront().show(),e.destinationArrow.stop().toFront().show().animate({fill:t,"fill-opacity":c},e.fadeDuration,u)}}(this))},e.prototype.setActiveInLook=function(){this.animationDeferred.done(function(t){return function(){var e;e=t.incomingColor(),t.animatePathLook({stroke:e,"stroke-opacity":r},t.fadeDuration,u),t.sourceArrow.stop().toFront().show().animate({"fill-opacity":.25},t.fadeDuration,u),t.destinationArrow.stop().hide()}}(this))},e.prototype.setActiveOutLook=function(){this.animationDeferred.done(function(t){return function(){var e;e=t.outgoingColor(),t.animatePathLook({stroke:e,"stroke-opacity":r},t.fadeDuration,u),t.sourceArrow.stop().toFront().show().animate({"fill-opacity":1},t.fadeDuration,u),t.destinationArrow.stop().toFront().show().animate({fill:e,"fill-opacity":r},t.fadeDuration,u)}}(this))},e.prototype.animatePathLook=function(t,e){this.path&&(this.lookAnimation&&this.path.stop(this.lookAnimation),this.lookAnimation=d.animation(t,e,u),this.path.animate(this.lookAnimation))},e.prototype.createLabels=function(){var t,e;this.labelContainer||(e=this.path.getTotalLength(),t=this.path.getPointAtLength(e/2),this.createLabelContainer(),this.createValueLabel(t),this.createDescriptionLabel(t),this.createSourceLabel(),this.createDestinationLabel(),this.positionSourceDestinationLabels(e))},e.prototype.createLabelContainer=function(){this.labelContainer=i("<div>").addClass("relation-labels").mouseleave(this.mouseleaveHandler).click(this.clicked).appendTo(this.$container),this.addChild(this.labelContainer)},e.prototype.createValueLabel=function(t){var e,n,r,o,s,a,u,l,c,h;e=this.from,r=x(this.configuration,this.value,null,null,!0),o=this.template(["units",e.model.dataType.unit,"value_html"],{number:r}),s=i("<div>").addClass("relation-value-label").append(o).appendTo(this.labelContainer),a=s.outerWidth(),n=s.outerHeight(),u=t.x-a/2,c=t.y-n-1.5,l=u+a,h=c+n,this.valueBox={width:a,height:n,x:u,y:c,x2:l,y2:h},s.css({left:u,top:c})},e.prototype.createDescriptionLabel=function(t){var e,n,r,o,s,a,u,l,c,h,f,p;o=this,n=o.from,a=o.to,u=n.model.dataType.type,s=this.template(["flow",u,"fromTo"],{from:this.t("entityNames",n.id),to:this.t("entityNames",a.id)}),e=i("<div>").addClass("relation-description-label").html(s).appendTo(this.labelContainer),l=e.outerWidth(),r=e.outerHeight(),c=t.x-l/2,f=t.y+1.5,h=c+l,p=f+r,this.descriptionBox={width:l,height:r,x:c,y:f,x2:h,y2:p},e.css({left:c,top:f})},e.prototype.createSourceLabel=function(){this.sourceLabel=this.createSourceDestinationLabel(this.from.model.sumOut)},e.prototype.createDestinationLabel=function(){this.destinationLabel=this.createSourceDestinationLabel(this.to.model.sumIn)},e.prototype.createSourceDestinationLabel=function(t){var e;return e=this.value<0?"":(100/t*this.value).toFixed(1)+" %",i("<div>").addClass("relation-percentage-label").text(e).appendTo(this.labelContainer)},e.prototype.positionSourceDestinationLabels=function(t){var e,n,i,r,o,s,a,u,l,c;u=this,r=u.from,c=u.to,s=u.path,a=s.getPointAtLength(f),l=this.labelBoundingBox(this.sourceLabel,a),a=s.getPointAtLength(t-f),n=this.labelBoundingBox(this.destinationLabel,a),o=d.isBBoxIntersect(l,this.valueBox)||d.isBBoxIntersect(l,this.descriptionBox)||d.isBBoxIntersect(n,this.valueBox)||d.isBBoxIntersect(n,this.descriptionBox),o&&(i=f,a=s.getPointAtLength(0),e=r.magnet.deg,l.x=a.x+y(e)*i-l.width/2,l.y=a.y+w(e)*i-l.height/2,a=s.getPointAtLength(t),e=c.magnet.deg,n.x=a.x+y(e)*i-n.width/2,n.y=a.y+w(e)*i-n.height/2),this.sourceLabel.css({left:l.x,top:l.y}),this.destinationLabel.css({left:n.x,top:n.y})},e.prototype.labelBoundingBox=function(t,e){var n;return n={width:t.outerWidth(),height:t.outerHeight()},n.x=e.x-n.width/2,n.y=e.y-n.height/2,n.x2=n.x+n.width,n.y2=n.y+n.height,n},e.prototype.removeLabels=function(){if(this.labelContainer)return this.labelContainer.remove(),this.removeChild(this.labelContainer),delete this.labelContainer},e.prototype.fadeOut=function(){var t,e,n,i;for(i=this.displayObjects,e=0,n=i.length;e<n;e++)t=i[e],t.stop&&t.animate&&t.stop().animate({opacity:0},this.animationDuration/2)},e.prototype.dispose=function(){if(!this.disposed)return this.from&&this.from.removeRelationOut(this),this.to&&this.to.removeRelationIn(this),this.animationDeferred&&this.animationDeferred.reject(),e.__super__.dispose.apply(this,arguments)},e}(s),t.exports=g},function(t,e,n){"use strict";var i,r,o=[].slice;r=n(9),i={subscribeEvent:function(t,e){if("string"!=typeof t)throw new TypeError("EventBroker#subscribeEvent: type argument must be a string");if("function"!=typeof e)throw new TypeError("EventBroker#subscribeEvent: handler argument must be a function");return r.unsubscribe(t,e,this),r.subscribe(t,e,this)},unsubscribeEvent:function(t,e){if("string"!=typeof t)throw new TypeError("EventBroker#unsubscribeEvent: type argument must be a string");if("function"!=typeof e)throw new TypeError("EventBroker#unsubscribeEvent: handler argument must be a function");return r.unsubscribe(t,e)},unsubscribeAllEvents:function(){return r.unsubscribe(null,null,this)},publishEvent:function(){var t,e;if(e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],"string"!=typeof e)throw new TypeError("EventBroker#publishEvent: type argument must be a string");return r.publish.apply(r,[e].concat(o.call(t)))}},"function"==typeof Object.freeze&&Object.freeze(i),t.exports=i},function(t,e){"use strict";var n,i;n=document,i={requestFullscreen:function(t){var e;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():(e="fullscreen=yes,menubar=no,location=no,toolbar=no,status=no",window.open(location.href,"_blank",e))},exitFullscreen:function(){n.exitFullscreen?n.exitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.webkitCancelFullScreen?n.webkitCancelFullScreen():n.msExitFullscreen&&n.msExitFullscreen()},isFullScreen:function(){return Boolean(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.webkitCurrentFullScreenElement||n.msFullscreenElement)},toggleFullscreen:function(t){this.isFullScreen()?this.exitFullscreen():this.requestFullscreen(t)}},t.exports=i},function(t,e,n){"use strict";var i,r,o,s=function(t,e){return function(){return t.apply(e,arguments)}},a=[].slice;o=n(1),r={interpolate:/%\{(.+?)\}/g},i=function(){function t(t){this.locale=t,this.template=s(this.template,this),this.t=s(this.t,this),this.compiledTemplates={}}return t.prototype.t=function(){var t,e,n,i,r,o,s,u;for(i=1<=arguments.length?a.call(arguments,0):[],s=this.locale,r=i.length-1,e=t=0,o=i.length;t<o;e=++t){if(n=i[e],s=s[n],u=typeof s,"undefined"===u)return console.error("Translation not found:",i),"";if(e===r)return s}},t.prototype.template=function(t,e){var n,i,s;return n=t.join("."),s=this.compiledTemplates[n],s||(i=this.t.apply(this,t),s=o.template(i,null,r),this.compiledTemplates[n]=s),s(e)},t.prototype.joinList=function(t){return t.length>1?o.initial(t).join(this.t("enum_separator"))+this.t("enum_separator_last")+o.last(t):t[0]},t}(),t.exports=i},function(t,e,n){"use strict";var i,r,o=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=n(2),i={_states:null,_currentState:null,_inTransition:!1,_singleGroup:!0,initStates:function(t){var e,n,i,r;if(this._singleGroup=t.states instanceof Array,this._states=t.states,this._singleGroup||(this._currentState={},this._inTransition={}),this._singleGroup)return this.transitionTo(t.initialState);n=t.initialState,i=[];for(e in n)r=n[e],i.push(this.transitionTo(e,r));return i},state:function(t){if(this._singleGroup)return this._currentState;if(!t)throw new Error("Group must be given");return this._currentState[t]},transitionTo:function(t,e){var n,i,s,a,u,l,c;if(!this.disposed){if(this._singleGroup){if(e=t,t="",o.call(this._states,e)<0)throw new Error("State "+e+" does not exist")}else{if(!t||!e)throw new Error("Group and new state must be given");if(o.call(this._states[t],e)<0)throw new Error("State "+e+" does not exist for group "+t)}if(!(this._singleGroup&&this._inTransition||!this._singleGroup&&this._inTransition[t])&&(u=this.state(t),e!==u))return n=r.upcase(t),u&&(l=r.upcase(u),c=this._singleGroup?u:t+l,this._singleGroup||(l=n+l)),s=r.upcase(e),a=this._singleGroup?e:t+s,this._singleGroup||(s=n+s),this._singleGroup?this._inTransition=!0:this._inTransition[t]=!0,u&&(this.trigger("leaveState",this,c,a),this.trigger("leave"+l+"State",this,e)),this._singleGroup?this._currentState=e:this._currentState[t]=e,"function"==typeof this[i="enter"+s+"State"]&&this[i](u),this._singleGroup?this._inTransition=!1:this._inTransition[t]=!1,this.trigger("stateChange",this,a,c),this}},disposeStates:function(){return delete this._states,delete this._currentState,delete this._inTransition,delete this._singleGroup}},"function"==typeof Object.freeze&&Object.freeze(i),t.exports=i},function(t,e){"use strict";var n;n={},n.mouseover=function(){var t;return t=navigator.userAgent,!(/(^|\s)AppleWebKit\/[^\s]+(\s|$)/.test(t)&&/(^|\s)Mobile\/[^\s]+(\s|$)/.test(t))}(),"function"==typeof Object.freeze&&Object.freeze(n),t.exports=n},function(t,e,n){"use strict";var i,r,o;o=n(1),r=n(29),i=function(){function t(t){this.id=t.id,this.title=t.title,this.dataType=t.dataType,this.date=t.date,this.sumIn=t.sumIn,this.sumOut=t.sumOut,this.incoming=t.incoming||{},this.outgoing=t.outgoing||{},this.missingRelations=t.missingRelations||{},this.noIncoming=t.noIncoming||[],this.noOutgoing=t.noOutgoing||[],this.sum=this.sumOut+this.sumIn,this.indicators=o.map(t.indicators,function(e,n){var i,s;return i=t.indicatorTypes[n],s=o.extend({},i,e),new r(s)})}return t}(),t.exports=i},function(t,e,n){"use strict";var i,r;r=n(1),i=function(){function t(t){this.type=t.type,this.unit=t.unit,this.representation=t.representation,
this.value=t.value,this.tendency=t.tendency,this.tendencyPercent=t.tendencyPercent,this.missing=t.missing}return t.prototype.scale=1,t}(),t.exports=i},function(t,e,n){"use strict";var i,r,o,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;s=n(1),i=n(5),a=n(2),r=n(28),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.getDisplayTitle=function(){return this.get("title")||this.getSubtitle()},e.prototype.getSubtitle=function(){return this.template(["chart","keyframe_subtitle"],{dataType:this.t("dataType",this.get("dataType").type),date:this.get("date")})},e.prototype.t=function(){var t;return(t=this.get("configuration").i18n).t.apply(t,arguments)},e.prototype.template=function(){var t;return(t=this.get("configuration").i18n).template.apply(t,arguments)},e.prototype.parse=function(t){var e,n,i,o;return t=s.clone(t,!0),null==t.maxLabelsVisible&&(t.maxLabelsVisible=8),i=t.date,n=t.dataType,o=t.indicatorTypes,e=t.configuration,o=s.map(t.indicatorTypes,function(t){return function(t){return s.extend({},t,{representation:e.unit(t.unit).representation})}}(this)),t.indicatorTypes=o,t.elements=s.map(t.elements,function(t){var e;return e=s.extend({date:i,dataType:n,indicatorTypes:o},t),new r(e)}),this.scaleIndicators(t),this.addRelationPositions(t),t},e.prototype.scaleIndicators=function(t){s.chain(t.indicatorTypes).filter(function(t){return function(t){return"absolute"===t.representation}}(this)).map(function(t,e){return s.extend({},t,{index:e})}).forEach(function(e){var n,i,r,o,a,u,l;for(r=e.index,l=t.elements,i=0,a=l.length;i<a;i++)n=l[i],o=n.indicators[r],u=s.max(t.indicatorBounds[r],Math.abs),o.scale=Math.abs(o.value)/u}).value()},e.prototype.addRelationPositions=function(t){var e,n,i,r,o,u,l,c,h,f,p,d,g,v,m,y,x,b,w,_,T,k,C,S,A;for(i=t.elements,e={},r=0,f=i.length;r<f;r++)n=i[r],e[n.id]=s.mapValues(n.incoming,function(t){return{value:t}});for(l=0,p=i.length;l<p;l++){n=i[l],_=n.outgoing;for(S in _)A=_[S],null==e[S]&&(e[S]={}),e[S][n.id]={value:A}}for(S in e)for(o=e[S],u=s.map(o,function(t,e){return s.extend({id:e},t)}),u.sort(a.relationSorter),C=s.find(i,{id:S}).sumIn,k=0,c=0,d=u.length;c<d;c++)T=u[c],o[T.id].positionIn=k/C,k+=T.value;for(h=0,g=i.length;h<g;h++)n=i[h],n.incoming=s.mapValues(n.incoming,function(t,i){return e[n.id][i]});for(y=0,v=i.length;y<v;y++){for(n=i[y],b=s.map(n.outgoing,function(t,e){return{id:e,value:t}}),b.sort(a.relationSorter),k=0,x=0,m=b.length;x<m;x++)T=b[x],T.positionOut=k/n.sumOut,T.positionIn=e[T.id][n.id].positionIn,k+=T.value;w=function(t,e){return t[e.id]=s.omit(e,"id"),t},n.outgoing=s.reduce(b,w,{})}},e.prototype.getIndicatorMaxValue=function(t){var e,n,i,r;return i=this.get("indicatorTypes"),n=s.indexOf(i,t),i.length>n?(e=this.get("indicatorBounds")[n],r=s.max(e,Math.abs)):null},e}(i.Model),t.exports=o},function(t,e,n){"use strict";var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;s=n(1),i=n(5),r=n(30),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.model=r,e}(i.Collection),t.exports=o},function(t,e,n){"use strict";var i,r,o,s,a,u=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,h=[].slice;a=n(1),i=n(5),r=n(25),o=n(31),s=function(t){function e(){return this.color=u(this.color,this),this.unit=u(this.unit,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.getKeyframes=function(){return this.get("keyframes")},e.prototype.loadKeyframes=function(t){t=this.parseKeyframes(t),this.set({keyframes:t}),this.triggerKeyframesLoaded()},e.prototype.triggerKeyframesLoaded=function(){this.trigger("keyframesLoaded",this.getKeyframes())},e.prototype.parse=function(t){var e;return t=a.clone(t),e=this.configuration(t),t.configuration=e,t.keyframes=this.parseKeyframes(t.keyframes,e),t},e.prototype.parseKeyframes=function(t,e){return null==e&&(e=this.get("configuration")),t=t.map(function(t){return a.extend({},t,{configuration:e})}),new o(t,{parse:!0})},e.prototype.configuration=function(t){var e;return{i18n:new r(t.locale),colors:t.colors,color:function(){var e,n,i,r,o;if(i=1<=arguments.length?h.call(arguments,0):[],0===i.length||!a.every(i))throw new TypeError("invalid color: "+i);for(o=t.colors,e=0,r=i.length;e<r;e++)n=i[e],o=o[n];return o||console.error("color not found",i),o},typeData:t.typeData,unit:function(e){var n;if(!e)throw new TypeError("invalid unit: "+e);return n=t.typeData.units[e],n||console.error("unit not found",n),n},decimals:null!=(e=t.decimals)?e:2}},e.prototype.unit=function(t){return this.get("configuration").unit(t)},e.prototype.color=function(){var t;return(t=this.get("configuration")).color.apply(t,arguments)},e}(i.Model),t.exports=s},function(t,e,n){"use strict";var i,r,o;r=n(32),i=n(36),o=function(t,e){var n,o;return n=new r(e,{parse:!0}),o=new i({model:n,container:t}),{model:n,view:o}},t.exports=o},function(t,e,n){"use strict";var i,r,o,s,a,u=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;o=n(1),r=n(10),a=n(2),s=n(7),i=function(t){function e(){return this.entityName=u(this.entityName,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.className="contextbox",e.prototype.autoRender=!0,e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.subscribeEvent("contextbox:explainRelation",this.explainRelation),this.subscribeEvent("contextbox:explainMagnet",this.explainMagnet),this.subscribeEvent("contextbox:hide",this.handleHideEvent)},e.prototype.getTemplateFunction=function(){return null},e.prototype.explainRelation=function(t){var e,n,i,r,a,u,l,c,h,f,p,d,g,v,m;if(i=t.from,p=t.to,m=t.value,l=i.model.dataType,g=l.type,v=l.unit,e=this.model.get("configuration"),a=s(e,(100/i.model.sumOut*m).toFixed(1),null,null,!0)+"%",u=s(e,(100/p.model.sumIn*m).toFixed(1),null,null,!0)+"%",n=s(e,m,null,null,!0),h={from:this.t("entityNames",i.id),to:this.t("entityNames",p.id),dataType:this.t("dataType",g),percentFrom:a,percentTo:u,value:n,unit:this.t("units",v,"full"),date:i.model.date},f="<p>",f+=this.template(["contextbox","relation",g],h),m>=0&&(f+=this.template(["contextbox","relationPercentage",g],h)),f+="</p>",t.missingRelations){f+="<p>",f+=this.t("contextbox","relation","missing","intro"),f+="</p>",f+="<ul>",c=t.missingRelations;for(r in c)d=c[r],h={source:this.entityName(r),targets:this.joinList(o.map(d,this.entityName))},f+="<li>",f+=this.template(["contextbox","relation","missing","entry"],h),f+="</li>";f+="</ul>"}this.showBox(f)},e.prototype.explainMagnet=function(t){var e,n,i,r,a,u,l,c;r=t.dataType,l=r.type,c=r.unit,e=this.model.get("configuration"),a={name:this.t("entityNames",t.id),sumIn:s(e,t.sumIn,null,null,!0),sumOut:s(e,t.sumOut,null,null,!0),type:this.t("dataType",l),unit:this.t("units",c,"full"),date:t.date},t.noIncoming.length>0&&(a.sumIn=this.t("not_available")),t.noOutgoing.length>0&&(a.sumOut=this.t("not_available")),u="<p>",u+=this.template(["contextbox","magnet",l],a),u+="</p>",t.noIncoming.length>0&&(n=o.map(t.noIncoming,this.entityName),u+="<p>",u+=this.template(["contextbox","magnet_missing","incoming",l],{list:this.joinList(n)}),u+="</p>"),t.noOutgoing.length>0&&(i=o.map(t.noOutgoing,this.entityName),u+="<p>",u+=this.template(["contextbox","magnet_missing","outgoing",l],{list:this.joinList(i)}),u+="</p>"),this.showBox(u)},e.prototype.showBox=function(t){this.$el.html(t).addClass("visible")},e.prototype.handleHideEvent=function(){this.$el.removeClass("visible")},e.prototype.entityName=function(t){return this.t("entityNames",t)},e}(r),t.exports=i},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;a=n(1),u=n(7),s=n(10),l=n(38),o="legend--opened",i="legend--closed",r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.tagName="section",e.prototype.templateName="legend",e.prototype.className="legend",e.prototype.autoRender=!0,e.prototype.events={"click .legend__toggle":"toggleButtonClicked","click .legend__close":"closeButtonClicked"},e.prototype.initialize=function(t){e.__super__.initialize.apply(this,arguments),this.$el.addClass(t.overlay?"legend--overlay":"legend--sidebar")},e.prototype.getTemplateFunction=function(){return l},e.prototype.toggleButtonClicked=function(t){return t.preventDefault(),this.$el.hasClass(o)?this.close():this.open()},e.prototype.closeButtonClicked=function(t){t.preventDefault(),this.close()},e.prototype.close=function(){this.$(".legend__toggle").text(this.t("legend","toggle_open")),this.$el.addClass(i).removeClass(o)},e.prototype.open=function(){this.$(".legend__toggle").text(this.t("legend","toggle_close")),this.$el.addClass(o).removeClass(i)},e.prototype.toggle=function(){this.$el.hasClass(o)?this.close():this.open()},e.prototype.render=function(){return this.model&&e.__super__.render.apply(this,arguments),this.close(),this},e.prototype.getTemplateData=function(){var t,n,i,r,o,s,u,l;return n=e.__super__.getTemplateData.apply(this,arguments),i=n.dataType,o=i.type,u=i.unit,s=this.t("dataType",o),l=this.t("units",u,"full"),n.typeName=s,n.unitName=l,n.dataSource=this.getDataSource(),n.indicators=this.getIndicators(),n.groupedIndicators=a.groupBy(n.indicators,"representation"),t=this.model.get("configuration").color("magnets",o),n.magnetOutgoingColor=t.outgoing,n.magnetIncomingColor=t.incoming,r={date:n.date,type:s,unit:l},n.magnetDescription=this.template(["data",o,"magnet"],r),n.relationDescription=this.template(["data",o,"flow"],r),n},e.prototype.getDataSource=function(){var t;return t=this.model.get("dataType").type,this.t("sources","data",t)},e.prototype.getIndicators=function(){var t,e;return t=this.model.get("configuration"),e=a.map(this.model.get("indicatorTypes"),function(e){return function(n){var i,r,o,s,a,l;return a=n.type,l=n.unit,r=e.t("sources","indicator",a),o=r.name,s=r.url,i=e.model.getIndicatorMaxValue(n),i=e.template(["units",l,"value"],{number:u(t,i,null,null,!0)}),{type:e.t("indicators",a,"short"),typeFull:e.t("indicators",a,"full"),unit:e.t("units",l,"short"),unitFull:e.t("units",l,"full"),representation:n.representation,maxValue:i,sourceName:o,sourceURL:s}}}(this))},e}(s),t.exports=r},function(t,e,n){"use strict";var i,r,o,s,a,u,l,c,h,f,p,d,g,v,m,y,x,b=function(t,e){return function(){return t.apply(e,arguments)}},w=function(t,e){function n(){this.constructor=t}for(var i in e)_.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},_={}.hasOwnProperty;g=n(1),i=n(3),f=n(4),d=n(10),s=n(34),o=n(13),l=n(35),v=n(24),m=n(8),y=n(27),x=n(39),c="flow-viz-player",r="flow-viz-chart",u="enabled",a="disabled",p=".tooltip",h=function(t){function e(){return this.playNext=b(this.playNext,this),this.documentKeydown=b(this.documentKeydown,this),this.resize=b(this.resize,this),e.__super__.constructor.apply(this,arguments)}var n;return w(e,t),e.prototype.templateName="player",e.prototype.className=c,e.prototype.autoRender=!0,e.prototype.chart=null,e.prototype.dots=null,e.prototype.currentKeyframeIndex=0,e.prototype.events={"click .nav-left":"moveToPreviousKeyframe","click .nav-right":"moveToNextKeyframe","click .nav-play":"togglePlay","click .toggle-fullscreen":"toggleFullscreen","click .toggle-legend":"toggleLegend","mouseenter .nav-left.enabled, .nav-right.enabled, .toggle-legend, .toggle-fullscreen":"showTooltip","mouseleave .nav-left, .nav-right, .toggle-legend, .toggle-fullscreen":"hideTooltip"},e.prototype.initialize=function(t){e.__super__.initialize.apply(this,arguments),this.container=t.container,this.listenTo(this.model,"keyframesLoaded",this.keyframesLoadedHandler),i(window).resize(this.resize)},e.prototype.getTemplateFunction=function(){return x},e.prototype.getKeyframes=function(){return this.model.get("keyframes")},e.prototype.getCurrentKeyframe=function(){var t;return null!=(t=this.getKeyframes())?t.at(this.currentKeyframeIndex):void 0},e.prototype.getNextKeyframe=function(){var t;return null!=(t=this.getKeyframes())?t.at(this.currentKeyframeIndex+1):void 0},e.prototype.getPreviousKeyframe=function(){var t;return null!=(t=this.getKeyframes())?t.at(this.currentKeyframeIndex-1):void 0},e.prototype.getKeyframe=function(t){return this.getKeyframes().at(t)},e.prototype.getNumKeyframes=function(){return this.getKeyframes().length},e.prototype.atFirstKeyframe=function(){return this.currentKeyframeIndex<1},e.prototype.atLastKeyframe=function(){return this.currentKeyframeIndex>=this.getNumKeyframes()-1},e.prototype.shouldShowTitles=function(){return!/show_titles=0/.test(location.href)},e.prototype.shouldAnimate=function(){return/animate=1/.test(location.href)},e.prototype.keyframesLoadedHandler=function(){this.currentKeyframeIndex=0,this.getKeyframes().length>0&&this.initChart()},e.prototype.resize=function(){this.renderLegend()},e.prototype.resize=g.debounce(e.prototype.resize,300),e.prototype.documentKeydown=function(t){switch(t.keyCode){case 37:case 38:this.moveToPreviousKeyframe();break;case 39:case 40:case 32:this.moveToNextKeyframe();break;case 33:case 36:this.moveToFirstKeyframe();break;case 34:case 35:this.moveToLastKeyframe()}},e.prototype.moveToFirstKeyframe=function(t){null!=t&&t.preventDefault(),this.currentKeyframeIndex=0,this.update()},e.prototype.moveToLastKeyframe=function(t){null!=t&&t.preventDefault(),this.currentKeyframeIndex=this.getNumKeyframes()-1,this.update()},e.prototype.moveToNextKeyframe=function(t){t&&t.preventDefault(),this.atLastKeyframe()||(this.currentKeyframeIndex++,this.update())},e.prototype.moveToPreviousKeyframe=function(t){t&&t.preventDefault(),this.atFirstKeyframe()||(this.currentKeyframeIndex--,this.update())},e.prototype.togglePlay=function(t){t&&t.preventDefault(),this.isPlaying()?this.stopPlay():this.startPlay()},e.prototype.startPlay=function(){this.atLastKeyframe()&&this.moveToFirstKeyframe(),this.playTimer=setInterval(this.playNext,5e3),this.$("> .footer .nav-play").addClass("stop")},e.prototype.playNext=function(){var t;t=this.atLastKeyframe(),t?this.stopPlay():this.moveToNextKeyframe()},e.prototype.stopPlay=function(){clearInterval(this.playTimer),delete this.playTimer,this.$("> .footer .nav-play").removeClass("stop")},e.prototype.isPlaying=function(){return null!=this.playTimer},e.prototype.toggleLegend=function(t){var e;t.preventDefault(),e=this.subview("legendAbout")||this.subview("legend"),e.toggle()},e.prototype.toggleFullscreen=function(t){t.preventDefault(),v.isFullScreen()?v.exitFullscreen(this.el):v.requestFullscreen(this.el)},e.prototype.render=function(){e.__super__.render.apply(this,arguments),this.$chart=this.$(".flow-viz-chart"),this.shouldShowTitles()||this.$("> .header .title").hide(),this.initAnimationControls(),this.renderContextboxView(),i(document).keydown(this.documentKeydown),this.attach(),this.createChart(),this.getKeyframes().length>0&&this.initChart()},e.prototype.getTemplateData=function(){var t;return t=e.__super__.getTemplateData.apply(this,arguments),t.chartClassName=r,t},e.prototype.initAnimationControls=function(){var t,e,n;t=this.$("> .footer"),e=t.find(".nav-play"),n=t.find(".nav-left, .nav-right"),this.shouldAnimate()?(e.show(),n.hide()):(e.hide(),n.show())},e.prototype.createChart=function(){var t;t=this.$chart.get(0),this.chart=new o({container:t}),this.subview("chart",this.chart)},e.prototype.renderLegend=function(){var t,e,n;this.removeSubview("legend"),t=this.getCurrentKeyframe(),t&&t.get("elements").length&&(e=i(window).width()<650,n=new l({model:this.getCurrentKeyframe(),container:this.el,overlay:e}),this.subview("legend",n))},e.prototype.renderContextboxView=function(){this.subview("contextbox",new s({model:this.model,container:this.el}))},e.prototype.initChart=function(){this.chart&&(this.initNumKeyframes(),this.initDots(),this.update(),this.shouldAnimate()&&this.startPlay())},e.prototype.update=function(){this.chart.update({keyframe:this.getCurrentKeyframe()}),this.renderLegend(),this.updateControls()},e.prototype.initNumKeyframes=function(){this.$(".num-keyframes").text(this.getNumKeyframes())},e.prototype.updateControls=function(){var t,e;e=this.getCurrentKeyframe(),t=e.get("date"),this.updateHeader(),this.$(".current-date").text(t),this.updateFooter()},e.prototype.updateHeader=function(){var t,e,n,i,r;e=this.$("> .header"),n=this.getCurrentKeyframe(),r=n.get("title"),i=n.getSubtitle(),t=n.get("date"),e.find(".title").text(r),e.find(".relation").text(i)},e.prototype.updateFooter=function(){var t,e;t=this.$("> .footer"),e=this.getCurrentKeyframe(),t.find(".current-index").text(this.currentKeyframeIndex+1),t.find(".title").text(e.getDisplayTitle()),this.updateNavButtons(),this.highlightSelectedDot()},e.prototype.updateNavButtons=function(){var t,e,n;t=this.$("> .footer"),e=t.find(".nav-left"),n=t.find(".nav-right"),this.atFirstKeyframe()?e.addClass(a).removeClass(u):(e.addClass(u).removeClass(a),this.updateTooltip(e.find(p),this.getPreviousKeyframe())),this.atLastKeyframe()?n.addClass(a).removeClass(u):(n.addClass(u).removeClass(a),this.updateTooltip(n.find(p),this.getNextKeyframe()))},e.prototype.updateTooltip=function(t,e){var n,i,r,o;n=" ",o=function(t){return t.replace(/\s+/g,n)},r=e.get("title")+" ",i=e.getSubtitle()+" ",t.find(".main-title").text(o(r)),t.find(".sub-title").text(o(i))},e.prototype.showTooltip=function(t){y.mouseover&&i(t.currentTarget).find(p).show()},e.prototype.hideTooltip=function(t){y.mouseover&&i(t.currentTarget).find(p).hide()},n={activeRadius:5.5,inactiveRadius:4,activeColor:"#86dcff",inactiveColor:"#fff",spacing:13},e.prototype.initDots=function(){var t,e,i,r,o,s;if(this.dots=[],f.type)for(t=this.$(".dots").get(0),o=this.getNumKeyframes(),this.dotPaper=f(t,n.spacing*o,20),e=function(t){return function(e){var i;i=t.dotPaper.circle(n.spacing/2+e*n.spacing,10,n.inactiveRadius).attr({fill:n.inactiveColor,"stroke-opacity":0}).data("index",e).hover(function(){return t.dotMouseIn(i)},function(){return t.dotMouseOut(i)}).click(function(){return t.dotClick(i)}),t.dots.push(i)}}(this),r=i=0,s=o;0<=s?i<s:i>s;r=0<=s?++i:--i)e(r)},e.prototype.highlightSelectedDot=function(){var t,e,i,r,o;for(o=this.dots,i=e=0,r=o.length;e<r;i=++e)t=o[i],i===this.currentKeyframeIndex?t.attr({r:n.activeRadius,fill:n.activeColor}):t.attr({r:n.inactiveRadius,fill:n.inactiveColor})},e.prototype.dotMouseIn=function(t){y.mouseover&&(t.attr({r:n.activeRadius}),this.showDotTooltip(t))},e.prototype.dotMouseOut=function(t){var e,i;y.mouseover&&(i=t.data("index"),e=i===this.currentKeyframeIndex,e?t.attr({r:n.activeRadius}):t.attr({r:n.inactiveRadius}),this.hideDotTooltip())},e.prototype.dotClick=function(t){var e;e=t.data("index"),this.currentKeyframeIndex=e,this.update()},e.prototype.showDotTooltip=function(t){var e,i,r,o,s,a;i=t.data("index"),o=this.getKeyframe(i),e=this.$(".dots "+p),this.updateTooltip(e,o),r=n.spacing/2+i*n.spacing,a=e.outerWidth(),s=r-a/2,e.css({display:"block",left:s+"px"})},e.prototype.hideDotTooltip=function(){this.$(".dots "+p).hide()},e.prototype.dispose=function(){if(!this.disposed)return this.stopPlay(),this.chart.dispose(),i(document).off("keydown",this.documentKeydown),i(window).off("resize",this.resize),e.__super__.dispose.apply(this,arguments)},e}(d),t.exports=h},function(t,e){function n(t,e,n){return"undefined"==typeof n||0===+n?Math[t](e):(e=+e,n=+n,isNaN(e)||"number"!=typeof n||n%1!==0?NaN:(e=e.toString().split("e"),e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-n:-n))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+n:n))))}t.exports=n},function(t,e){t.exports=function(){return function(t){return function(){var t,e,n,i,r,o,s,a,u,l,c;for(e=function(t,e){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/"/g,"&quot;")},t=function(t){switch(t){case null:case void 0:return"";case!0:case!1:return""+t;default:return t}},n=[],n.push("<a class='legend__close' href=''>\n  ×"),n.push("  "+t(this.t("legend","close"))),n.push("</a>\n<a class='closed legend__toggle' href=''>"+t(this.t("legend","toggle_open"))+"</a>"),a=this.dataType,l=a[0],c=a[1],i=function(e){var i,r,o;for(n.push("<ul class='legend__indicators'>"),i=0,o=e.length;i<o;i++)r=e[i],n.push("  <p>\n    <strong>"+t(r.type)+"</strong>\n    :"),n.push("    "+t(r.typeFull+", "+r.unitFull)),n.push("  </p>\n  <p>"),n.push("    "+t(this.t("legend","maximum_size"))),n.push("    "+t(r.maxValue)),n.push("  </p>");return n.push("</ul>"),""},n.push("<section class='legend__section legend__short legend__sources'>\n  <h3 class='legend__heading'>"+t(this.t("legend","sources"))+"</h3>\n  <div class='legend__sectionBody'>\n    <ul>\n      <li>"),n.push("        "+t(this.typeName+":")),n.push("        <a class='legend__source' href='"+e(t(this.dataSource.url))+"' target='_blank'>"),n.push("          "+t(this.dataSource.name)),n.push("        </a>\n      </li>"),u=this.indicators,r=0,s=u.length;r<s;r++)o=u[r],n.push("      <li>"),n.push("        "+t(o.type+":")),n.push("        <a class='legend__source' href='"+e(t(o.sourceURL))+"' target='_blank'>"),n.push("          "+t(o.sourceName)),n.push("        </a>\n      </li>");return n.push("    </ul>\n  </div>\n</section>\n<section class='legend__explanations legend__long legend__section'>\n  <h3 class='legend__heading'>"+t(this.t("legend","legend"))+"</h3>\n  <div class='legend__sectionBody'>\n    <table>\n      <tr class='legend__magnets'>\n        <td class='legend__icon'>\n          <div class='legend__magnet legend__magnetOutgoing' style='background-color: "+e(t(this.magnetOutgoingColor))+"'></div>\n          <div class='legend__magnet legend__magnetIncoming' style='background-color: "+e(t(this.magnetIncomingColor))+"'></div>\n        </td>\n        <td>"+t(this.magnetDescription)+"</td>\n      </tr>\n      <tr class='legend__relations'>\n        <td class='legend__icon'>\n          <span class='legend__relationArrow'></span>\n        </td>\n        <td>"+t(this.relationDescription)+"</td>\n      </tr>"),this.groupedIndicators.absolute&&(n.push("      <tr class='legend__absoluteIndicators'>\n        <td class='legend__icon'>\n          <img src='images/legend-indicator-absolute.png' width='20' height='20' alt=''>\n        </td>\n        <td>\n          <p>"+t(this.t("legend","indicatorIcon","absolute"))+"</p>"),n.push("          "+t(i.call(this,this.groupedIndicators.absolute))),n.push("        </td>\n      </tr>")),this.groupedIndicators.proportional&&(n.push("      <tr class='legend__proportionalIndicators'>\n        <td class='legend__icon'>\n          <img src='images/legend-indicator-percent.png' width='20' height='20' alt=''>\n        </td>\n        <td>\n          <p>"+t(this.t("legend","indicatorIcon","proportional"))+"</p>"),n.push("          "+t(i.call(this,this.groupedIndicators.proportional))),n.push("        </td>\n      </tr>")),this.indicatorTypes.length>0&&n.push("      <tr>\n        <td class='legend__icon'>\n          <img src='images/legend-indicator-tendency.png' width='10' height='10' alt=''>\n        </td>\n        <td>"+t(this.t("legend","tendency"))+"</td>\n      </tr>"),n.push("    </table>\n  </div>\n</section>\n<section class='legend__long legend__section'>\n  <h3 class='legend__heading'>"+t(this.t("legend","about_heading"))+"</h3>\n  <div class='legend__sectionBody'>"),n.push("    "+t(this.t("legend","about_body"))),n.push("  </div>\n</section>"),n.join("\n").replace(/\s([\w-]+)='true'/gm," $1").replace(/\s([\w-]+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"").replace(/[\s\n]*\u0091/gm,"").replace(/\u0092[\s\n]*/gm,"")}.call(t)}}.call(this)},function(t,e){t.exports=function(){return function(t){return function(){var t,e,n;return e=function(t,e){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/\//g,"&#47;").replace(/"/g,"&quot;")},t=function(t){switch(t){case null:case void 0:return"";case!0:case!1:return""+t;default:return t}},n=[],n.push("<div class='header'>\n  <h1>\n    <span class='title'></span>\n  </h1>\n  <p>\n    <span class='relation'></span>\n  </p>\n</div>\n<div class='current-date'></div>\n<div class='"+e(t(this.chartClassName))+"'></div>\n<div class='footer'>\n  <div class='footer-left'>\n    <a class='nav-play' href=''>"+t(this.t("player","play"))+"</a>\n    <a class='nav-left' href=''>\n      &#x02039;\n      <div class='tooltip'>\n        <div class='destination'>"+t(this.t("player","previous_keyframe"))+"</div>\n        <div class='keyframe-title'>\n          <span class='main-title'>Placeholder</span>\n          <span class='sub-title'>Placeholder</span>\n        </div>\n      </div>\n    </a>\n    <a class='nav-right' href=''>\n      &#x0203A;\n      <div class='tooltip'>\n        <div class='destination'>"+t(this.t("player","next_keyframe"))+"</div>\n        <div class='keyframe-title'>\n          <span class='main-title'>Placeholder</span>\n          <span class='sub-title'>Placeholder</span>\n        </div>\n      </div>\n    </a>\n    <div class='keyframe-number'>\n      <span class='current-index'></span>\n      /\n      <span class='num-keyframes'></span>\n    </div>\n    <div class='dots'>\n      <div class='tooltip'>\n        <div class='keyframe-title'>\n          <span class='main-title'>Placeholder</span>\n          <span class='sub-title'>Placeholder</span>\n        </div>\n      </div>\n    </div>\n    <div class='title'></div>\n  </div>\n  <div class='footer-right'>\n    <a class='toggle-fullscreen' href=''>\n      <div class='fallback'>"+t(this.t("player","fullscreen"))+"</div>\n      <div class='tooltip'>"+t(this.t("player","fullscreen"))+"</div>\n    </a>\n    <a class='toggle-legend' href=''>\n      <div class='fallback'>"+t(this.t("legend","legend"))+"</div>\n      <div class='tooltip'>"+t(this.t("legend","legend"))+"</div>\n    </a>\n  </div>\n</div>"),n.join("\n").replace(/\s([\w-]+)='true'/gm," $1").replace(/\s([\w-]+)='false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(t)}}.call(this)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}]);
//# sourceMappingURL=flow_viz.js.map